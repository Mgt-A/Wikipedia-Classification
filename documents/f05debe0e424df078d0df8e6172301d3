<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15alpha" />
		<meta name="keywords" content="Class (file format),16-bit,32-bit,Basic Multilingual Plane,Byte,Byte-code,C (programming language),Compile,Endianness,Grateful Dead,Grep" />
		<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Class_(file_format)&amp;action=edit" />
		<link rel="edit" title="Edit this page" href="/w/index.php?title=Class_(file_format)&amp;action=edit" />
		<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<link rel="alternate" type="application/rss+xml" title="Wikipedia RSS Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Class (file format) - Wikipedia, the free encyclopedia</title>
		<link rel="stylesheet" href="/skins-1.5/common/shared.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/common/commonPrint.css?207xx" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins-1.5/monobook/main.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/chick/main.css?207xx" type="text/css" media="handheld" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE50Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE55Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins-1.5/monobook/IE60Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins-1.5/monobook/IE70Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js?207xx"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins-1.5";
		var wgArticlePath = "/wiki/$1";
		var wgScriptPath = "/w";
		var wgScript = "/w/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://en.wikipedia.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Class_(file_format)";
		var wgTitle = "Class (file format)";
		var wgAction = "view";
		var wgArticleId = "731735";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 280280296;
		var wgVersion = "1.15alpha";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgMWSuggestTemplate = "http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest";
		var wgDBname = "enwiki";
		var wgSearchNamespaces = [0];
		var wgMWSuggestMessages = ["with suggestions", "no suggestions"];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?207xx"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js?207xx"></script>
		<script type="text/javascript" src="/skins-1.5/common/mwsuggest.js?207xx"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgNotice='';var wgNoticeLocal='';
/*]]>*/</script>		<script type="text/javascript" src="http://upload.wikimedia.org/centralnotice/wikipedia/en/centralnotice.js?207xx"></script>
<style type="text/css">/*<![CDATA[*/
.source-c {line-height: normal;}
.source-c li, .source-c pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for c
 * CSS class: source-c, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie (http://qbnz.com/highlighter)
 */
.source-c .de1, .source-c .de2 {font-family: 'Courier New', Courier, monospace; font-weight: normal;}
.source-c  {}
.source-c .head {}
.source-c .foot {}
.source-c .imp {font-weight: bold; color: red;}
.source-c .ln-xtra {color: #cc0; background-color: #ffc;}
.source-c li {font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;}
.source-c li.li2 {font-weight: bold;}
.source-c .kw1 {color: #b1b100;}
.source-c .kw2 {color: #000000; font-weight: bold;}
.source-c .kw3 {color: #000066;}
.source-c .kw4 {color: #993333;}
.source-c .co1 {color: #808080; font-style: italic;}
.source-c .co2 {color: #339933;}
.source-c .coMULTI {color: #808080; font-style: italic;}
.source-c .es0 {color: #000099; font-weight: bold;}
.source-c .br0 {color: #66cc66;}
.source-c .st0 {color: #ff0000;}
.source-c .nu0 {color: #cc66cc;}
.source-c .me1 {color: #202020;}
.source-c .me2 {color: #202020;}

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
/*]]>*/
</style>		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Class_file_format skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><script type='text/javascript'>if (wgNotice != '') document.writeln(wgNotice);</script></div>		<h1 id="firstHeading" class="firstHeading">Class (file format)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p>In the <a href="/wiki/Java_(programming_language)" title="Java (programming language)">Java programming language</a>, <a href="/wiki/Source_file" title="Source file" class="mw-redirect">source files</a> (.java files) are <a href="/wiki/Compile" title="Compile">compiled</a> into <b>class files</b> which have a .class extension. Since Java is a <a href="/wiki/Platform-independent" title="Platform-independent" class="mw-redirect">platform-independent</a> language, <a href="/wiki/Source_code" title="Source code">source code</a> is compiled into an output file known as <a href="/wiki/Byte-code" title="Byte-code" class="mw-redirect">bytecode</a>, which it stores in a .class file. If a source file has more than one class, each class is compiled into a separate .class file. These .class files can be loaded by any <a href="/wiki/Java_Virtual_Machine" title="Java Virtual Machine">Java Virtual Machine</a> (JVM).</p>
<p>Since JVMs are available for many <a href="/wiki/Platform_(computing)" title="Platform (computing)" class="mw-redirect">platforms</a>, the .class file compiled in one platform will execute in a JVM of another platform. This makes Java platform-independent.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#History"><span class="tocnumber">1</span> <span class="toctext">History</span></a></li>
<li class="toclevel-1"><a href="#File_layout_and_structure"><span class="tocnumber">2</span> <span class="toctext">File layout and structure</span></a>
<ul>
<li class="toclevel-2"><a href="#The_TEN_Sections"><span class="tocnumber">2.1</span> <span class="toctext">The TEN Sections</span></a></li>
<li class="toclevel-2"><a href="#Magic_Number"><span class="tocnumber">2.2</span> <span class="toctext">Magic Number</span></a></li>
<li class="toclevel-2"><a href="#General_layout"><span class="tocnumber">2.3</span> <span class="toctext">General layout</span></a></li>
<li class="toclevel-2"><a href="#C_programming_language_representation"><span class="tocnumber">2.4</span> <span class="toctext">C programming language representation</span></a></li>
<li class="toclevel-2"><a href="#The_constant_pool"><span class="tocnumber">2.5</span> <span class="toctext">The constant pool</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#References"><span class="tocnumber">3</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1"><a href="#Further_reading"><span class="tocnumber">4</span> <span class="toctext">Further reading</span></a></li>
<li class="toclevel-1"><a href="#External_links"><span class="tocnumber">5</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="History" id="History"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=1" title="Edit section: History">edit</a>]</span> <span class="mw-headline">History</span></h2>
<p>As of 2006<sup class="plainlinks noprint asof-tag update" style="display:none;"><a href="http://en.wikipedia.org/w/index.php?title=Class_(file_format)&amp;action=edit" class="external text" title="http://en.wikipedia.org/w/index.php?title=Class_(file_format)&amp;action=edit" rel="nofollow">[update]</a></sup>, the modification of the class file format is being considered under <a href="/wiki/Java_Specification_Request" title="Java Specification Request" class="mw-redirect">Java Specification Request</a> (JSR) 202.<sup id="cite_ref-0" class="reference"><a href="#cite_note-0" title=""><span>[</span>1<span>]</span></a></sup></p>
<p><a name="File_layout_and_structure" id="File_layout_and_structure"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=2" title="Edit section: File layout and structure">edit</a>]</span> <span class="mw-headline">File layout and structure</span></h2>
<p><a name="The_TEN_Sections" id="The_TEN_Sections"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=3" title="Edit section: The TEN Sections">edit</a>]</span> <span class="mw-headline">The TEN Sections</span></h3>
<p>There are 10 basic sections to the Java Class File structure:</p>
<ul>
<li><b>Magic Number</b>: 0xCAFEBABE</li>
<li><b>Version of Class File Format</b>: the minor and major versions of the class file</li>
<li><b>Constant Pool</b>: Pool of constants for the class</li>
<li><b>Access Flags</b>: for example whether the class is abstract, static, etc</li>
<li><b>This Class</b>: The name of the current class</li>
<li><b>Super Class</b>: The name of the super class</li>
<li><b>Interfaces</b>: Any interfaces in the class</li>
<li><b>Fields</b>: Any fields in the class</li>
<li><b>Methods</b>: Any methods in the class</li>
<li><b>Attributes</b>: Any attributes of the class (for example the name of the sourcefile, etc)</li>
</ul>
<p>There is a handy <a href="/wiki/Mnemonic" title="Mnemonic">mnemonic</a> for remembering these 10: <b>M</b>y <b>V</b>ery <b>C</b>ute <b>A</b>nimal <b>T</b>urns <b>S</b>avage <b>I</b>n <b>F</b>ull <b>M</b>oon <b>A</b>reas.</p>
<p>Magic, Version, Constant, Access, This, Super, Interfaces, Fields, Methods, Attributes (MVCATSIFMA)</p>
<p><a name="Magic_Number" id="Magic_Number"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=4" title="Edit section: Magic Number">edit</a>]</span> <span class="mw-headline">Magic Number</span></h3>
<p>Class files are identified by the following 4 <a href="/wiki/Byte" title="Byte">byte</a> <a href="/wiki/Header_(information_technology)" title="Header (information technology)" class="mw-redirect">header</a> (in <a href="/wiki/Hexadecimal" title="Hexadecimal">hexadecimal</a>): <code>CA FE BA BE</code> (the first 4 entries in the above table). The history of this <a href="/wiki/Magic_number_(programming)" title="Magic number (programming)">magic number</a> was explained by <a href="/wiki/James_Gosling" title="James Gosling">James Gosling</a>:<sup id="cite_ref-1" class="reference"><a href="#cite_note-1" title=""><span>[</span>2<span>]</span></a></sup></p>
<blockquote>
<p>"We used to go to lunch at a place called St Michael's Alley. According to local legend, in the deep dark past, the <a href="/wiki/Grateful_Dead" title="Grateful Dead">Grateful Dead</a> used to perform there before they made it big. It was a pretty funky place that was definitely a Grateful Dead Kinda Place. When <a href="/wiki/Jerry_Garcia" title="Jerry Garcia">Jerry</a> died, they even put up a little Buddhist-esque shrine. When we used to go there, we referred to the place as Cafe Dead. Somewhere along the line it was noticed that this was a HEX number. I was re-vamping some file format code and needed a couple of <a href="/wiki/Magic_number_(programming)" title="Magic number (programming)">magic numbers</a>: one for the persistent object file, and one for classes. I used CAFEDEAD for the object file format, and in <a href="/wiki/Grep" title="Grep">grepping</a> for 4 character hex words that fit after "CAFE" (it seemed to be a good theme) I hit on BABE and decided to use it. At that time, it didn't seem terribly important or destined to go anywhere but the trash-can of history. So CAFEBABE became the class file format, and CAFEDEAD was the persistent object format. But the persistent object facility went away, and along with it went the use of CAFEDEAD - it was eventually replaced by <a href="/wiki/Java_remote_method_invocation" title="Java remote method invocation">RMI</a>."</p>
</blockquote>
<p><a name="General_layout" id="General_layout"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=5" title="Edit section: General layout">edit</a>]</span> <span class="mw-headline">General layout</span></h3>
<p>Because the class file contains variable-sized items and does not also contain embedded file offsets (or pointers), it is typically parsed sequentially, from the first byte toward the end. At the lowest level the file format is described in terms of a few fundamental data types:</p>
<ul>
<li><b>u1</b>: an unsigned <a href="/wiki/Octet" title="Octet">8-bit</a> integer</li>
<li><b>u2</b>: an unsigned <a href="/wiki/16-bit" title="16-bit">16-bit</a> integer in <a href="/wiki/Endianness" title="Endianness">big-endian</a> byte order</li>
<li><b>u4</b>: an unsigned <a href="/wiki/32-bit" title="32-bit">32-bit</a> integer in big-endian byte order</li>
<li><b>table</b>: an array of variable-length items of some type. The number of items in the table is identified by a preceding count number, but the size in bytes of the table can only be determined by examining each of its items.</li>
</ul>
<p>Some of these fundamental types are then re-interpreted as higher-level values (such as strings or floating-point numbers), depending on context. There is no enforcement of word alignment, and so no padding bytes are ever used. The overall layout of the class file is as shown in the following table.</p>
<table class="wikitable">
<tr>
<th>byte offset</th>
<th>size</th>
<th>type or value</th>
<th>description</th>
</tr>
<tr>
<td>0</td>
<td rowspan="4">4 bytes</td>
<td>u1 =<br />
0xCA hex</td>
<td rowspan="4">magic number (CAFEBABE) used to identify file as conforming to the class file format</td>
</tr>
<tr>
<td>1</td>
<td>u1 =<br />
0xFE hex</td>
</tr>
<tr>
<td>2</td>
<td>u1 =<br />
0xBA hex</td>
</tr>
<tr>
<td>3</td>
<td>u1 =<br />
0xBE hex</td>
</tr>
<tr>
<td>4</td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">minor version number of the class file format being used</td>
</tr>
<tr>
<td>5</td>
</tr>
<tr>
<td>6</td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">major version number of the class file format being used. J2SE 6.0=50, J2SE 5.0=49, JDK 1.4=48, JDK 1.3=47, JDK 1.2=46, JDK 1.1=45. For details of earlier version numbers see footnote 1 at <a href="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#75883" class="external text" title="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#75883" rel="nofollow">The JavaTM Virtual Machine Specification 2nd edition</a></td>
</tr>
<tr>
<td>7</td>
</tr>
<tr>
<td>8</td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">constant pool count, number of entries in the following constant pool table. This count is at least one greater than the actual number of entries; see following discussion.</td>
</tr>
<tr>
<td>9</td>
</tr>
<tr>
<td>10</td>
<td rowspan="4"><i>cpsize</i> (variable)</td>
<td rowspan="4">table</td>
<td rowspan="4">constant pool table, an array of variable-sized constant pool entries, containing items such as literal numbers, strings, and references to classes or methods. Indexed starting at 1, containing (<i>constant pool count</i> - 1) number of entries in total (see note).</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>10+<i>cpsize</i></td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">access flags, a bitmask</td>
</tr>
<tr>
<td>11+<i>cpsize</i></td>
</tr>
<tr>
<td>12+<i>cpsize</i></td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">identifies <i>this</i> class, index into the constant pool to a "Class"-type entry</td>
</tr>
<tr>
<td>13+<i>cpsize</i></td>
</tr>
<tr>
<td>14+<i>cpsize</i></td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">identifies <i>super</i> class, index into the constant pool to a "Class"-type entry</td>
</tr>
<tr>
<td>15+<i>cpsize</i></td>
</tr>
<tr>
<td>16+<i>cpsize</i></td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">interface count, number of entries in the following interface table</td>
</tr>
<tr>
<td>17+<i>cpsize</i></td>
</tr>
<tr>
<td>18+<i>cpsize</i></td>
<td rowspan="4"><i>isize</i> (variable)</td>
<td rowspan="4">table</td>
<td rowspan="4">interface table, an array of variable-sized interfaces</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>18+<i>cpsize</i>+<i>isize</i></td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">field count, number of entries in the following field table</td>
</tr>
<tr>
<td>19+<i>cpsize</i>+<i>isize</i></td>
</tr>
<tr>
<td>20+<i>cpsize</i>+<i>isize</i></td>
<td rowspan="4"><i>fsize</i> (variable)</td>
<td rowspan="4">table</td>
<td rowspan="4">field table, variable length array of fields</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>20+<i>cpsize</i>+<i>isize</i>+<i>fsize</i></td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">method count, number of entries in the following method table</td>
</tr>
<tr>
<td>21+<i>cpsize</i>+<i>isize</i>+<i>fsize</i></td>
</tr>
<tr>
<td>22+<i>cpsize</i>+<i>isize</i>+<i>fsize</i></td>
<td rowspan="4"><i>msize</i> (variable)</td>
<td rowspan="4">table</td>
<td rowspan="4">method table, variable length array of methods</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>22+<i>cpsize</i>+<i>isize</i>+<i>fsize</i>+<i>msize</i></td>
<td rowspan="2">2 bytes</td>
<td rowspan="2">u2</td>
<td rowspan="2">attribute count, number of entries in the following attribute table</td>
</tr>
<tr>
<td>23+<i>cpsize</i>+<i>isize</i>+<i>fsize</i>+<i>msize</i></td>
</tr>
<tr>
<td>24+<i>cpsize</i>+<i>isize</i>+<i>fsize</i>+<i>msize</i></td>
<td rowspan="4"><i>asize</i> (variable)</td>
<td rowspan="4">table</td>
<td rowspan="4">attribute table, variable length array of attributes</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
<tr>
<td>...</td>
</tr>
</table>
<p><a name="C_programming_language_representation" id="C_programming_language_representation"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=6" title="Edit section: C programming language representation">edit</a>]</span> <span class="mw-headline">C programming language representation</span></h3>
<p>The structure of the class file format can be described using a <a href="/wiki/C_(programming_language)" title="C (programming language)">C</a>-like syntax as follows. It should be noted, however, that this is not exactly C syntax because the tables defined by the class file format do not have fixed length entries in some cases.</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-c">
<span class="kw4">struct</span> Class_File_Format <span class="br0">{</span>
   u4 magic_number;   <span class="co1">//unsigned, 4 byte (32 bit) number that</span>
                       <span class="co1">//indicates the start of a class file</span>
                       <span class="co1">//the actual value is defined in the Java</span>
                       <span class="co1">//Virtual Machine Specification as</span>
                       <span class="co1">//0xCAFEBABE in hexadecimal, which equals</span>
                       <span class="co1">//1100 1010 1111 1110 1011 1010 1011 1110</span>
                       <span class="co1">//in binary, and 3,405,691,582 in decimal</span>
 
   u2 minor_version;   <span class="co1">//unsigned, 2 byte (16 bit) minor version number</span>
   u2 major_version;   <span class="co1">//unsigned, 2 byte (16 bit) major version number</span>
 
   u2 constant_pool_count;   <span class="co1">//unsigned, 2 byte (16 bit) number</span>
                             <span class="co1">//indicating the number of entries</span>
                             <span class="co1">//in the constant pool table, plus</span>
                             <span class="co1">//one</span>
 
   <span class="co1">//the constant pool table</span>
   cp_info constant_pool<span class="br0">[</span>constant_pool_count - <span class="nu0">1</span><span class="br0">]</span>;
 
 
   u2 access_flags;
 
   u2 this_class;
   u2 super_class;
 
 
   u2 interfaces_count;   <span class="co1">//unsigned, 2 byte (16 bit) number</span>
                           <span class="co1">//indicating the number of entries</span>
                           <span class="co1">//in the table of superinterfaces</span>
                           <span class="co1">//of this class</span>
 
   <span class="co1">//the table of superinterfaces of this class</span>
   u2 interfaces<span class="br0">[</span>interfaces_count<span class="br0">]</span>;
 
 
   u2 fields_count;   <span class="co1">//unsigned, 2 byte (16 bit) number</span>
                       <span class="co1">//indicating the number of entries in</span>
                       <span class="co1">//the table of fields of this class</span>
 
   <span class="co1">//the table of fields of this class</span>
   field_info fields<span class="br0">[</span>fields_count<span class="br0">]</span>;
 
 
   u2 methods_count;   <span class="co1">//unsigned, 2 byte (16 bit) number</span>
                       <span class="co1">//indicating the number of entries in</span>
                       <span class="co1">//the table of methods of this class</span>
 
   <span class="co1">//the table of methods of this class</span>
   method_info methods<span class="br0">[</span>methods_count<span class="br0">]</span>;
 
 
   u2 attributes_count;   <span class="co1">//unsigned, 2 byte (16 bit) number</span>
                           <span class="co1">//indicating the number of</span>
                           <span class="co1">//attributes in the attributes</span>
                           <span class="co1">//table</span>
 
   <span class="co1">//the attributes table</span>
   attribute_info attributes<span class="br0">[</span>attributes_count<span class="br0">]</span>;
<span class="br0">}</span>
</pre></div>
<p><a name="The_constant_pool" id="The_constant_pool"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=7" title="Edit section: The constant pool">edit</a>]</span> <span class="mw-headline">The constant pool</span></h3>
<p>The constant pool table is where most of the literal constant values are stored. This includes values such as numbers of all sorts, strings, identifier names, references to classes and methods, and type descriptors. All indexes, or references, to specific constants in the constant pool table are given by 16-bit (type u2) numbers, where index value 1 refers to the first constant in the table (index value 0 is invalid).</p>
<p>Due to historic choices made during the file format development, the number of constants in the constant pool table is not actually the same as the constant pool count which precedes the table. First, the table is indexed starting at 1 (rather than 0), so the count should actually be interpreted as the maximum index. Additionally a couple types of constants, namely longs and doubles, take up two consecutive slots in the table, although the second such slot is a phantom index that is never directly used.</p>
<p>The type of each item (constant) in the constant pool is identified by an initial byte <i>tag</i>. The number of bytes following this tag and their interpretation are then dependent upon the tag value. The legal constant types and their tag values are:</p>
<table class="wikitable">
<tr>
<th>tag byte</th>
<th>additional bytes</th>
<th>description of constant</th>
</tr>
<tr>
<td>1</td>
<td>2+<i>x</i> bytes<br />
(variable)</td>
<td>UTF-8 (Unicode) string: a character string prefixed by a 16-bit number (type u2) indicating the number of bytes in the encoded string which immediately follows (which may be different than the number of characters). Note that the encoding used is not actually <a href="/wiki/UTF-8" title="UTF-8">UTF-8</a>, but involves a slight modification of the Unicode standard encoding form.</td>
</tr>
<tr>
<td>3</td>
<td>4 bytes</td>
<td>Integer: a signed 32-bit <a href="/wiki/Two%27s_complement" title="Two's complement">two's complement</a> number in big-endian format</td>
</tr>
<tr>
<td>4</td>
<td>4 bytes</td>
<td>Float: a 32-bit single-precision <a href="/wiki/IEEE_754" title="IEEE 754" class="mw-redirect">IEEE 754</a> floating-point number</td>
</tr>
<tr>
<td>5</td>
<td>8 bytes</td>
<td>Long: a signed 64-bit two's complement number in big-endian format (takes two slots in the constant pool table)</td>
</tr>
<tr>
<td>6</td>
<td>8 bytes</td>
<td>Double: a 64-bit double-precision IEEE 754 floating-point number (takes two slots in the constant pool table)</td>
</tr>
<tr>
<td>7</td>
<td>2 bytes</td>
<td>Class reference: an index within the constant pool to a UTF-8 string containing the fully-qualified class name (in <i>internal format</i>)</td>
</tr>
<tr>
<td>8</td>
<td>2 bytes</td>
<td>String reference: an index within the constant pool to a UTF-8 string</td>
</tr>
<tr>
<td>9</td>
<td>4 bytes</td>
<td>Field reference: two indexes within the constant pool, the first pointing to a Class reference, the second to a Name and Type descriptor.</td>
</tr>
<tr>
<td>10</td>
<td>4 bytes</td>
<td>Method reference: two indexes within the constant pool, the first pointing to a Class reference, the second to a Name and Type descriptor.</td>
</tr>
<tr>
<td>11</td>
<td>4 bytes</td>
<td>Interface method reference: two indexes within the constant pool, the first pointing to a Class reference, the second to a Name and Type descriptor.</td>
</tr>
<tr>
<td>12</td>
<td>4 bytes</td>
<td>Name and type descriptor: two indexes to UTF-8 strings within the constant pool, the first representing a name (identifier) and the second a specially-encoded type descriptor.</td>
</tr>
</table>
<p>There are only two integral constant types, integer and long. Other integral types appearing in the high-level language, such as boolean, byte, and short must be represented as an integer constant.</p>
<p>Class names in Java, when fully qualified, are traditionally dot-separated, such as "java.lang.Object". However within the low-level Class reference constants, an internal form appears which uses slashes instead, such as "java/lang/Object".</p>
<p>The Unicode strings, despite the moniker "UTF-8 string", are not actually encoded according to the Unicode standard, although it is similar. There are two differences (see <a href="/wiki/UTF-8#Java" title="UTF-8">UTF-8</a> for a complete discussion). The first is that the codepoint U+0000 is encoded as the two-byte sequence <code>C0 80</code> (in hex) instead of the standard single-byte encoding <code>00</code>. The second difference is that supplementary characters (those outside the <a href="/wiki/Basic_Multilingual_Plane" title="Basic Multilingual Plane" class="mw-redirect">BMP</a> at U+10000 and above) are encoded using a surrogate-pair construction similar to <a href="/wiki/UTF-16" title="UTF-16" class="mw-redirect">UTF-16</a> rather than being directly encoded using UTF-8. In this case each of the two surrogates is encoded separately in UTF-8. For example U+1D11E is encoded as the 6-byte sequence <code>ED A0 B4 ED B4 9E</code>, rather than the correct 4-byte UTF-8 encoding of <code>f0 9d 84 9e</code>.</p>
<p><a name="References" id="References"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=8" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2>
<div class="references-small">
<ol class="references">
<li id="cite_note-0"><b><a href="#cite_ref-0" title="">^</a></b> <a href="http://www.jcp.org/en/jsr/detail?id=202" class="external text" title="http://www.jcp.org/en/jsr/detail?id=202" rel="nofollow">JSR 202</a> Java Class File Specification Update</li>
<li id="cite_note-1"><b><a href="#cite_ref-1" title="">^</a></b> <a href="http://radio.weblogs.com/0100490/2003/01/28.html" class="external text" title="http://radio.weblogs.com/0100490/2003/01/28.html" rel="nofollow">James Gosling private communication to Bill Bumgarner</a></li>
</ol>
</div>
<p><a name="Further_reading" id="Further_reading"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=9" title="Edit section: Further reading">edit</a>]</span> <span class="mw-headline">Further reading</span></h2>
<ul>
<li><cite style="font-style:normal" class="book" id="CITEREFTim_Lindholm.2C_Frank_Yellin1999">Tim Lindholm, Frank Yellin (1999). <i><a href="http://java.sun.com/docs/books/vmspec/2nd-edition/html/VMSpecTOC.doc.html" class="external text" title="http://java.sun.com/docs/books/vmspec/2nd-edition/html/VMSpecTOC.doc.html" rel="nofollow">The Java Virtual Machine Specification</a></i> (Second Edition ed.). Prentice Hall. <a href="/wiki/Special:BookSources/0201432943" class="internal">ISBN 0-201-43294-3</a><span class="printonly">. <a href="http://java.sun.com/docs/books/vmspec/2nd-edition/html/VMSpecTOC.doc.html" class="external free" title="http://java.sun.com/docs/books/vmspec/2nd-edition/html/VMSpecTOC.doc.html" rel="nofollow">http://java.sun.com/docs/books/vmspec/2nd-edition/html/VMSpecTOC.doc.html</a></span><span class="reference-accessdate">. Retrieved on 2008-10-13</span>.</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=The+Java+Virtual+Machine+Specification&amp;rft.aulast=Tim+Lindholm%2C+Frank+Yellin&amp;rft.au=Tim+Lindholm%2C+Frank+Yellin&amp;rft.date=1999&amp;rft.edition=Second+Edition&amp;rft.pub=Prentice+Hall&amp;rft.isbn=0-201-43294-3&amp;rft_id=http%3A%2F%2Fjava.sun.com%2Fdocs%2Fbooks%2Fvmspec%2F2nd-edition%2Fhtml%2FVMSpecTOC.doc.html&amp;rfr_id=info:sid/en.wikipedia.org:Class_(file_format)"><span style="display: none;">&#160;</span></span> The official defining document of the <a href="/wiki/Java_Virtual_Machine" title="Java Virtual Machine">Java Virtual Machine</a>, which includes the class file format. Both the first and second editions of the book are freely available <a href="http://java.sun.com/docs/books/vmspec/" class="external text" title="http://java.sun.com/docs/books/vmspec/" rel="nofollow">online for viewing and/or download</a>.</li>
</ul>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Class_(file_format)&amp;action=edit&amp;section=10" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="http://www.drgarbage.com/bytecode-visualizer-lt.html" class="external text" title="http://www.drgarbage.com/bytecode-visualizer-lt.html" rel="nofollow">Bytecode Visualizer LT - viewer for Java class files (free Eclipse plugin)</a></li>
</ul>


<!-- 
NewPP limit report
Preprocessor node count: 613/1000000
Post-expand include size: 5057/2048000 bytes
Template argument size: 1618/2048000 bytes
Expensive parser function count: 0/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:731735-0!1!0!default!!en!2 and timestamp 20090419204758 -->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org/wiki/Class_(file_format)">http://en.wikipedia.org/wiki/Class_(file_format)</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/wiki/Category:Java_platform" title="Category:Java platform">Java platform</a></span> | <span dir='ltr'><a href="/wiki/Category:Computer_file_formats" title="Category:Computer file formats">Computer file formats</a></span></div><div id="mw-hidden-catlinks" class="mw-hidden-cats-hidden">Hidden categories:&#32;<span dir='ltr'><a href="/wiki/Category:Articles_containing_potentially_dated_statements_from_2006" title="Category:Articles containing potentially dated statements from 2006">Articles containing potentially dated statements from 2006</a></span> | <span dir='ltr'><a href="/wiki/Category:All_articles_containing_potentially_dated_statements" title="Category:All articles containing potentially dated statements">All articles containing potentially dated statements</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Class_(file_format)" title="View the content page [c]" accesskey="c">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:Class_(file_format)" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=Class_(file_format)&amp;action=edit" title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e">Edit this page</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=Class_(file_format)&amp;action=history" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Class_(file_format)" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://upload.wikimedia.org/wikipedia/en/b/bc/Wiki.png);" href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
				<li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
				<li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Wikipedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if one exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search Wikipedia for this text" />
			</div></form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-interaction'>
		<h5>Interaction</h5>
		<div class='pBody'>
			<ul>
				<li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
				<li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-contact"><a href="/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Donate" title="Support us">Donate to Wikipedia</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Class_(file_format)" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Class_(file_format)" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=Class_(file_format)&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=Class_(file_format)&amp;oldid=280280296" title="Permanent link to this version of the page">Permanent link</a></li><li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Class_(file_format)&amp;id=280280296">Cite this page</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>Languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-fr"><a href="http://fr.wikipedia.org/wiki/Class_(format_de_fichier)">Français</a></li>
				<li class="interwiki-nl"><a href="http://nl.wikipedia.org/wiki/Classfile">Nederlands</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 28 March 2009, at 20:41 (UTC).</li>
					<li id="copyright">All text is available under the terms of the <a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_the_GNU_Free_Documentation_License" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Copyrights" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc.</a>, a U.S. registered <a class='internal' href="http://en.wikipedia.org/wiki/501%28c%29#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="http://en.wikipedia.org/wiki/Non-profit_organization" title="Non-profit organization">nonprofit</a> <a href="http://en.wikipedia.org/wiki/Charitable_organization" title="Charitable organization">charity</a>.<br /></li>
					<li id="privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
					<li id="disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served by srv210 in 0.042 secs. --></body></html>
