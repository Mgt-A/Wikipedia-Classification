<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15alpha" />
		<meta name="keywords" content="Binary logarithm,Algorithm,Analysis of algorithms,Big O notation,Binary numeral system,Binary search,Binary search tree,Bit,C (programming language),Calculator,Common logarithm" />
		<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Binary_logarithm&amp;action=edit" />
		<link rel="edit" title="Edit this page" href="/w/index.php?title=Binary_logarithm&amp;action=edit" />
		<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<link rel="alternate" type="application/rss+xml" title="Wikipedia RSS Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Binary logarithm - Wikipedia, the free encyclopedia</title>
		<link rel="stylesheet" href="/skins-1.5/common/shared.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/common/commonPrint.css?207xx" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins-1.5/monobook/main.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/chick/main.css?207xx" type="text/css" media="handheld" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE50Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE55Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins-1.5/monobook/IE60Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins-1.5/monobook/IE70Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js?207xx"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins-1.5";
		var wgArticlePath = "/wiki/$1";
		var wgScriptPath = "/w";
		var wgScript = "/w/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://en.wikipedia.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Binary_logarithm";
		var wgTitle = "Binary logarithm";
		var wgAction = "view";
		var wgArticleId = "249992";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 280286655;
		var wgVersion = "1.15alpha";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgMWSuggestTemplate = "http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest";
		var wgDBname = "enwiki";
		var wgSearchNamespaces = [0];
		var wgMWSuggestMessages = ["with suggestions", "no suggestions"];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?207xx"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js?207xx"></script>
		<script type="text/javascript" src="/skins-1.5/common/mwsuggest.js?207xx"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgNotice='';var wgNoticeLocal='';
/*]]>*/</script>		<script type="text/javascript" src="http://upload.wikimedia.org/centralnotice/wikipedia/en/centralnotice.js?207xx"></script>
<style type="text/css">/*<![CDATA[*/
.source-c {line-height: normal;}
.source-c li, .source-c pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for c
 * CSS class: source-c, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie (http://qbnz.com/highlighter)
 */
.source-c .de1, .source-c .de2 {font-family: 'Courier New', Courier, monospace; font-weight: normal;}
.source-c  {}
.source-c .head {}
.source-c .foot {}
.source-c .imp {font-weight: bold; color: red;}
.source-c .ln-xtra {color: #cc0; background-color: #ffc;}
.source-c li {font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;}
.source-c li.li2 {font-weight: bold;}
.source-c .kw1 {color: #b1b100;}
.source-c .kw2 {color: #000000; font-weight: bold;}
.source-c .kw3 {color: #000066;}
.source-c .kw4 {color: #993333;}
.source-c .co1 {color: #808080; font-style: italic;}
.source-c .co2 {color: #339933;}
.source-c .coMULTI {color: #808080; font-style: italic;}
.source-c .es0 {color: #000099; font-weight: bold;}
.source-c .br0 {color: #66cc66;}
.source-c .st0 {color: #ff0000;}
.source-c .nu0 {color: #cc66cc;}
.source-c .me1 {color: #202020;}
.source-c .me2 {color: #202020;}

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
/*]]>*/
</style><style type="text/css">/*<![CDATA[*/
.source-python {line-height: normal;}
.source-python li, .source-python pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for python
 * CSS class: source-python, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie (http://qbnz.com/highlighter)
 */
.source-python .de1, .source-python .de2 {font-family: 'Courier New', Courier, monospace; font-weight: normal;}
.source-python  {}
.source-python .head {}
.source-python .foot {}
.source-python .imp {font-weight: bold; color: red;}
.source-python .ln-xtra {color: #cc0; background-color: #ffc;}
.source-python li {font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;}
.source-python li.li2 {font-weight: bold;}
.source-python .kw1 {color: #ff7700;font-weight:bold;}
.source-python .kw2 {color: #008000;}
.source-python .kw3 {color: #dc143c;}
.source-python .kw4 {color: #0000cd;}
.source-python .co1 {color: #808080; font-style: italic;}
.source-python .coMULTI {color: #808080; font-style: italic;}
.source-python .es0 {color: #000099; font-weight: bold;}
.source-python .br0 {color: #66cc66;}
.source-python .st0 {color: #483d8b;}
.source-python .nu0 {color: #ff4500;}
.source-python .me1 {color: black;}

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
/*]]>*/
</style>		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Binary_logarithm skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><script type='text/javascript'>if (wgNotice != '') document.writeln(wgNotice);</script></div>		<h1 id="firstHeading" class="firstHeading">Binary logarithm</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<div class="thumb tright">
<div class="thumbinner" style="width:202px;"><a href="/wiki/File:Binary_logarithm_plot.png" class="image" title="Plot of log2 x"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Binary_logarithm_plot.png/200px-Binary_logarithm_plot.png" width="200" height="148" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:Binary_logarithm_plot.png" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
Plot of log<sub>2</sub> <i>x</i></div>
</div>
</div>
<p>In <a href="/wiki/Mathematics" title="Mathematics">mathematics</a>, the <b>binary logarithm</b> (log<sub>2</sub> <i>n</i>) is the <a href="/wiki/Logarithm" title="Logarithm">logarithm</a> for <a href="/wiki/Binary_numeral_system" title="Binary numeral system">base 2</a>. It is the <a href="/wiki/Inverse_function" title="Inverse function">inverse function</a> of <img class="tex" alt="n \mapsto 2^n" src="http://upload.wikimedia.org/math/5/c/7/5c788a9c63f6cd8f61b7eb1837192ad2.png" />.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Applications"><span class="tocnumber">1</span> <span class="toctext">Applications</span></a>
<ul>
<li class="toclevel-2"><a href="#Information_theory"><span class="tocnumber">1.1</span> <span class="toctext">Information theory</span></a></li>
<li class="toclevel-2"><a href="#Computational_complexity"><span class="tocnumber">1.2</span> <span class="toctext">Computational complexity</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Using_calculators"><span class="tocnumber">2</span> <span class="toctext">Using calculators</span></a></li>
<li class="toclevel-1"><a href="#Algorithm"><span class="tocnumber">3</span> <span class="toctext">Algorithm</span></a>
<ul>
<li class="toclevel-2"><a href="#Integer"><span class="tocnumber">3.1</span> <span class="toctext">Integer</span></a></li>
<li class="toclevel-2"><a href="#Real_number"><span class="tocnumber">3.2</span> <span class="toctext">Real number</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Example_code"><span class="tocnumber">4</span> <span class="toctext">Example code</span></a></li>
<li class="toclevel-1"><a href="#References"><span class="tocnumber">5</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Applications" id="Applications"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=1" title="Edit section: Applications">edit</a>]</span> <span class="mw-headline">Applications</span></h2>
<p><a name="Information_theory" id="Information_theory"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=2" title="Edit section: Information theory">edit</a>]</span> <span class="mw-headline">Information theory</span></h3>
<p>The binary logarithm is often used in <a href="/wiki/Computer_science" title="Computer science">computer science</a> and <a href="/wiki/Information_theory" title="Information theory">information theory</a> (where it is frequently written <b>lg <i>n</i></b>, or <b>ld <i>n</i></b>, from <a href="/wiki/Latin" title="Latin">Latin</a> <i>logarithmus dualis</i> [although the ISO specification is that it should be <b>lb (<i>n</i>)</b>, lg (<i>n</i>) being reserved for log<sub>10</sub> <i>n</i>] ), because it is closely connected to the <a href="/wiki/Binary_numeral_system" title="Binary numeral system">binary numeral system</a>. The number of digits (<a href="/wiki/Bit" title="Bit">bits</a>) in the binary representation of a positive integer <i>n</i> is the <a href="/wiki/Floor_and_ceiling_functions" title="Floor and ceiling functions">integral part</a> of 1 + lg <i>n</i>, i.e.</p>
<dl>
<dd><img class="tex" alt=" \lfloor \lg n\rfloor + 1." src="http://upload.wikimedia.org/math/5/0/8/508324345f8dd483e454e3d9516c837a.png" /></dd>
</dl>
<p>In information theory, the definition of the amount of <a href="/wiki/Self-information" title="Self-information">self-information</a> and <a href="/wiki/Information_entropy" title="Information entropy" class="mw-redirect">information entropy</a> involves the binary logarithm; this is needed because the unit of information, the bit, refers to information resulting from an occurrence of one of two equally probable alternatives.</p>
<p><a name="Computational_complexity" id="Computational_complexity"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=3" title="Edit section: Computational complexity">edit</a>]</span> <span class="mw-headline">Computational complexity</span></h3>
<p>The binary logarithm also frequently appears in the <a href="/wiki/Analysis_of_algorithms" title="Analysis of algorithms">analysis of algorithms</a>. If a number <i>n</i> greater than 1 is divided by 2 repeatedly, the number of iterations needed to get a value at most 1 is again the integral part of lg <i>n</i>. This idea is used in the analysis of several <a href="/wiki/Algorithm" title="Algorithm">algorithms</a> and <a href="/wiki/Data_structure" title="Data structure">data structures</a>. For example, in <a href="/wiki/Binary_search" title="Binary search" class="mw-redirect">binary search</a>, the size of the problem to be solved is halved with each iteration, and therefore roughly lg <i>n</i> iterations are needed to obtain a problem of size 1, which is solved easily in constant time. Similarly, a perfectly balanced <a href="/wiki/Binary_search_tree" title="Binary search tree">binary search tree</a> containing <i>n</i> elements has height lg <i>n</i>+1.</p>
<p>However, the running time of an algorithm is usually expressed in <a href="/wiki/Big_O_notation" title="Big O notation">big O notation</a>, ignoring constant factors. Since log<sub>2</sub> <i>n</i> = (1/log<sub>k</sub> 2)log<sub>k</sub> <i>n</i>, where <i>k</i> can be any number greater than 1, algorithms that run in <i>O</i>(log<sub>2</sub> <i>n</i>) time can also be said to run in, say, <i>O</i>(log<sub>13</sub> <i>n</i>) time. The base of the logarithm in expressions such as <i>O</i>(log <i>n</i>) or <i>O</i>(<i>n</i> log <i>n</i>) is therefore not important. In other contexts, though, the base of the logarithm needs to be specified. For example <i>O</i>(2<sup>lg <i>n</i></sup>) is not the same as <i>O</i>(2<sup>ln <i>n</i></sup>) because the former is equal to <i>O</i>(<i>n</i>) and the latter to <i>O</i>(<i>n</i><sup>0.6931...</sup>).</p>
<p>Algorithms with running time <i>n</i> lg <i>n</i> are sometimes called <a href="/wiki/Linearithmic" title="Linearithmic" class="mw-redirect">linearithmic</a>. Some examples of algorithms with running time <i>O</i>(lg <i>n</i>) or <i>O</i>(<i>n</i> lg <i>n</i>) are:</p>
<ul>
<li><a href="/wiki/Quicksort" title="Quicksort">average time quicksort</a></li>
<li><a href="/wiki/Binary_search_tree" title="Binary search tree">binary search trees</a></li>
<li><a href="/wiki/Merge_sort" title="Merge sort">merge sort</a></li>
<li><a href="/wiki/Monge_array" title="Monge array">Monge array</a> calculation</li>
</ul>
<p><a name="Using_calculators" id="Using_calculators"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=4" title="Edit section: Using calculators">edit</a>]</span> <span class="mw-headline">Using calculators</span></h2>
<p>An easy way to calculate the log<sub>2</sub>(<i>n</i>) on <a href="/wiki/Calculator" title="Calculator">calculators</a> that do not have a log<sub>2</sub>-function is to use the <a href="/wiki/Natural_logarithm" title="Natural logarithm">natural logarithm</a> "ln" or the <a href="/wiki/Common_logarithm" title="Common logarithm">common logarithm</a> "log" functions, which are found on most "scientific calculators". The <a href="/wiki/Logarithm#Change_of_base" title="Logarithm">formulae</a> for this are:</p>
<dl>
<dd>log<sub>2</sub>(<i>n</i>) = ln(<i>n</i>)/ln(2) = log(<i>n</i>)/log(2)</dd>
</dl>
<p>so</p>
<dl>
<dd>log<sub>2</sub>(<i>n</i>) = log<sub><i>e</i></sub>(<i>n</i>)×1.442695... = log<sub>10</sub>(<i>n</i>)×3.321928...</dd>
</dl>
<p>and this produces the curiosity that log<sub>2</sub>(<i>n</i>) is within 0.6% of log<sub><i>e</i></sub>(<i>n</i>)+log<sub>10</sub>(<i>n</i>). log<sub><i>e</i></sub>(<i>n</i>)+log<sub>10</sub>(<i>n</i>) is actually log<sub>2.008135929...</sub>(<i>n</i>) where the base is <i>e</i><sup>log<sub>10<i>e</i></sub>(10)</sup></p>
<p><a name="Algorithm" id="Algorithm"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=5" title="Edit section: Algorithm">edit</a>]</span> <span class="mw-headline">Algorithm</span></h2>
<p><a name="Integer" id="Integer"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=6" title="Edit section: Integer">edit</a>]</span> <span class="mw-headline">Integer</span></h3>
<p>For integer <a href="/wiki/Domain_(mathematics)" title="Domain (mathematics)">domain</a> and <a href="/wiki/Range_(mathematics)" title="Range (mathematics)">range</a>, the binary logarithm can be computed <a href="/wiki/Rounding" title="Rounding">rounding</a> up, or rounding down. These two forms of integer binary logarithm are related by this formula:</p>
<dl>
<dd><img class="tex" alt=" \lfloor \log_2(n) \rfloor = \lceil \log_2(n + 1) \rceil - 1, \mbox{where }n \ge 1." src="http://upload.wikimedia.org/math/0/6/3/063bf9cadbb238d154b77b871e3d1d95.png" /> <sup id="cite_ref-0" class="reference"><a href="#cite_note-0" title=""><span>[</span>1<span>]</span></a></sup></dd>
</dl>
<p>The following example code in the <a href="/wiki/C_(programming_language)" title="C (programming language)">C language</a> computes the binary logarithm (rounding down) of an integer, rounded down. <sup id="cite_ref-1" class="reference"><a href="#cite_note-1" title=""><span>[</span>2<span>]</span></a></sup> The operator '&gt;&gt;' represents 'unsigned right shift'. The rounding down form of binary logarithm is identical to computing the position of the most significant 1 bit.</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-c">
<span class="coMULTI">/**
 * Returns the floor form of binary logarithm for a 32 bit integer.
 * -1 is returned if n is 0.
 */</span>
<span class="kw4">int</span> floorLog2<span class="br0">(</span><span class="kw4">unsigned</span> <span class="kw4">int</span> n<span class="br0">)</span> <span class="br0">{</span>
  <span class="kw4">int</span> pos = <span class="nu0">0</span>;
  <span class="kw1">if</span> <span class="br0">(</span>n &gt;= <span class="nu0">1</span>&lt;&lt;<span class="nu0">16</span><span class="br0">)</span> <span class="br0">{</span> n &gt;&gt;= <span class="nu0">16</span>; pos += <span class="nu0">16</span>; <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>n &gt;= <span class="nu0">1</span>&lt;&lt; <span class="nu0">8</span><span class="br0">)</span> <span class="br0">{</span> n &gt;&gt;=  <span class="nu0">8</span>; pos +=  <span class="nu0">8</span>; <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>n &gt;= <span class="nu0">1</span>&lt;&lt; <span class="nu0">4</span><span class="br0">)</span> <span class="br0">{</span> n &gt;&gt;=  <span class="nu0">4</span>; pos +=  <span class="nu0">4</span>; <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>n &gt;= <span class="nu0">1</span>&lt;&lt; <span class="nu0">2</span><span class="br0">)</span> <span class="br0">{</span> n &gt;&gt;=  <span class="nu0">2</span>; pos +=  <span class="nu0">2</span>; <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>n &gt;= <span class="nu0">1</span>&lt;&lt; <span class="nu0">1</span><span class="br0">)</span> <span class="br0">{</span>           pos +=  <span class="nu0">1</span>; <span class="br0">}</span>
  <span class="kw1">return</span> <span class="br0">(</span><span class="br0">(</span>n == <span class="nu0">0</span><span class="br0">)</span> ? <span class="br0">(</span><span class="nu0">-1</span><span class="br0">)</span> : pos<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p><a name="Real_number" id="Real_number"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=7" title="Edit section: Real number">edit</a>]</span> <span class="mw-headline">Real number</span></h3>
<p>For a general <a href="/wiki/Real_number" title="Real number">real number</a>, the binary logarithm may be computed in two parts:</p>
<ol>
<li>Compute the <a href="/wiki/Integer" title="Integer">integer</a> part, <img class="tex" alt="\lfloor\lg(x)\rfloor" src="http://upload.wikimedia.org/math/d/4/f/d4febff0d3afd6dacf44e5627cb3e3f0.png" /></li>
<li>Compute the fractional part</li>
</ol>
<p>Computing the integral part is straightforward. For any <span class="texhtml"><i>x</i> &gt; 0</span>, there exists a unique integer <span class="texhtml"><i>n</i></span> such that <img class="tex" alt="2^n \leq x &lt; 2^{n+1}" src="http://upload.wikimedia.org/math/e/5/b/e5b8859d39addbd9bcf637373f89bf48.png" />, or equivalently <img class="tex" alt="1 \leq 2^{-n}x &lt; 2" src="http://upload.wikimedia.org/math/a/8/6/a861f4693c086ee90d3210bca22c27b9.png" />. Now the integral part of the logarithm is simply <span class="texhtml"><i>n</i></span>, and the fractional part is <span class="texhtml">lg(2 <sup>− <i>n</i></sup><i>x</i>)</span>. In other words:</p>
<dl>
<dd><img class="tex" alt="\lg x = n + \lg(y) \quad\text{where } y = 2^{-n}x \text{ and } y \in [1,2)" src="http://upload.wikimedia.org/math/b/1/1/b115490d387480aefee6ed4613cde3cd.png" /></dd>
</dl>
<p>The fractional part of the result is <span class="texhtml">lg<i>y</i></span>, and can be computed <a href="/wiki/Recursion" title="Recursion">recursively</a>, using only elementary multiplication and division. To compute the fractional part:</p>
<ol>
<li>We start with a real number <img class="tex" alt="y \in [1,2)" src="http://upload.wikimedia.org/math/8/e/b/8eb603f34caf26472b2a481feae2129a.png" />.</li>
<li>Now square <span class="texhtml"><i>y</i></span> repeatedly until the result is <img class="tex" alt="\geq 2" src="http://upload.wikimedia.org/math/3/9/1/391e906f1823eee8edad71388b577faa.png" />. Call the result <span class="texhtml"><i>z</i></span>, and let <span class="texhtml"><i>m</i></span> be the number of squarings needed.</li>
<li>Now <img class="tex" alt="z = y^{2\uparrow m}" src="http://upload.wikimedia.org/math/d/f/c/dfc16f9ff9c31aaff700429ffa40f222.png" /> and so <span class="texhtml">lg<i>z</i> = 2<sup><i>m</i></sup>lg<i>y</i></span>. Thus:
<dl>
<dd><img class="tex" alt="\lg y = \frac{ \lg z }{ 2^m } = \frac{ 1 + \lg(z/2) }{ 2^m }" src="http://upload.wikimedia.org/math/1/e/5/1e5f0c42232ee387b94724870349e9ea.png" /></dd>
<dd><span class="texhtml">lg<i>y</i> = 2 <sup>− <i>m</i></sup> + 2 <sup>− <i>m</i></sup>lg(<i>z</i> / 2)</span></dd>
</dl>
</li>
<li>Notice that <span class="texhtml"><i>z</i> / 2</span> is once again a real number in the interval <span class="texhtml">[1,2)</span>.</li>
<li>If <span class="texhtml"><i>z</i> / 2 &lt; 1 + ε</span> (where <span class="texhtml">ε</span> is the desired precision), then <img class="tex" alt="\lg(z/2)\approx 0" src="http://upload.wikimedia.org/math/5/6/1/5619d715c401ee8ef6c2b30fb2d0bd06.png" /> and we are done. Otherwise, return to step 1, and compute the binary logarithm of <span class="texhtml"><i>z</i> / 2</span> using the same method recursively.</li>
</ol>
<p>The result of all of this is:</p>
<dl>
<dd><img class="tex" alt="\lg x = n + 2^{-m_1} \left( 1 + 2^{-m_2} \left( 1 + 2^{-m_3} \left( 1 + \cdots \right)\right)\right)" src="http://upload.wikimedia.org/math/5/8/3/5832def901051bbc4dd3e09d82d7d1c7.png" /></dd>
</dl>
<p>After computing <img class="tex" alt="m_{1\ldots i}" src="http://upload.wikimedia.org/math/0/6/1/061fdb63832be283c7757371256018a8.png" />, the error in the result is less than <img class="tex" alt="2^{-(m_1+m_2+\ldots+m_i)}" src="http://upload.wikimedia.org/math/9/f/3/9f30cc48e204097445714ba8c1b192ad.png" />.</p>
<p><a name="Example_code" id="Example_code"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=8" title="Edit section: Example code">edit</a>]</span> <span class="mw-headline">Example code</span></h2>
<p>The following <a href="/wiki/Python_(programming_language)" title="Python (programming language)">Python</a> program computes the binary logarithm using the recursive method outlined above, showing the steps along the way:<sup id="cite_ref-2" class="reference"><a href="#cite_note-2" title=""><span>[</span>3<span>]</span></a></sup></p>
<div dir="ltr" style="text-align: left;">
<pre class="source-python">
<span class="kw1">def</span> lg<span class="br0">(</span>x<span class="br0">)</span>:
    ip = <span class="nu0">0</span>
    rem = x
 
    <span class="co1"># Integer part</span>
    <span class="kw1">while</span> rem&lt;<span class="nu0">1</span>:
        ip -= <span class="nu0">1</span>
        rem *= <span class="nu0">2</span>
    <span class="kw1">while</span> rem&gt;=<span class="nu0">2</span>:
        ip += <span class="nu0">1</span>
        rem /= <span class="nu0">2</span>
    <span class="kw1">print</span> <span class="st0">"lg(%g) = %d + lg(%g)"</span> % <span class="br0">(</span>x, ip, rem<span class="br0">)</span>
 
    <span class="co1"># Fractional part</span>
    res = ip + frac_lg<span class="br0">(</span>rem<span class="br0">)</span>
 
    <span class="kw1">return</span> res
 
<span class="kw1">def</span> frac_lg<span class="br0">(</span>x, fp=<span class="nu0">1.0</span>, tol=1e<span class="nu0">-10</span><span class="br0">)</span>:
    <span class="kw1">assert</span> <span class="nu0">1</span>&lt;=x&lt;<span class="nu0">2</span>
 
    <span class="co1"># terminate the recursion if we're close enough</span>
    <span class="kw1">if</span> fp&lt;tol:
        <span class="kw1">return</span> <span class="nu0">0</span>
 
    <span class="co1"># square until &gt;= 2</span>
    rem = x
    m = <span class="nu0">0</span>
    <span class="kw1">while</span> rem &lt; <span class="nu0">2</span>:
        m += <span class="nu0">1</span>
        fp /= <span class="nu0">2</span>
        rem *= rem
 
    <span class="co1"># now:</span>
    <span class="co1">#   rem = x**2**m, fp = 2**-m</span>
    <span class="co1">#   =&gt; lg(rem) = lg(x)*2**m = lg(x)/fp</span>
    <span class="co1">#   =&gt; lg(x) = fp * ( lg(rem/2) + 1 )</span>
    <span class="co1">#            = fp + fp*lg(rem/2)</span>
    <span class="co1"># time for recursion!</span>
 
    <span class="kw1">print</span> <span class="st0">"lg(x=%g) <span class="es0">\t</span>= 2**%d * ( 1 + lg(%g) )"</span> % <span class="br0">(</span>x, -m, rem/<span class="nu0">2</span><span class="br0">)</span>
    <span class="kw1">return</span> fp + frac_lg<span class="br0">(</span>rem/<span class="nu0">2</span>, fp<span class="br0">)</span>
 
<span class="kw1">if</span> __name__ == <span class="st0">'__main__'</span>:
  value = <span class="nu0">4.5</span>
  <span class="kw1">print</span> <span class="st0">"   X  ="</span>, value
  result = lg<span class="br0">(</span>value<span class="br0">)</span>
  <span class="kw1">print</span> <span class="st0">"lg(X) ="</span>, result
 
<span class="co1"># Sample output</span>
<span class="co1">#</span>
<span class="co1">#    $ python log2.py </span>
<span class="co1">#         X  = 4.5</span>
<span class="co1">#      lg(4.5) = 2 + lg(1.125)</span>
<span class="co1">#      lg(x=1.125) 	= 2**-3 * ( 1 + lg(1.28289) )</span>
<span class="co1">#      lg(x=1.28289) 	= 2**-2 * ( 1 + lg(1.35435) )</span>
<span class="co1">#      lg(x=1.35435) 	= 2**-2 * ( 1 + lg(1.68226) )</span>
<span class="co1">#      lg(x=1.68226) 	= 2**-1 * ( 1 + lg(1.415) )</span>
<span class="co1">#      lg(x=1.415) 	= 2**-1 * ( 1 + lg(1.00111) )</span>
<span class="co1">#      lg(x=1.00111) 	= 2**-10 * ( 1 + lg(1.55742) )</span>
<span class="co1">#      lg(x=1.55742) 	= 2**-1 * ( 1 + lg(1.21278) )</span>
<span class="co1">#      lg(x=1.21278) 	= 2**-2 * ( 1 + lg(1.08166) )</span>
<span class="co1">#      lg(x=1.08166) 	= 2**-4 * ( 1 + lg(1.75563) )</span>
<span class="co1">#      lg(x=1.75563) 	= 2**-1 * ( 1 + lg(1.54113) )</span>
<span class="co1">#      lg(x=1.54113) 	= 2**-1 * ( 1 + lg(1.18753) )</span>
<span class="co1">#      lg(x=1.18753) 	= 2**-3 * ( 1 + lg(1.97759) )</span>
<span class="co1">#      lg(x=1.97759) 	= 2**-1 * ( 1 + lg(1.95543) )</span>
<span class="co1">#      lg(x=1.95543) 	= 2**-1 * ( 1 + lg(1.91185) )</span>
<span class="co1">#      lg(x=1.91185) 	= 2**-1 * ( 1 + lg(1.82758) )</span>
<span class="co1">#      lg(X) = 2.16992500139</span>
<span class="co1">#</span>
</pre></div>
<p>Since Python does not optimize <a href="/wiki/Tail_recursion" title="Tail recursion">tail recursion</a>, this can be implemented more efficiently with <a href="/wiki/Iteration" title="Iteration">iteration</a>. Here is an iterative version:</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-python">
<span class="kw1">def</span> lg<span class="br0">(</span>x, tol=1e<span class="nu0">-13</span><span class="br0">)</span>:
    res = <span class="nu0">0.0</span>
 
    <span class="co1"># Integer part</span>
    <span class="kw1">while</span> x&lt;<span class="nu0">1</span>:
        res -= <span class="nu0">1</span>
        x *= <span class="nu0">2</span>
    <span class="kw1">while</span> x&gt;=<span class="nu0">2</span>:
        res += <span class="nu0">1</span>
        x /= <span class="nu0">2</span>
 
    <span class="co1"># Fractional part</span>
    fp = <span class="nu0">1.0</span>
    <span class="kw1">while</span> fp&gt;=tol:
        fp /= <span class="nu0">2</span>
        x *= x
        <span class="kw1">if</span> x &gt;= <span class="nu0">2</span>:
            x /= <span class="nu0">2</span>
            res += fp
 
    <span class="kw1">return</span> res
</pre></div>
<p><a name="References" id="References"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=9" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2>
<div class="references-small">
<ol class="references">
<li id="cite_note-0"><b><a href="#cite_ref-0" title="">^</a></b> <cite style="font-style:normal" class="" id="CITEREFWarren_Jr.2002">Warren Jr., Henry S. (2002), <i>Hacker's Delight</i>, Addison Wesley, pp.&#160;pp. 83, <a href="/wiki/Special:BookSources/9780201914658" class="internal">ISBN 978-0201914658</a></cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Hacker%27s+Delight&amp;rft.aulast=Warren+Jr.&amp;rft.aufirst=Henry+S.&amp;rft.au=Warren+Jr.%2C+Henry+S.&amp;rft.date=2002&amp;rft.pages=pp.%26nbsp%3Bpp.+83&amp;rft.pub=Addison+Wesley&amp;rft.isbn=978-0201914658&amp;rfr_id=info:sid/en.wikipedia.org:Binary_logarithm"><span style="display: none;">&#160;</span></span></li>
<li id="cite_note-1"><b><a href="#cite_ref-1" title="">^</a></b> <cite style="font-style:normal" class="" id="CITEREFWarren_Jr.2002">Warren Jr., Henry S. (2002), <i>Hacker's Delight</i>, Addison Wesley, pp.&#160;pp. 215, <a href="/wiki/Special:BookSources/9780201914658" class="internal">ISBN 978-0201914658</a></cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Hacker%27s+Delight&amp;rft.aulast=Warren+Jr.&amp;rft.aufirst=Henry+S.&amp;rft.au=Warren+Jr.%2C+Henry+S.&amp;rft.date=2002&amp;rft.pages=pp.%26nbsp%3Bpp.+215&amp;rft.pub=Addison+Wesley&amp;rft.isbn=978-0201914658&amp;rfr_id=info:sid/en.wikipedia.org:Binary_logarithm"><span style="display: none;">&#160;</span></span></li>
<li id="cite_note-2"><b><a href="#cite_ref-2" title="">^</a></b> adapted from <a href="http://en.literateprograms.org/Logarithm_Function_%28Python%29" class="external text" title="http://en.literateprograms.org/Logarithm_Function_%28Python%29" rel="nofollow">Logarithm Function (Python)</a></li>
</ol>
</div>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Binary_logarithm&amp;action=edit&amp;section=10" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2>
<ul>
<li><a href="/wiki/Natural_logarithm" title="Natural logarithm">natural logarithm</a> (base <a href="/wiki/E_(mathematical_constant)" title="E (mathematical constant)">e</a>),</li>
<li><a href="/wiki/Common_logarithm" title="Common logarithm">common logarithm</a> (base 10)</li>
</ul>


<!-- 
NewPP limit report
Preprocessor node count: 1163/1000000
Post-expand include size: 5263/2048000 bytes
Template argument size: 1006/2048000 bytes
Expensive parser function count: 0/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:249992-0!1!0!default!!en!2 and timestamp 20090415093317 -->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org/wiki/Binary_logarithm">http://en.wikipedia.org/wiki/Binary_logarithm</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/wiki/Category:Calculus" title="Category:Calculus">Calculus</a></span> | <span dir='ltr'><a href="/wiki/Category:Logarithms" title="Category:Logarithms">Logarithms</a></span> | <span dir='ltr'><a href="/wiki/Category:Articles_with_example_Python_code" title="Category:Articles with example Python code">Articles with example Python code</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Binary_logarithm" title="View the content page [c]" accesskey="c">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:Binary_logarithm" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=Binary_logarithm&amp;action=edit" title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e">Edit this page</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=Binary_logarithm&amp;action=history" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Binary_logarithm" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://upload.wikimedia.org/wikipedia/en/b/bc/Wiki.png);" href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
				<li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
				<li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Wikipedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if one exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search Wikipedia for this text" />
			</div></form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-interaction'>
		<h5>Interaction</h5>
		<div class='pBody'>
			<ul>
				<li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
				<li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-contact"><a href="/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Donate" title="Support us">Donate to Wikipedia</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Binary_logarithm" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Binary_logarithm" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=Binary_logarithm&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=Binary_logarithm&amp;oldid=280286655" title="Permanent link to this version of the page">Permanent link</a></li><li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Binary_logarithm&amp;id=280286655">Cite this page</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>Languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-es"><a href="http://es.wikipedia.org/wiki/Logaritmo_binario">Español</a></li>
				<li class="interwiki-pl"><a href="http://pl.wikipedia.org/wiki/Logarytm_binarny">Polski</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 28 March 2009, at 21:22 (UTC).</li>
					<li id="copyright">All text is available under the terms of the <a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_the_GNU_Free_Documentation_License" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Copyrights" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc.</a>, a U.S. registered <a class='internal' href="http://en.wikipedia.org/wiki/501%28c%29#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="http://en.wikipedia.org/wiki/Non-profit_organization" title="Non-profit organization">nonprofit</a> <a href="http://en.wikipedia.org/wiki/Charitable_organization" title="Charitable organization">charity</a>.<br /></li>
					<li id="privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
					<li id="disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served by srv190 in 0.263 secs. --></body></html>
