<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15alpha" />
		<meta name="keywords" content="Backtracking,Articles needing additional references from October 2008,Algorithm,Amsterdam,Ariadne&#039;s thread (logic),Backjumping,Boolean-valued function,Brute force search,Central processing unit,Chess,Combinatorial optimization" />
		<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Backtracking&amp;action=edit" />
		<link rel="edit" title="Edit this page" href="/w/index.php?title=Backtracking&amp;action=edit" />
		<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<link rel="alternate" type="application/rss+xml" title="Wikipedia RSS Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Backtracking - Wikipedia, the free encyclopedia</title>
		<link rel="stylesheet" href="/skins-1.5/common/shared.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/common/commonPrint.css?207xx" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins-1.5/monobook/main.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/chick/main.css?207xx" type="text/css" media="handheld" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE50Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE55Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins-1.5/monobook/IE60Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins-1.5/monobook/IE70Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js?207xx"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins-1.5";
		var wgArticlePath = "/wiki/$1";
		var wgScriptPath = "/w";
		var wgScript = "/w/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://en.wikipedia.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Backtracking";
		var wgTitle = "Backtracking";
		var wgAction = "view";
		var wgArticleId = "238867";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 281593259;
		var wgVersion = "1.15alpha";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgMWSuggestTemplate = "http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest";
		var wgDBname = "enwiki";
		var wgSearchNamespaces = [0];
		var wgMWSuggestMessages = ["with suggestions", "no suggestions"];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?207xx"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js?207xx"></script>
		<script type="text/javascript" src="/skins-1.5/common/mwsuggest.js?207xx"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgNotice='';var wgNoticeLocal='';
/*]]>*/</script>		<script type="text/javascript" src="http://upload.wikimedia.org/centralnotice/wikipedia/en/centralnotice.js?207xx"></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Backtracking skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><script type='text/javascript'>if (wgNotice != '') document.writeln(wgNotice);</script></div>		<h1 id="firstHeading" class="firstHeading">Backtracking</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p><b>Backtracking</b> is a general <a href="/wiki/Algorithm" title="Algorithm">algorithm</a> for finding all (or some) solutions to some computational problem, that incrementally builds candidates to the solutions, and abandons each partial candidate <i>c</i> ("backtracks") as soon as it determines that <i>c</i> cannot possibly be completed to a valid solution <sup id="cite_ref-0" class="reference"><a href="#cite_note-0" title=""><span>[</span>1<span>]</span></a></sup> <sup id="cite_ref-1" class="reference"><a href="#cite_note-1" title=""><span>[</span>2<span>]</span></a></sup> <sup id="cite_ref-2" class="reference"><a href="#cite_note-2" title=""><span>[</span>3<span>]</span></a></sup>.</p>
<p>The classic textbook example of the use of backtracking is the <a href="/wiki/Eight_queens_puzzle" title="Eight queens puzzle">eight queens puzzle</a>, that asks for all arrangements of eight queens on a standard <a href="/wiki/Chess" title="Chess">chessboard</a> so that no queen attacks any other. In the common backtracking approach, the partial candidates are arrangements of <i>k</i> queens in the first <i>k</i> rows of the board, all in different rows and columns. Any partial solution that contains two mutually attacking queens can be abandoned, since it cannot possibly be completed to a valid solution.</p>
<p>Backtracking can be applied only for problems which admit the concept of a "partial candidate solution" and a relatively quick test of whether it can possibly be completed to a valid solution. It is useless, for example, for locating a given value in an unordered table. When it is applicable, however, backtracking is often much faster than <a href="/wiki/Brute_force_search" title="Brute force search" class="mw-redirect">brute force enumeration</a> of all complete candidates, since it can eliminate a large number of candidates with a single test.</p>
<p>Backtracking is an important tool for solving <a href="/wiki/Constraint_satisfaction_problem" title="Constraint satisfaction problem">constraint satisfaction problems</a>, such as <a href="/wiki/Crosswords" title="Crosswords" class="mw-redirect">crosswords</a>, <a href="/wiki/Verbal_arithmetic" title="Verbal arithmetic">verbal arithmetic</a>, and many other puzzles. It is often the most convenient (if not the most efficient) technique for <a href="/wiki/Parsing" title="Parsing">parsing</a>, for the <a href="/wiki/Knapsack_problem" title="Knapsack problem">knapsack problem</a> and other <a href="/wiki/Combinatorial_optimization" title="Combinatorial optimization">combinatorial optimization</a> problems. It is also the basis of the so-called <a href="/wiki/Logic_programming" title="Logic programming">logic programming</a> languages such as <a href="/wiki/Icon_programming_language" title="Icon programming language" class="mw-redirect">Icon</a>, <a href="/wiki/Planner_programming_language" title="Planner programming language" class="mw-redirect">Planner</a> and <a href="/wiki/Prolog" title="Prolog">Prolog</a>. Backtracking is also utilized in the (diff) difference engine for the <a href="/wiki/MediaWiki" title="MediaWiki">MediaWiki</a> software.</p>
<p>Backtracking depends on user-given "<a href="/wiki/Procedural_parameter" title="Procedural parameter">black box procedures</a>" that define the problem to be solved, the nature of the partial candidates, and how they are extended into complete candidates. It is therefore a <a href="/wiki/Metaheuristic" title="Metaheuristic">metaheuristic</a> rather than a specific algorithm --- although, unlike many other meta-heuristics, it is guaranteed to find all solutions to a finite problem in a bounded amount of time.</p>
<p>The term "backtrack" was coined by American mathematician <a href="/wiki/Derrick_Henry_Lehmer" title="Derrick Henry Lehmer">D. H. Lehmer</a> in the 1950s.<sup id="cite_ref-3" class="reference"><a href="#cite_note-3" title=""><span>[</span>4<span>]</span></a></sup> The pioneer string-processing language <a href="/wiki/SNOBOL" title="SNOBOL">SNOBOL</a> (1962) may have been the first to provide a built-in general backtracking facility.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Description_of_the_method"><span class="tocnumber">1</span> <span class="toctext">Description of the method</span></a>
<ul>
<li class="toclevel-2"><a href="#Pseudocode"><span class="tocnumber">1.1</span> <span class="toctext">Pseudocode</span></a></li>
<li class="toclevel-2"><a href="#Usage_considerations"><span class="tocnumber">1.2</span> <span class="toctext">Usage considerations</span></a></li>
<li class="toclevel-2"><a href="#Early_stopping_variants"><span class="tocnumber">1.3</span> <span class="toctext">Early stopping variants</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">2</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Constraint_satisfaction"><span class="tocnumber">2.1</span> <span class="toctext">Constraint satisfaction</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Notes"><span class="tocnumber">3</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1"><a href="#References"><span class="tocnumber">4</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1"><a href="#External_links"><span class="tocnumber">5</span> <span class="toctext">External links</span></a></li>
<li class="toclevel-1"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Description_of_the_method" id="Description_of_the_method"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=1" title="Edit section: Description of the method">edit</a>]</span> <span class="mw-headline">Description of the method</span></h2>
<p>The backtracking algorithm enumerates a set of <i>partial candidates</i> that, in principle, could be <i>completed</i> in various ways to give all the possible solutions to the given problem. The completion is done incrementally, by a sequence of <i>candidate extension steps.</i></p>
<p>Conceptually, the partial candidates are the nodes of a <a href="/wiki/Tree_structure" title="Tree structure">tree structure</a>, the <i>potential search tree.</i> Each partial candidate is the parent of the candidates that differ from it by a single extension step; the leaves of the tree are the partial candidates that cannot be extended any further.</p>
<p>The backtracking algorithm traverses this search tree <a href="/wiki/Recursion_(computer_science)" title="Recursion (computer science)">recursively</a>, from the root down, in <a href="/wiki/Depth-first_search" title="Depth-first search">depth-first order</a>. At each node <i>c</i>, the algorithm checks whether <i>c</i> can be completed to a valid solution. If it cannot, the whole sub-tree rooted at <i>c</i> is skipped (<i>pruned</i>). Otherwise, the algorithm (1) checks whether <i>c</i> itself is a valid solution, and if so reports it to the user; and (2) recursively enumerates all sub-trees of <i>c</i>. The two tests and the children of each node are defined by user-given procedures.</p>
<p>Therefore, the <i>actual search tree</i> that is traversed by the algorithm is only a part of the potential tree. The total cost of the algorithm is basically the number of nodes of the actual tree times the cost of obtaining and processing each node. This fact should be considered when choosing the potential search tree and implementing the pruning test.</p>
<p><a name="Pseudocode" id="Pseudocode"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=2" title="Edit section: Pseudocode">edit</a>]</span> <span class="mw-headline">Pseudocode</span></h3>
<p>In order to apply backtracking to a specific class of problems, one must provide the data <i>P</i> for the particular instance of the problem that is to be solved, and six <a href="/wiki/Procedural_parameter" title="Procedural parameter">procedural parameters</a>, <i>root</i>, <i>reject</i>, <i>accept</i>, <i>first</i>, <i>next</i>, and <i>output</i>. These procedures should take the instance data <i>P</i> as a parameter and should do the following:</p>
<ol>
<li><i>root</i>(<i>P</i>): return the partial candidate at the root of the search tree.</li>
<li><i>reject</i>(<i>P</i>,<i>c</i>): return <i>true</i> only if the partial candidate <i>c</i> is not worth completing.</li>
<li><i>accept</i>(<i>P</i>,<i>c</i>): return <i>true</i> if <i>c</i> is a solution of <i>P</i>, and <i>false</i> otherwise.</li>
<li><i>first</i>(<i>P</i>,<i>c</i>,<i>s</i>): generate the first extension of candidate <i>c</i>.</li>
<li><i>next</i>(<i>P</i>,<i>s</i>): generate the next alternative extension of a candidate, after the extension <i>s</i>.</li>
<li><i>output</i>(<i>P</i>,<i>c</i>): use the solution <i>c</i> of <i>P</i>, as appropriate to the application.</li>
</ol>
<p>The backtracking algorithm reduces then to the call <i>bt</i>(<i>root</i>(<i>P</i>)), where <i>bt</i> is the following recursive procedure:</p>
<pre>
 <b>procedure</b> <i>bt</i>(<i>c</i>)
   <b>if</b> <i>reject</i>(<i>P</i>,<i>c</i>) <b>then</b> <b>return</b>
   <b>if</b> <i>accept</i>(<i>P</i>,<i>c</i>) <b>then</b> <i>output</i>(<i>P</i>,<i>c</i>)
   <i>s</i> ← <i>first</i>(<i>P</i>,<i>c</i>)
   <b>while</b> <i>s</i> ≠ Λ <b>do</b>
     <i>bt</i>(<i>s</i>)
     <i>s</i> ← <i>next</i>(<i>P</i>,<i>s</i>)
</pre>
<p><a name="Usage_considerations" id="Usage_considerations"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=3" title="Edit section: Usage considerations">edit</a>]</span> <span class="mw-headline">Usage considerations</span></h3>
<p>The <i>reject</i> procedure should be a <a href="/wiki/Boolean-valued_function" title="Boolean-valued function">boolean-valued function</a> that returns <i>true</i> only if it is certain that no possible extension of <i>c</i> is a valid solution for <i>P</i>. If the procedure cannot reach a definite conclusion, it should return <i>false</i>. An incorrect <i>true</i> result may cause the <i>bt</i> procedure to miss some valid solutions. The procedure may assume that <i>reject</i>(<i>P</i>,<i>t</i>) returned <i>false</i> for every ancestor <i>t</i> of <i>c</i> in the search tree.</p>
<p>On the other hand, the efficiency of the backtracking algorithm depends on <i>reject</i> returning <i>true</i> for candidates that are as close to the root as possible. If <i>reject</i> always returns <i>false</i>, the algorithm will still find all solutions, but it will be equivalent to a brute-force search.</p>
<p>The <i>accept</i> procedure should return <i>true</i> if <i>c</i> is a complete and valid solution for the problem instance <i>P</i>, and <i>false</i> otherwise. It may assume that the partial candidate <i>c</i> and all its ancestors in the tree have passed the <i>reject</i> test.</p>
<p>Note that the general pseudo-code above does not assume that the valid solutions are always leaves of the potential search tree. In other words, it admits the possibility that a valid solution for <i>P</i> can be further extended to yield other valid solutions.</p>
<p>The <i>first</i> and <i>next</i> procedures are used by the backtracking algorithm to enumerate the children of a node <i>c</i> of the tree, that is, the candidates that differ from <i>c</i> by a single extension step. The call <i>first</i>(<i>P</i>,<i>c</i>) should yield the first child of <i>c</i>, in some order; and the call <i>next</i>(<i>P</i>,<i>s</i>) should return the next sibling of node <i>s</i>, in that order. Both functions should return a distinctive "null" candidate, denoted here by 'Λ', if the requested child does not exist.</p>
<p>Together, the <i>root</i>, <i>first</i>, and <i>next</i> functions define the set of partial candidates and the potential search tree. They should be chosen so that every solution of <i>P</i> occurs somewhere in the tree, and no partial candidate occurs more than once. Moreover, they should admit an efficient and effective <i>reject</i> predicate.</p>
<p><a name="Early_stopping_variants" id="Early_stopping_variants"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=4" title="Edit section: Early stopping variants">edit</a>]</span> <span class="mw-headline">Early stopping variants</span></h3>
<p>The pseudo-code above will call <i>output</i> for every candidate that is a solution to the given instance <i>P</i>. The algorithm is easily modified to stop after finding the first solution, or a specified number of solutions; or after testing a specified number of partial candidates, or after spending a given amount of <a href="/wiki/Central_processing_unit" title="Central processing unit">CPU</a> time.</p>
<p><a name="Examples" id="Examples"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=5" title="Edit section: Examples">edit</a>]</span> <span class="mw-headline">Examples</span></h2>
<p><a name="Constraint_satisfaction" id="Constraint_satisfaction"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=6" title="Edit section: Constraint satisfaction">edit</a>]</span> <span class="mw-headline">Constraint satisfaction</span></h3>
<p>The general <a href="/wiki/Constraint_satisfaction_problem" title="Constraint satisfaction problem">constraint satisfaction problem</a> consists in finding a list of integers <i>x</i> = (<i>x</i>[1],<i>x</i>[2], …, <i>x</i>[<i>n</i>]), each in some range {1, 2, …, <i>m</i>}, that satisfies some arbitrary constraint (boolean function) <i>F</i>.</p>
<p>For this class of problems, the instance data <i>P</i> would be the integers <i>m</i> and <i>n</i>, and the predicate <i>F</i>. In a typical backtracking solution to this problem, one could define a partial candidate as a list of integers <i>c</i> = (<i>c</i>[1],<i>c</i>[2], … <i>c</i>[k]), for any <i>k</i> between 0 and <i>n</i>, that are to be assigned to the first <i>k</i> variables <i>x</i>[1],<i>x</i>[2], …, <i>x</i>[<i>k</i>]). The root candidate would then be the empty list (). The <i>first</i> and <i>next</i> procedures would then be</p>
<pre>
 <b>function</b> <i>first</i>(<i>P</i>,<i>c</i>)
   <i>k</i> ← <b>length</b>(<i>c</i>)
   <b>if</b> <i>k</i> = <i>n</i>
     <b>then</b> <b>return</b> Λ
     <b>else</b> <b>return</b> (<i>c</i>[1], <i>c</i>[2], …, <i>c</i>[<i>k</i>], 1)
 
 <b>function</b> <i>next</i>(<i>P</i>,<i>s</i>)
   <i>k</i> ← <b>length</b>(<i>s</i>)
   <b>if</b> <i>s</i>[<i>k</i>] = <i>m</i>
     <b>then</b> <b>return</b> Λ
     <b>else</b> <b>return</b> (<i>s</i>[1], <i>s</i>[2], …, <i>s</i>[<i>k</i>-1], 1 + <i>s</i>[<i>k</i>])
</pre>
<p>Here "<b>length</b>(<i>c</i>)" is the number of elements in the list <i>c</i>.</p>
<p>The call <i>reject</i>(<i>P</i>,<i>c</i>) should return <i>true</i> if the constraint <i>F</i> cannot be satisfied by any list of <i>n</i> integers that begins with the <i>k</i> elements of <i>c</i>. For backtracking to be effective, there must be a way to detect this situation, at least for some candidates <i>c</i>, without enumerating all those <i>m</i><sup><i>n</i>-<i>k</i></sup> <i>n</i>-tuples.</p>
<p>For example, if <i>F</i> is the <a href="/wiki/Conjunction" title="Conjunction">conjunction</a> of several boolean predicates, <i>F</i> = <i>F</i>[1] <img class="tex" alt="\wedge" src="http://upload.wikimedia.org/math/1/b/a/1ba4f06f68614e5da79a8ebd378d532a.png" /> <i>F</i>[2] <img class="tex" alt="\wedge" src="http://upload.wikimedia.org/math/1/b/a/1ba4f06f68614e5da79a8ebd378d532a.png" /> <img class="tex" alt="\cdots" src="http://upload.wikimedia.org/math/3/3/a/33ac38248f756c206658df33d70efc31.png" /> <img class="tex" alt="\wedge" src="http://upload.wikimedia.org/math/1/b/a/1ba4f06f68614e5da79a8ebd378d532a.png" /> <i>F</i>[p], and each <i>F</i>[i] depends only on a small subset of the variables <i>x</i>[1], …, <i>x</i>[<i>n</i>], then the <i>reject</i> procedure could simply check the terms <i>F</i>[i] that depend only on variables <i>x</i>[1], …, <i>x</i>[<i>k</i>], and return <i>true</i>if any of those terms returns <i>false</i>. In fact, <i>reject</i> needs only check those terms that do depend on <i>x</i>[<i>k</i>], since the terms that depend only on <i>x</i>[1], …, <i>x</i>[<i>k</i>-1] will have been tested further up in the search tree.</p>
<p>Assuming that <i>reject</i> is implemented as above, then <i>accept</i>(<i>P</i>,<i>c</i>) needs only check whether <i>c</i> is complete, that is, whether it has <i>n</i> elements.</p>
<p>It is generally better to order the list of variables so that it begins with the most critical ones (i.e. the ones with fewest value options, or which have a greater impact on subsequent choices).</p>
<p>One could also allow the <i>next</i> function to choose which variable should be assigned when extending a partial candidate, based on the values of the variables already assigned by it. Further improvements can be obtained by the technique of <a href="/wiki/Constraint_propagation" title="Constraint propagation" class="mw-redirect">constraint propagation</a>.</p>
<p>In addition to retaining minimal recovery values used in backing up, backtracking implementations commonly keep a <a href="/w/index.php?title=Variable_trail&amp;action=edit&amp;redlink=1" class="new" title="Variable trail (page does not exist)">variable trail</a>, to record value change history. An efficient implementation will avoid creating a variable trail entry between two successive changes when there is no choice point, as the backtracking will erase all of the changes as a single operation.</p>
<p>An alternative to the variable trail is to keep a time stamp of when the last change was made to the variable. The time stamp is compared to the time stamp of a choice point. If the choice point has an associated time later than that of the variable, it is unnecessary to revert the variable when the choice point is backtracked, as it was changed before the choice point occurred.</p>
<p><a name="Notes" id="Notes"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=7" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline">Notes</span></h2>
<div class="references-small">
<ol class="references">
<li id="cite_note-0"><b><a href="#cite_ref-0" title="">^</a></b> <cite style="font-style:normal" class="book" id="CITEREFDonald_E._Knuth1968">Donald E. Knuth (1968). <i><a href="/wiki/The_Art_of_Computer_Programming" title="The Art of Computer Programming">The Art of Computer Programming</a></i>. Addison-Wesley.</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=%5B%5BThe+Art+of+Computer+Programming%5D%5D&amp;rft.aulast=Donald+E.+Knuth&amp;rft.au=Donald+E.+Knuth&amp;rft.date=1968&amp;rft.pub=Addison-Wesley&amp;rfr_id=info:sid/en.wikipedia.org:Backtracking"><span style="display: none;">&#160;</span></span></li>
<li id="cite_note-1"><b><a href="#cite_ref-1" title="">^</a></b> <cite style="font-style:normal" class="book" id="CITEREFThomas_H._CormenCharles_E._Leiserson.2C_Ronald_R._Rivest.2C_Cliff_Stein1990">Thomas H. Cormen; Charles E. Leiserson, Ronald R. Rivest, Cliff Stein (1990). <i>Introduction to Algorithms</i>. McGraw-Hill.</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Introduction+to+Algorithms&amp;rft.aulast=Thomas+H.+Cormen&amp;rft.au=Thomas+H.+Cormen&amp;rft.au=Charles+E.+Leiserson%2C+Ronald+R.+Rivest%2C+Cliff+Stein&amp;rft.date=1990&amp;rft.pub=McGraw-Hill&amp;rfr_id=info:sid/en.wikipedia.org:Backtracking"><span style="display: none;">&#160;</span></span></li>
<li id="cite_note-2"><b><a href="#cite_ref-2" title="">^</a></b> <cite style="font-style:normal" class="web" id="CITEREFGurari.2C_Eitan1999">Gurari, Eitan (1999). <a href="http://www.cse.ohio-state.edu/~gurari/course/cis680/cis680Ch19.html#QQ1-51-128" class="external text" title="http://www.cse.ohio-state.edu/~gurari/course/cis680/cis680Ch19.html#QQ1-51-128" rel="nofollow">Backtracking algorithms "CIS 680: DATA STRUCTURES: Chapter 19: Backtracking Algorithms"</a><span class="printonly">. <a href="http://www.cse.ohio-state.edu/~gurari/course/cis680/cis680Ch19.html#QQ1-51-128" class="external free" title="http://www.cse.ohio-state.edu/~gurari/course/cis680/cis680Ch19.html#QQ1-51-128" rel="nofollow">http://www.cse.ohio-state.edu/~gurari/course/cis680/cis680Ch19.html#QQ1-51-128</a> Backtracking algorithms</span>.</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.btitle=CIS+680%3A+DATA+STRUCTURES%3A+Chapter+19%3A+Backtracking+Algorithms&amp;rft.atitle=&amp;rft.aulast=Gurari%2C+Eitan&amp;rft.au=Gurari%2C+Eitan&amp;rft.date=1999&amp;rft_id=http%3A%2F%2Fwww.cse.ohio-state.edu%2F%7Egurari%2Fcourse%2Fcis680%2Fcis680Ch19.html%23QQ1-51-128+Backtracking+algorithms&amp;rfr_id=info:sid/en.wikipedia.org:Backtracking"><span style="display: none;">&#160;</span></span></li>
<li id="cite_note-3"><b><a href="#cite_ref-3" title="">^</a></b> <cite style="font-style:normal" class="book" id="CITEREFRossiBeek.2C_Peter_Van.3B_Walsh.2C_Toby2006">Rossi, Francesca; Beek, Peter Van; Walsh, Toby (August 2006). <a href="http://books.google.com/books?id=Kjap9ZWcKOoC&amp;pg=PA14" class="external text" title="http://books.google.com/books?id=Kjap9ZWcKOoC&amp;pg=PA14" rel="nofollow">"Constraint Satisfaction: An Emerging Paradigm"</a>. <i><a href="http://books.google.com/books?id=Kjap9ZWcKOoC" class="external text" title="http://books.google.com/books?id=Kjap9ZWcKOoC" rel="nofollow">Handbook of Constraint Programming</a></i>. <a href="http://www.elsevier.com/wps/find/bookdescription.cws_home/BS_FAI/description#description" class="external text" title="http://www.elsevier.com/wps/find/bookdescription.cws_home/BS_FAI/description#description" rel="nofollow">Foundations of Artificial Intelligence</a>. <a href="/wiki/Amsterdam" title="Amsterdam">Amsterdam</a>: <a href="/wiki/Elsevier" title="Elsevier">Elsevier</a>. p.&#160;14. <a href="/wiki/Special:BookSources/9780444527264" class="internal">ISBN 978-0-444-52726-4</a><span class="printonly">. <a href="http://books.google.com/books?id=Kjap9ZWcKOoC&amp;pg=PA14" class="external free" title="http://books.google.com/books?id=Kjap9ZWcKOoC&amp;pg=PA14" rel="nofollow">http://books.google.com/books?id=Kjap9ZWcKOoC&amp;pg=PA14</a></span><span class="reference-accessdate">. Retrieved on 2008-12-30</span>.  "Bitner and Reingold credit Lehmer with first using the term 'backtrack' in the 1950s."</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.btitle=Constraint+Satisfaction%3A+An+Emerging+Paradigm&amp;rft.atitle=Handbook+of+Constraint+Programming&amp;rft.aulast=Rossi&amp;rft.aufirst=Francesca&amp;rft.au=Rossi%2C+Francesca&amp;rft.au=Beek%2C+Peter+Van%3B+Walsh%2C+Toby&amp;rft.date=August+2006&amp;rft.series=%5Bhttp%3A%2F%2Fwww.elsevier.com%2Fwps%2Ffind%2Fbookdescription.cws_home%2FBS_FAI%2Fdescription%23description+Foundations+of+Artificial+Intelligence%5D&amp;rft.pages=p.%26nbsp%3B14&amp;rft.place=%5B%5BAmsterdam%5D%5D&amp;rft.pub=%5B%5BElsevier%5D%5D&amp;rft.isbn=978-0-444-52726-4&amp;rft_id=http%3A%2F%2Fbooks.google.com%2Fbooks%3Fid%3DKjap9ZWcKOoC&amp;rfr_id=info:sid/en.wikipedia.org:Backtracking"><span style="display: none;">&#160;</span></span></li>
</ol>
</div>
<p><a name="References" id="References"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=8" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2>
<div class="references-small" style="margin-left:1.5em;">
<ul>
<li><cite style="font-style:normal" class="book" id="CITEREFGilles_Brassard.2C_Paul_Bratley1995">Gilles Brassard, Paul Bratley (1995). <i>Fundamentals of Algorithmics</i>. Prentice-Hall.</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Fundamentals+of+Algorithmics&amp;rft.aulast=Gilles+Brassard%2C+Paul+Bratley&amp;rft.au=Gilles+Brassard%2C+Paul+Bratley&amp;rft.date=1995&amp;rft.pub=Prentice-Hall&amp;rfr_id=info:sid/en.wikipedia.org:Backtracking"><span style="display: none;">&#160;</span></span></li>
</ul>
</div>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=9" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="http://www.hbmeyer.de/backtrack/backtren.htm" class="external text" title="http://www.hbmeyer.de/backtrack/backtren.htm" rel="nofollow">interactive animation of a backtracking algorithm</a></li>
</ul>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Backtracking&amp;action=edit&amp;section=10" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2>
<ul>
<li><a href="/wiki/Ariadne%27s_thread_(logic)" title="Ariadne's thread (logic)">Ariadne's thread (logic)</a></li>
<li><a href="/wiki/Backjumping" title="Backjumping">Backjumping</a></li>
<li><a href="/wiki/Recursion_(computer_science)" title="Recursion (computer science)">Recursion (computer science)</a></li>
</ul>
<table class="metadata plainlinks ambox ambox-content" style="">
<tr>
<td class="mbox-image">
<div style="width: 52px;"><a href="/wiki/File:Question_book-new.svg" class="image" title="Question book-new.svg"><img alt="" src="http://upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/50px-Question_book-new.svg.png" width="50" height="39" border="0" /></a></div>
</td>
<td class="mbox-text" style="">This article <b>needs additional <a href="/wiki/Wikipedia:Citing_sources" title="Wikipedia:Citing sources">citations</a> for <a href="/wiki/Wikipedia:Verifiability" title="Wikipedia:Verifiability">verification</a>.</b> Please help <a href="http://en.wikipedia.org/w/index.php?title=Backtracking&amp;action=edit" class="external text" title="http://en.wikipedia.org/w/index.php?title=Backtracking&amp;action=edit" rel="nofollow">improve this article</a> by adding <a href="/wiki/Wikipedia:Reliable_sources" title="Wikipedia:Reliable sources">reliable references</a> (ideally, using <i><a href="/wiki/Wikipedia:Footnotes" title="Wikipedia:Footnotes">inline citations</a></i>). Unsourced material may be <a href="/wiki/Template:Fact" title="Template:Fact">challenged</a> and <a href="/wiki/Wikipedia:BURDEN" title="Wikipedia:BURDEN" class="mw-redirect">removed</a>. <small><i>(October 2008)</i></small></td>
</tr>
</table>


<!-- 
NewPP limit report
Preprocessor node count: 2645/1000000
Post-expand include size: 20857/2048000 bytes
Template argument size: 7943/2048000 bytes
Expensive parser function count: 1/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:238867-0!1!0!default!!en!2 and timestamp 20090403231901 -->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org/wiki/Backtracking">http://en.wikipedia.org/wiki/Backtracking</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/wiki/Category:Operations_research" title="Category:Operations research">Operations research</a></span> | <span dir='ltr'><a href="/wiki/Category:Search_algorithms" title="Category:Search algorithms">Search algorithms</a></span> | <span dir='ltr'><a href="/wiki/Category:Pattern_matching" title="Category:Pattern matching">Pattern matching</a></span></div><div id="mw-hidden-catlinks" class="mw-hidden-cats-hidden">Hidden categories:&#32;<span dir='ltr'><a href="/wiki/Category:Articles_needing_additional_references_from_October_2008" title="Category:Articles needing additional references from October 2008">Articles needing additional references from October 2008</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Backtracking" title="View the content page [c]" accesskey="c">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:Backtracking" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=Backtracking&amp;action=edit" title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e">Edit this page</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=Backtracking&amp;action=history" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Backtracking" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://upload.wikimedia.org/wikipedia/en/b/bc/Wiki.png);" href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
				<li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
				<li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Wikipedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if one exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search Wikipedia for this text" />
			</div></form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-interaction'>
		<h5>Interaction</h5>
		<div class='pBody'>
			<ul>
				<li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
				<li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-contact"><a href="/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Donate" title="Support us">Donate to Wikipedia</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Backtracking" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Backtracking" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=Backtracking&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=Backtracking&amp;oldid=281593259" title="Permanent link to this version of the page">Permanent link</a></li><li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Backtracking&amp;id=281593259">Cite this page</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>Languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-cs"><a href="http://cs.wikipedia.org/wiki/Backtracking">Česky</a></li>
				<li class="interwiki-de"><a href="http://de.wikipedia.org/wiki/Backtracking">Deutsch</a></li>
				<li class="interwiki-es"><a href="http://es.wikipedia.org/wiki/Vuelta_Atr%C3%A1s">Español</a></li>
				<li class="interwiki-fr"><a href="http://fr.wikipedia.org/wiki/Retour_sur_trace">Français</a></li>
				<li class="interwiki-ko"><a href="http://ko.wikipedia.org/wiki/%EB%B0%B1%ED%8A%B8%EB%9E%98%ED%82%B9">한국어</a></li>
				<li class="interwiki-it"><a href="http://it.wikipedia.org/wiki/Backtracking">Italiano</a></li>
				<li class="interwiki-he"><a href="http://he.wikipedia.org/wiki/%D7%92%D7%99%D7%A9%D7%95%D7%A9_%D7%A0%D7%A1%D7%95%D7%92">עברית</a></li>
				<li class="interwiki-nl"><a href="http://nl.wikipedia.org/wiki/Backtracking">Nederlands</a></li>
				<li class="interwiki-ja"><a href="http://ja.wikipedia.org/wiki/%E3%83%90%E3%83%83%E3%82%AF%E3%83%88%E3%83%A9%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0">日本語</a></li>
				<li class="interwiki-pt"><a href="http://pt.wikipedia.org/wiki/Backtracking">Português</a></li>
				<li class="interwiki-vi"><a href="http://vi.wikipedia.org/wiki/Quay_lui_(khoa_h%E1%BB%8Dc_m%C3%A1y_t%C3%ADnh)">Tiếng Việt</a></li>
				<li class="interwiki-zh"><a href="http://zh.wikipedia.org/wiki/%E5%9B%9E%E6%BA%AF%E6%B3%95">中文</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 3 April 2009, at 23:11.</li>
					<li id="copyright">All text is available under the terms of the <a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_the_GNU_Free_Documentation_License" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Copyrights" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc.</a>, a U.S. registered <a class='internal' href="http://en.wikipedia.org/wiki/501%28c%29#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="http://en.wikipedia.org/wiki/Non-profit_organization" title="Non-profit organization">nonprofit</a> <a href="http://en.wikipedia.org/wiki/Charitable_organization" title="Charitable organization">charity</a>.<br /></li>
					<li id="privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
					<li id="disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served by srv176 in 0.160 secs. --></body></html>
