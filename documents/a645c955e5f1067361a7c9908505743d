<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15alpha" />
		<meta name="keywords" content="Depth-first search,Infobox Algorithm,A* search algorithm,Algorithm,B* search algorithm,Backtracking,Bellman-Ford algorithm,Best-first search,Bidirectional search,Breadth-first search,Charles E. Leiserson" />
		<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Depth-first_search&amp;action=edit" />
		<link rel="edit" title="Edit this page" href="/w/index.php?title=Depth-first_search&amp;action=edit" />
		<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<link rel="alternate" type="application/rss+xml" title="Wikipedia RSS Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Depth-first search - Wikipedia, the free encyclopedia</title>
		<link rel="stylesheet" href="/skins-1.5/common/shared.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/common/commonPrint.css?207xx" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins-1.5/monobook/main.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/chick/main.css?207xx" type="text/css" media="handheld" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE50Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE55Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins-1.5/monobook/IE60Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins-1.5/monobook/IE70Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js?207xx"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins-1.5";
		var wgArticlePath = "/wiki/$1";
		var wgScriptPath = "/w";
		var wgScript = "/w/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://en.wikipedia.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Depth-first_search";
		var wgTitle = "Depth-first search";
		var wgAction = "view";
		var wgArticleId = "97034";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 281256095;
		var wgVersion = "1.15alpha";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgMWSuggestTemplate = "http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest";
		var wgDBname = "enwiki";
		var wgSearchNamespaces = [0];
		var wgMWSuggestMessages = ["with suggestions", "no suggestions"];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?207xx"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js?207xx"></script>
		<script type="text/javascript" src="/skins-1.5/common/mwsuggest.js?207xx"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgNotice='';var wgNoticeLocal='';
/*]]>*/</script>		<script type="text/javascript" src="http://upload.wikimedia.org/centralnotice/wikipedia/en/centralnotice.js?207xx"></script>
<style type="text/css">/*<![CDATA[*/
.source-python {line-height: normal;}
.source-python li, .source-python pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for python
 * CSS class: source-python, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie (http://qbnz.com/highlighter)
 */
.source-python .de1, .source-python .de2 {font-family: 'Courier New', Courier, monospace; font-weight: normal;}
.source-python  {}
.source-python .head {}
.source-python .foot {}
.source-python .imp {font-weight: bold; color: red;}
.source-python .ln-xtra {color: #cc0; background-color: #ffc;}
.source-python li {font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;}
.source-python li.li2 {font-weight: bold;}
.source-python .kw1 {color: #ff7700;font-weight:bold;}
.source-python .kw2 {color: #008000;}
.source-python .kw3 {color: #dc143c;}
.source-python .kw4 {color: #0000cd;}
.source-python .co1 {color: #808080; font-style: italic;}
.source-python .coMULTI {color: #808080; font-style: italic;}
.source-python .es0 {color: #000099; font-weight: bold;}
.source-python .br0 {color: #66cc66;}
.source-python .st0 {color: #483d8b;}
.source-python .nu0 {color: #ff4500;}
.source-python .me1 {color: black;}

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
/*]]>*/
</style>		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Depth-first_search skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><script type='text/javascript'>if (wgNotice != '') document.writeln(wgNotice);</script></div>		<h1 id="firstHeading" class="firstHeading">Depth-first search</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table class="infobox" cellspacing="5" style="width: 22em; text-align: left; font-size: 88%; line-height: 1.5em; background:#fff6d9">
<caption class="" style="font-size: 125%; font-weight: bold;">Depth-first search</caption>
<tr>
<td colspan="2" class="" style="text-align:center;">
<div class="floatnone"><a href="/wiki/File:Depth-first-tree.svg" class="image" title="Order in which the nodes get expanded"><img alt="Order in which the nodes get expanded" src="http://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Depth-first-tree.svg/300px-Depth-first-tree.svg.png" width="300" height="192" border="0" /></a></div>
<small>Order in which the nodes are expanded</small></td>
</tr>
<tr>
<th style="">Class</th>
<td class="" style=""><a href="/wiki/Search_algorithm" title="Search algorithm">Search algorithm</a></td>
</tr>
<tr>
<th style="">Data structure</th>
<td class="" style=""><a href="/wiki/Graph_(data_structure)" title="Graph (data structure)">Graph</a></td>
</tr>
<tr>
<th style="">Worst case performance</th>
<td class="" style=""><span class="texhtml"><i>O</i>( | <i>V</i> | + | <i>E</i> | ) = <i>O</i>(<i>b</i><sup><i>d</i></sup>)</span></td>
</tr>
<tr>
<th style="">Worst case space complexity</th>
<td class="" style=""><span class="texhtml"><i>O</i>(<i>h</i>)</span> where <span class="texhtml"><i>h</i></span> is the length of the longest <a href="/wiki/Path_(graph_theory)" title="Path (graph theory)">simple path</a> in the graph.</td>
</tr>
<tr>
<th style="">Optimal</th>
<td class="" style="">no</td>
</tr>
<tr>
<td style="text-align:right;" colspan="2">
<div class="noprint plainlinksneverexpand navbar" style="background:none; padding:0; font-weight:normal;; font-size:xx-small;">This box: <a href="/wiki/Template:Infobox_Algorithm" title="Template:Infobox Algorithm"><span title="View this template" style="">view</span></a>&#160;•&#160;<a href="/wiki/Template_talk:Infobox_Algorithm" title="Template talk:Infobox Algorithm"><span title="Discussion about this template" style="">talk</span></a></div>
</td>
</tr>
</table>
<table align="right" class="toccolours" style="padding: 0px; width: 170px; margin: 0 0 1em 1em;">
<tr>
<th style="background: #ccf;"><a href="/wiki/Graph_traversal" title="Graph traversal">Graph search algorithms</a></th>
</tr>
<tr>
<td><b>Search</b>
<ul>
<li><a href="/wiki/A*_search_algorithm" title="A* search algorithm">A*</a></li>
<li><a href="/wiki/B*_search_algorithm" title="B* search algorithm">B*</a></li>
<li><a href="/wiki/Bellman-Ford_algorithm" title="Bellman-Ford algorithm">Bellman-Ford algorithm</a></li>
<li><a href="/wiki/Best-first_search" title="Best-first search">Best-first search</a></li>
<li><a href="/wiki/Bidirectional_search" title="Bidirectional search">Bidirectional search</a></li>
<li><a href="/wiki/Breadth-first_search" title="Breadth-first search">Breadth-first search</a></li>
<li><a href="/wiki/D*_search_algorithm" title="D* search algorithm">D*</a></li>
<li><strong class="selflink">Depth-first search</strong></li>
<li><a href="/wiki/Depth-limited_search" title="Depth-limited search">Depth-limited search</a></li>
<li><a href="/wiki/Dijkstra%27s_algorithm" title="Dijkstra's algorithm">Dijkstra's algorithm</a></li>
<li><a href="/wiki/Floyd%E2%80%93Warshall_algorithm" title="Floyd–Warshall algorithm">Floyd–Warshall algorithm</a></li>
<li><a href="/wiki/Hill_climbing" title="Hill climbing">Hill climbing</a></li>
<li><a href="/wiki/Iterative_deepening_depth-first_search" title="Iterative deepening depth-first search">Iterative deepening depth-first search</a></li>
<li><a href="/wiki/Johnson%27s_algorithm" title="Johnson's algorithm">Johnson's algorithm</a></li>
<li><a href="/wiki/Uniform-cost_search" title="Uniform-cost search">Uniform-cost search</a></li>
</ul>
</td>
</tr>
</table>
<p><b>Depth-first search</b> (<b>DFS</b>) is an <a href="/wiki/Algorithm" title="Algorithm">algorithm</a> for traversing or searching a <a href="/wiki/Tree_data_structure" title="Tree data structure" class="mw-redirect">tree</a>, <a href="/wiki/Tree_structure" title="Tree structure">tree structure</a>, or <a href="/wiki/Graph_(data_structure)" title="Graph (data structure)">graph</a>. One starts at the root (selecting some node as the root in the graph case) and explores as far as possible along each branch before <a href="/wiki/Backtracking" title="Backtracking">backtracking</a>.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Formal_definition"><span class="tocnumber">1</span> <span class="toctext">Formal definition</span></a></li>
<li class="toclevel-1"><a href="#Output_of_a_depth-first_search"><span class="tocnumber">2</span> <span class="toctext">Output of a depth-first search</span></a>
<ul>
<li class="toclevel-2"><a href="#Vertex_orderings"><span class="tocnumber">2.1</span> <span class="toctext">Vertex orderings</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Pseudocode"><span class="tocnumber">3</span> <span class="toctext">Pseudocode</span></a></li>
<li class="toclevel-1"><a href="#Applications"><span class="tocnumber">4</span> <span class="toctext">Applications</span></a></li>
<li class="toclevel-1"><a href="#References"><span class="tocnumber">5</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1"><a href="#External_links"><span class="tocnumber">6</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Formal_definition" id="Formal_definition"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Depth-first_search&amp;action=edit&amp;section=1" title="Edit section: Formal definition">edit</a>]</span> <span class="mw-headline">Formal definition</span></h2>
<p>Formally, DFS is an <a href="/wiki/Uninformed_search" title="Uninformed search" class="mw-redirect">uninformed search</a> that progresses by expanding the first child node of the search <a href="/wiki/Tree_data_structure" title="Tree data structure" class="mw-redirect">tree</a> that appears and thus going deeper and deeper until a goal node is found, or until it hits a node that has no children. Then the search <a href="/wiki/Backtracking" title="Backtracking">backtracks</a>, returning to the most recent node it hasn't finished exploring. In a non-recursive implementation, all freshly expanded nodes are added to a <a href="/wiki/Stack_(data_structure)" title="Stack (data structure)">stack</a> for exploration.</p>
<p>Space <a href="/wiki/Complexity" title="Complexity">complexity</a> of DFS is much lower than BFS (<a href="/wiki/Breadth-first_search" title="Breadth-first search">breadth-first search</a>). It also lends itself much better to <a href="/wiki/Heuristics" title="Heuristics" class="mw-redirect">heuristic</a> methods of choosing a likely-looking branch. Time <a href="/wiki/Complexity" title="Complexity">complexity</a> of both algorithms are proportional to the number of vertices plus the number of edges in the graphs they traverse (O(|V| + |E|)).</p>
<p>When searching large graphs that cannot be fully contained in memory, DFS suffers from non-termination when the length of a path in the search tree is infinite. The simple solution of "remember which nodes I have already seen" doesn't always work because there can be insufficient memory. This can be solved by maintaining an increasing limit on the depth of the tree, which is called <a href="/wiki/Iterative_deepening_depth-first_search" title="Iterative deepening depth-first search">iterative deepening depth-first search</a>.</p>
<p>For the following graph:</p>
<p><a href="/wiki/File:Graph.traversal.example.svg" class="image" title="Graph.traversal.example.svg"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/6/61/Graph.traversal.example.svg/200px-Graph.traversal.example.svg.png" width="200" height="162" border="0" /></a></p>
<p>a depth-first search starting at A, assuming that the left edges in the shown graph are chosen before right edges, and assuming the search remembers previously-visited nodes and will not repeat them (since this is a small graph), will visit the nodes in the following order: A, B, D, F, E, C, G.</p>
<p>Performing the same search without remembering previously visited nodes results in visiting nodes in the order A, B, D, F, E, A, B, D, F, E, etc. forever, caught in the A, B, D, F, E cycle and never reaching C or G.</p>
<p>Iterative deepening prevents this loop and will reach the following nodes on the following depths, assuming it proceeds left-to-right as above:</p>
<ul>
<li>0: A</li>
<li>1: A (repeated), B, C, E</li>
</ul>
<p>(Note that iterative deepening has now seen C, when a conventional depth-first search did not.)</p>
<ul>
<li>2: A, B, D, F, C, G, E, F</li>
</ul>
<p>(Note that it still sees C, but that it came later. Also note that it sees E via a different path, and loops back to F twice.)</p>
<ul>
<li>3: A, B, D, F, E, C, G, E, F, B</li>
</ul>
<p>For this graph, as more depth is added, the two cycles "ABFE" and "AEFB" will simply get longer before the algorithm gives up and tries another branch.</p>
<p><a name="Output_of_a_depth-first_search" id="Output_of_a_depth-first_search"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Depth-first_search&amp;action=edit&amp;section=2" title="Edit section: Output of a depth-first search">edit</a>]</span> <span class="mw-headline">Output of a depth-first search</span></h2>
<div class="thumb tright">
<div class="thumbinner" style="width:272px;"><a href="/wiki/File:Tree_edges.svg" class="image" title="The four types of edges defined by a spanning tree"><img alt="" src="http://upload.wikimedia.org/wikipedia/en/thumb/5/57/Tree_edges.svg/270px-Tree_edges.svg.png" width="270" height="161" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:Tree_edges.svg" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
The four types of edges defined by a spanning tree</div>
</div>
</div>
<p>The most natural result of a depth first search of a graph (if it is considered as a <a href="/wiki/Function_(mathematics)" title="Function (mathematics)">function</a> rather than a <a href="/wiki/Subroutine" title="Subroutine">procedure</a>) is a <a href="/wiki/Spanning_tree_(mathematics)" title="Spanning tree (mathematics)">spanning tree</a> of the vertices reached during the search. Based on this spanning tree, the edges of the original graph can be divided into three classes: <b>forward edges</b>, which point from a node of the tree to one of its descendants, <b>back edges</b>, which point from a node to one of its ancestors, and <b>cross edges</b>, which do neither. Sometimes <b>tree edges</b>, edges which belong to the spanning tree itself, are classified separately from forward edges. It can be shown that if the graph is undirected then all of its edges are tree edges or back edges.</p>
<p><a name="Vertex_orderings" id="Vertex_orderings"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Depth-first_search&amp;action=edit&amp;section=3" title="Edit section: Vertex orderings">edit</a>]</span> <span class="mw-headline">Vertex orderings</span></h3>
<p>It is also possible to use the depth-first search to linearly order the vertices (or nodes) of the original graph (or tree). There are three common ways of doing this:</p>
<ul>
<li>A <b>preordering</b> is a list of the vertices in the order that they were first visited by the depth-first search algorithm. This is a compact and natural way of describing the progress of the search, as was done earlier in this article. A preordering of an expression tree is the expression in <a href="/wiki/Polish_notation" title="Polish notation">Polish notation</a>.</li>
</ul>
<ul>
<li>A <b>postordering</b> is a list of the vertices in the order that they were <i>last</i> visited by the algorithm. A postordering of an <a href="/wiki/Parse_tree" title="Parse tree">expression tree</a> is the expression in <a href="/wiki/Reverse_Polish_notation" title="Reverse Polish notation">reverse Polish notation</a>.</li>
</ul>
<ul>
<li>A <b>reverse postordering</b> is the reverse of a postordering, i.e. a list of the vertices in the opposite order of their last visit. When searching a tree, reverse postordering is the same as preordering, but in general they are different when searching a graph. For example, when searching the directed graph</li>
</ul>
<dl>
<dd><a href="/wiki/File:If-then-else-control-flow-graph.svg" class="image" title="Image:If-then-else-control-flow-graph.svg"><img alt="Image:If-then-else-control-flow-graph.svg" src="http://upload.wikimedia.org/wikipedia/en/thumb/6/68/If-then-else-control-flow-graph.svg/125px-If-then-else-control-flow-graph.svg.png" width="125" height="245" border="0" /></a></dd>
</dl>
<dl>
<dd>beginning at node A, one visits the nodes in sequence, to produce lists either A B D B A C A, or A C D C A B A (depending upon the algorithm chooses to visit B or C first). Note that repeat visits in the form of backtracking to a node, to check if it has still unvisited neighbours, are included here (even if it is found to have none). Thus the possible preorderings are A B D C and A C D B (order by node's leftmost occurrence in above list), while the possible reverse postorderings are A C B D and A B C D (order by node's rightmost occurrence in above list). Reverse postordering produces a <a href="/wiki/Topological_sorting" title="Topological sorting">topological sorting</a> of any <a href="/wiki/Directed_acyclic_graph" title="Directed acyclic graph">directed acyclic graph</a>. This ordering is also useful in <a href="/wiki/Control_flow_graph" title="Control flow graph">control flow analysis</a> as it often represents a natural linearization of the control flow. The graph above might represent the flow of control in a code fragment like</dd>
</dl>
<pre>
     if (<b>A</b>) then {
       <b>B</b>
     } else {
       <b>C</b>
     }
     <b>D</b>
</pre>
<dl>
<dd>and it is natural to consider this code in the order A B C D or A C B D, but not natural to use the order A B D C or A C D B.</dd>
</dl>
<p><a name="Pseudocode" id="Pseudocode"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Depth-first_search&amp;action=edit&amp;section=4" title="Edit section: Pseudocode">edit</a>]</span> <span class="mw-headline">Pseudocode</span></h2>
<p>A recursive version of the algorithm:</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-python">
<span class="kw1">def</span> dfs<span class="br0">(</span>v, visited = <span class="kw2">None</span>, 
        preorder_process  = <span class="kw1">lambda</span> x: <span class="kw2">None</span>,
        postorder_process = <span class="kw1">lambda</span> x: <span class="kw2">None</span><span class="br0">)</span>:
    <span class="kw1">if</span> visited <span class="kw1">is</span> <span class="kw2">None</span>: visited = <span class="kw2">set</span><span class="br0">(</span><span class="br0">)</span>
    visited.<span class="me1">add</span><span class="br0">(</span>v<span class="br0">)</span>
    preorder_process<span class="br0">(</span>v<span class="br0">)</span>
    <span class="kw1">for</span> neighbor <span class="kw1">in</span> v.<span class="me1">neighbors</span>:
        <span class="kw1">if</span> neighbor <span class="kw1">not</span> <span class="kw1">in</span> visited:
            dfs<span class="br0">(</span>neighbor, visited, 
                preorder_process, 
                postorder_process<span class="br0">)</span>
    postorder_process<span class="br0">(</span>v<span class="br0">)</span>
</pre></div>
<p>Another version, without the <a href="/wiki/Recursion" title="Recursion">recursion</a>:</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-python">
<span class="kw1">def</span> dfs<span class="br0">(</span>root, visited = <span class="kw2">None</span>, 
        preorder_process  = <span class="kw1">lambda</span> x: <span class="kw2">None</span><span class="br0">)</span>:
    <span class="st0">""</span><span class="st0">"
    Given a starting vertex, root, do a depth-first search.
    "</span><span class="st0">""</span>
    <span class="kw1">import</span> <span class="kw3">collections</span>.<span class="me1">deque</span>
    to_visit = <span class="kw3">collections</span>.<span class="me1">deque</span><span class="br0">(</span><span class="br0">)</span>
    <span class="kw1">if</span> visited <span class="kw1">is</span> <span class="kw2">None</span>: visited = <span class="kw2">set</span><span class="br0">(</span><span class="br0">)</span>
 
    to_visit.<span class="me1">append</span><span class="br0">(</span>root<span class="br0">)</span> <span class="co1"># Start with root</span>
    <span class="kw1">while</span> <span class="kw2">len</span><span class="br0">(</span>to_visit<span class="br0">)</span> != <span class="nu0">0</span>:
        v = to_visit.<span class="me1">pop</span><span class="br0">(</span><span class="br0">)</span>
        <span class="kw1">if</span> v <span class="kw1">not</span> <span class="kw1">in</span> visited:
            visited.<span class="me1">add</span><span class="br0">(</span>v<span class="br0">)</span>
            preorder_process<span class="br0">(</span>v<span class="br0">)</span>
            to_visit.<span class="me1">extend</span><span class="br0">(</span>v.<span class="me1">neighbors</span><span class="br0">)</span>
</pre></div>
<p><a name="Applications" id="Applications"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Depth-first_search&amp;action=edit&amp;section=5" title="Edit section: Applications">edit</a>]</span> <span class="mw-headline">Applications</span></h2>
<p>Here are some algorithms where DFS is used:</p>
<ul>
<li>Finding <a href="/wiki/Connected_component_(graph_theory)" title="Connected component (graph theory)">connected components</a>.</li>
<li><a href="/wiki/Topological_sorting" title="Topological sorting">Topological sorting</a>.</li>
<li>Finding 2-(edge or vertex)-connected components.</li>
<li>Finding <a href="/wiki/Strongly_connected_components" title="Strongly connected components" class="mw-redirect">strongly connected components</a>.</li>
<li>Solving puzzles with only one solution, such as <a href="/wiki/Maze" title="Maze">mazes</a>.</li>
</ul>
<p><a name="References" id="References"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Depth-first_search&amp;action=edit&amp;section=6" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2>
<div class="references-small">
<ul>
<li><a href="/wiki/Thomas_H._Cormen" title="Thomas H. Cormen">Thomas H. Cormen</a>, <a href="/wiki/Charles_E._Leiserson" title="Charles E. Leiserson">Charles E. Leiserson</a>, <a href="/wiki/Ronald_L._Rivest" title="Ronald L. Rivest" class="mw-redirect">Ronald L. Rivest</a>, and <a href="/wiki/Clifford_Stein" title="Clifford Stein">Clifford Stein</a>. <i><a href="/wiki/Introduction_to_Algorithms" title="Introduction to Algorithms">Introduction to Algorithms</a></i>, Second Edition. MIT Press and McGraw-Hill, 2001. <a href="/wiki/Special:BookSources/0262032937" class="internal">ISBN 0-262-03293-7</a>. Section 22.3: Depth-first search, pp.540–549.</li>
<li><cite style="font-style:normal" class="" id="CITEREFKnuth1997"><a href="/wiki/Donald_Knuth" title="Donald Knuth">Knuth, Donald E.</a> (1997), <i><a href="http://www-cs-faculty.stanford.edu/~knuth/taocp.html" class="external text" title="http://www-cs-faculty.stanford.edu/~knuth/taocp.html" rel="nofollow">The Art Of Computer Programming Vol 1. 3rd ed.</a></i>, Boston: Addison-Wesley, <a href="/wiki/Special:BookSources/0201896834" class="internal">ISBN 0-201-89683-4</a>, <a href="/wiki/OCLC" title="OCLC" class="mw-redirect">OCLC</a> <a href="http://worldcat.org/oclc/155842391" class="external text" title="http://worldcat.org/oclc/155842391" rel="nofollow">155842391</a><span class="printonly">, <a href="http://www-cs-faculty.stanford.edu/~knuth/taocp.html" class="external free" title="http://www-cs-faculty.stanford.edu/~knuth/taocp.html" rel="nofollow">http://www-cs-faculty.stanford.edu/~knuth/taocp.html</a></span></cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=The+Art+Of+Computer+Programming+Vol+1.++3rd+ed.&amp;rft.aulast=Knuth&amp;rft.aufirst=Donald+E.&amp;rft.au=Knuth%2C+Donald+E.&amp;rft.date=1997&amp;rft.place=Boston&amp;rft.pub=Addison-Wesley&amp;rft_id=info:oclcnum/155842391&amp;rft.isbn=0-201-89683-4&amp;rft_id=http%3A%2F%2Fwww-cs-faculty.stanford.edu%2F%7Eknuth%2Ftaocp.html&amp;rfr_id=info:sid/en.wikipedia.org:Depth-first_search"><span style="display: none;">&#160;</span></span></li>
</ul>
</div>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Depth-first_search&amp;action=edit&amp;section=7" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="http://www.cse.ohio-state.edu/~gurari/course/cis680/cis680Ch14.html" class="external text" title="http://www.cse.ohio-state.edu/~gurari/course/cis680/cis680Ch14.html" rel="nofollow">Depth-First Explanation and Example</a></li>
<li><a href="http://www.boost.org/libs/graph/doc/depth_first_search.html" class="external text" title="http://www.boost.org/libs/graph/doc/depth_first_search.html" rel="nofollow">C++ Boost Graph Library: Depth-First Search</a></li>
<li><a href="http://www.cs.duke.edu/csed/jawaa/DFSanim.html" class="external text" title="http://www.cs.duke.edu/csed/jawaa/DFSanim.html" rel="nofollow">Depth-First Search Animation (for a directed graph)</a></li>
<li><a href="http://www.kirupa.com/developer/actionscript/depth_breadth_search.htm" class="external text" title="http://www.kirupa.com/developer/actionscript/depth_breadth_search.htm" rel="nofollow">Depth First and Breadth First Search: Explanation and Code</a></li>
<li><a href="http://www.cs.usask.ca/resources/tutorials/csconcepts/1999_8/tutorial/beginner/trees/breadth.html" class="external text" title="http://www.cs.usask.ca/resources/tutorials/csconcepts/1999_8/tutorial/beginner/trees/breadth.html" rel="nofollow">dfs applet</a></li>
<li><a href="http://quickgraph.codeplex.com/Wiki/View.aspx?title=Depth%20First%20Search%20Example" class="external text" title="http://quickgraph.codeplex.com/Wiki/View.aspx?title=Depth%20First%20Search%20Example" rel="nofollow">QuickGraph</a>, depth first search example for .Net</li>
</ul>


<!-- 
NewPP limit report
Preprocessor node count: 1426/1000000
Post-expand include size: 11449/2048000 bytes
Template argument size: 2827/2048000 bytes
Expensive parser function count: 0/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:97034-0!1!0!default!!en!2 and timestamp 20090402084323 -->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org/wiki/Depth-first_search">http://en.wikipedia.org/wiki/Depth-first_search</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/wiki/Category:Graph_algorithms" title="Category:Graph algorithms">Graph algorithms</a></span> | <span dir='ltr'><a href="/wiki/Category:Search_algorithms" title="Category:Search algorithms">Search algorithms</a></span> | <span dir='ltr'><a href="/wiki/Category:Articles_with_example_pseudocode" title="Category:Articles with example pseudocode">Articles with example pseudocode</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Depth-first_search" title="View the content page [c]" accesskey="c">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:Depth-first_search" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=Depth-first_search&amp;action=edit" title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e">Edit this page</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=Depth-first_search&amp;action=history" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Depth-first_search" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://upload.wikimedia.org/wikipedia/en/b/bc/Wiki.png);" href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
				<li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
				<li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Wikipedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if one exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search Wikipedia for this text" />
			</div></form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-interaction'>
		<h5>Interaction</h5>
		<div class='pBody'>
			<ul>
				<li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
				<li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-contact"><a href="/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Donate" title="Support us">Donate to Wikipedia</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Depth-first_search" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Depth-first_search" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=Depth-first_search&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=Depth-first_search&amp;oldid=281256095" title="Permanent link to this version of the page">Permanent link</a></li><li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Depth-first_search&amp;id=281256095">Cite this page</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>Languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-ca"><a href="http://ca.wikipedia.org/wiki/Cerca_en_profunditat">Català</a></li>
				<li class="interwiki-de"><a href="http://de.wikipedia.org/wiki/Tiefensuche">Deutsch</a></li>
				<li class="interwiki-es"><a href="http://es.wikipedia.org/wiki/B%C3%BAsqueda_en_profundidad">Español</a></li>
				<li class="interwiki-fr"><a href="http://fr.wikipedia.org/wiki/Algorithme_de_parcours_en_profondeur">Français</a></li>
				<li class="interwiki-he"><a href="http://he.wikipedia.org/wiki/%D7%90%D7%9C%D7%92%D7%95%D7%A8%D7%99%D7%AA%D7%9D_%D7%97%D7%99%D7%A4%D7%95%D7%A9_%D7%9C%D7%A2%D7%95%D7%9E%D7%A7">עברית</a></li>
				<li class="interwiki-lt"><a href="http://lt.wikipedia.org/wiki/Paie%C5%A1ka_%C4%AF_gyl%C4%AF">Lietuvių</a></li>
				<li class="interwiki-nl"><a href="http://nl.wikipedia.org/wiki/Diepte-eerst_zoeken">Nederlands</a></li>
				<li class="interwiki-ja"><a href="http://ja.wikipedia.org/wiki/%E6%B7%B1%E3%81%95%E5%84%AA%E5%85%88%E6%8E%A2%E7%B4%A2">日本語</a></li>
				<li class="interwiki-pl"><a href="http://pl.wikipedia.org/wiki/Przeszukiwanie_w_g%C5%82%C4%85b">Polski</a></li>
				<li class="interwiki-pt"><a href="http://pt.wikipedia.org/wiki/Busca_em_profundidade">Português</a></li>
				<li class="interwiki-ru"><a href="http://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%B8%D1%81%D0%BA_%D0%B2_%D0%B3%D0%BB%D1%83%D0%B1%D0%B8%D0%BD%D1%83">Русский</a></li>
				<li class="interwiki-fi"><a href="http://fi.wikipedia.org/wiki/Syvyyssuuntainen_l%C3%A4pik%C3%A4ynti">Suomi</a></li>
				<li class="interwiki-vi"><a href="http://vi.wikipedia.org/wiki/T%C3%ACm_ki%E1%BA%BFm_theo_chi%E1%BB%81u_s%C3%A2u">Tiếng Việt</a></li>
				<li class="interwiki-uk"><a href="http://uk.wikipedia.org/wiki/%D0%9F%D0%BE%D1%88%D1%83%D0%BA_%D0%B2_%D0%B3%D0%BB%D0%B8%D0%B1%D0%B8%D0%BD%D1%83">Українська</a></li>
				<li class="interwiki-zh"><a href="http://zh.wikipedia.org/wiki/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2">中文</a></li>
				<li class="interwiki-fa"><a href="http://fa.wikipedia.org/wiki/%D8%AC%D8%B3%D8%AA%D8%AC%D9%88%DB%8C_%D8%B9%D9%85%D9%82_%D8%A7%D9%88%D9%84">فارسی</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 2 April 2009, at 08:43.</li>
					<li id="copyright">All text is available under the terms of the <a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_the_GNU_Free_Documentation_License" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Copyrights" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc.</a>, a U.S. registered <a class='internal' href="http://en.wikipedia.org/wiki/501%28c%29#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="http://en.wikipedia.org/wiki/Non-profit_organization" title="Non-profit organization">nonprofit</a> <a href="http://en.wikipedia.org/wiki/Charitable_organization" title="Charitable organization">charity</a>.<br /></li>
					<li id="privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
					<li id="disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served by srv184 in 0.070 secs. --></body></html>
