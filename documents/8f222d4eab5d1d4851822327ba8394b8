<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15alpha" />
		<meta name="keywords" content="Linux startup process,BIOS,BSD,Boot loader,BzImage,Central processing unit,Computer network,Console,DOS,Disk image,Disk partitioning" />
		<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Linux_startup_process&amp;action=edit" />
		<link rel="edit" title="Edit this page" href="/w/index.php?title=Linux_startup_process&amp;action=edit" />
		<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<link rel="alternate" type="application/rss+xml" title="Wikipedia RSS Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Linux startup process - Wikipedia, the free encyclopedia</title>
		<link rel="stylesheet" href="/skins-1.5/common/shared.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/common/commonPrint.css?207xx" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins-1.5/monobook/main.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/chick/main.css?207xx" type="text/css" media="handheld" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE50Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE55Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins-1.5/monobook/IE60Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins-1.5/monobook/IE70Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js?207xx"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins-1.5";
		var wgArticlePath = "/wiki/$1";
		var wgScriptPath = "/w";
		var wgScript = "/w/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://en.wikipedia.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Linux_startup_process";
		var wgTitle = "Linux startup process";
		var wgAction = "view";
		var wgArticleId = "10439244";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 262391993;
		var wgVersion = "1.15alpha";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgMWSuggestTemplate = "http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest";
		var wgDBname = "enwiki";
		var wgSearchNamespaces = [0];
		var wgMWSuggestMessages = ["with suggestions", "no suggestions"];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?207xx"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js?207xx"></script>
		<script type="text/javascript" src="/skins-1.5/common/mwsuggest.js?207xx"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgNotice='';var wgNoticeLocal='';
/*]]>*/</script>		<script type="text/javascript" src="http://upload.wikimedia.org/centralnotice/wikipedia/en/centralnotice.js?207xx"></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Linux_startup_process skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><script type='text/javascript'>if (wgNotice != '') document.writeln(wgNotice);</script></div>		<h1 id="firstHeading" class="firstHeading">Linux startup process</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p>The <b>Linux startup process</b> is the process of <a href="/wiki/Linux" title="Linux">Linux</a>-<a href="/wiki/Operating_system" title="Operating system">operating system</a> initialize. It is in many ways similar to the <a href="/wiki/BSD" title="BSD" class="mw-redirect">BSD</a> and other <a href="/wiki/Unix" title="Unix">Unix</a> style boot processes, from which it derives.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Overview_of_typical_process"><span class="tocnumber">1</span> <span class="toctext">Overview of typical process</span></a></li>
<li class="toclevel-1"><a href="#Boot_loader_phase"><span class="tocnumber">2</span> <span class="toctext">Boot loader phase</span></a>
<ul>
<li class="toclevel-2"><a href="#GRUB"><span class="tocnumber">2.1</span> <span class="toctext">GRUB</span></a></li>
<li class="toclevel-2"><a href="#LILO"><span class="tocnumber">2.2</span> <span class="toctext">LILO</span></a></li>
<li class="toclevel-2"><a href="#Loadlin"><span class="tocnumber">2.3</span> <span class="toctext">Loadlin</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Kernel_phase"><span class="tocnumber">3</span> <span class="toctext">Kernel phase</span></a>
<ul>
<li class="toclevel-2"><a href="#Kernel_loading_stage"><span class="tocnumber">3.1</span> <span class="toctext">Kernel loading stage</span></a></li>
<li class="toclevel-2"><a href="#Kernel_startup_stage"><span class="tocnumber">3.2</span> <span class="toctext">Kernel startup stage</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Init_process_.28SysV_init_style_only.29"><span class="tocnumber">4</span> <span class="toctext">Init process (SysV init style only)</span></a></li>
<li class="toclevel-1"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1"><a href="#References"><span class="tocnumber">7</span> <span class="toctext">References</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Overview_of_typical_process" id="Overview_of_typical_process"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=1" title="Edit section: Overview of typical process">edit</a>]</span> <span class="mw-headline">Overview of typical process</span></h2>
<p>In Linux, the flow of control during a boot is from BIOS, to boot loader, to kernel. The kernel then starts the scheduler (to allow multi-tasking) and runs first userland program Init (which sets up the user environment and allows user interaction and login), at which point the kernel goes idle unless called externally.</p>
<p>In detail:</p>
<ol>
<li>The <a href="/wiki/BIOS" title="BIOS">BIOS</a> performs <a href="/wiki/Hardware" title="Hardware">hardware</a>-platform specific startup tasks</li>
<li>Once the hardware is recognized and started correctly, the BIOS loads and executes the partition boot code from the designated boot device, which contains phase 1 of a Linux <a href="/wiki/Boot_loader" title="Boot loader" class="mw-redirect">boot loader</a>. Phase 1 loads phase 2 (the bulk of the boot loader code). Some loaders may use an intermediate stage to achieve this (known as phase 1.5) since modern large disks may not be fully readable without further code.</li>
<li>The boot loader often presents the user with a menu of possible boot options. It then loads the operating system, which decompresses into memory, and sets up system functions such as essential hardware and memory paging, before calling <code>start_kernel()</code>.</li>
<li><code>start_kernel()</code> then performs the majority of system setup (interrupts, the rest of memory management, device initialization, drivers, etc) before spawning separately, the idle process and scheduler, and the <a href="/wiki/Init_process" title="Init process" class="mw-redirect">Init process</a> (which is executed in user space).</li>
<li>The scheduler effectively takes control of the system management, as the kernel goes dormant (idle).</li>
<li>The Init process executes scripts as needed that set up all non-operating system services and structures in order to allow a user environment to be created, and then presents the user with a login screen.</li>
</ol>
<p>On shutdown, Init is called to close down all user space functionality in a controlled manner, again via scripted directions, following which Init terminates and the Kernel executes its own shutdown.</p>
<p><a name="Boot_loader_phase" id="Boot_loader_phase"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=2" title="Edit section: Boot loader phase">edit</a>]</span> <span class="mw-headline">Boot loader phase</span></h2>
<p>The boot loader phase varies by platform. Since the earlier phases are not specific to the OS, the boot process is considered to start:</p>
<ul>
<li>For <a href="/wiki/X86_architecture" title="X86 architecture" class="mw-redirect">x86</a> or <a href="/wiki/X86-64" title="X86-64">x86-64</a>: when the partition boot sector code is executed in <a href="/wiki/Real_mode" title="Real mode">real mode</a> and loads the first stage <a href="/wiki/Boot_loader" title="Boot loader" class="mw-redirect">boot loader</a> (typically a part of <a href="/wiki/LILO_(boot_loader)" title="LILO (boot loader)">LILO</a> or <a href="/wiki/GRUB" title="GRUB" class="mw-redirect">GRUB</a>).</li>
</ul>
<p>From that point, the boot process continues as follows:</p>
<p>The first stage BOOT Loader loads the remainder of the boot loader, which typically gives a prompt asking which <a href="/wiki/Operating_system" title="Operating system">operating system</a> (or type of session) the user wishes to initialize. Under LILO, this is done via the map installer which reads the configuration file <code>/etc/lilo.conf</code> to identify the available systems. It includes data such as boot <a href="/wiki/Disk_partitioning" title="Disk partitioning">partition</a> and <a href="/wiki/Kernel_(computer_science)" title="Kernel (computer science)" class="mw-redirect">kernel</a> location for each, as well as customized options if any. Upon selection, the appropriate operating system is loaded into <a href="/wiki/Random_access_memory" title="Random access memory" class="mw-redirect">RAM</a> memory as an image file ("<a href="/wiki/Initrd" title="Initrd">initrd</a>"), and along with the appropriate parameters, control is passed to it.</p>
<p>LILO and GRUB differ in some ways:<sup id="cite_ref-oldfield_0-0" class="reference"><a href="#cite_note-oldfield-0" title=""><span>[</span>1<span>]</span></a></sup></p>
<ul>
<li>LILO does not understand file systems, so it uses raw disk offsets and the BIOS for data load. It loads the menu code, and then depending on the response loads either the 512 byte disk sectors for an <a href="/wiki/Master_boot_record" title="Master boot record">MBR</a> system such as <a href="/wiki/Microsoft_Windows" title="Microsoft Windows">Microsoft Windows</a>, or the kernel image for Linux.<sup id="cite_ref-oldfield_0-1" class="reference"><a href="#cite_note-oldfield-0" title=""><span>[</span>1<span>]</span></a></sup></li>
<li>GRUB by contrast does have understanding of the common <a href="/wiki/Ext2" title="Ext2">ext2</a> and <a href="/wiki/Ext3" title="Ext3">ext3</a> file systems.<sup id="cite_ref-redhat_startup_1-0" class="reference"><a href="#cite_note-redhat_startup-1" title=""><span>[</span>2<span>]</span></a></sup> Because GRUB stores its data in a configuration file rather than the MBR and contains a command line interface, it is often easier to rectify or modify GRUB if misconfigured or corrupt.<sup id="cite_ref-redhat_lilo_2-0" class="reference"><a href="#cite_note-redhat_lilo-2" title=""><span>[</span>3<span>]</span></a></sup></li>
</ul>
<p><a name="GRUB" id="GRUB"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=3" title="Edit section: GRUB">edit</a>]</span> <span class="mw-headline">GRUB</span></h3>
<dl>
<dd><i>Source: <a href="http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/s1-grub-whatis.html" class="external text" title="http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/s1-grub-whatis.html" rel="nofollow">Red Hat GRUB description</a>.</i></dd>
</dl>
<ol>
<li>The first stage loader is read by the <a href="/wiki/BIOS" title="BIOS">BIOS</a> from the <a href="/wiki/Master_boot_record" title="Master boot record">MBR</a> (master boot record).</li>
<li>The first stage loads the rest of the boot loader (second stage). If the second stage is on a large drive, sometimes an intermediate 1.5 stage is loaded, which contains extra code to allow cylinders above 1024, or <a href="/wiki/Logical_block_addressing" title="Logical block addressing">LBA</a> type drives, to be read. The 1.5 boot loader is stored (if needed) in the MBR or the boot partition.</li>
<li>The second stage boot loader executes, and displays the GRUB startup menu. It also allows choice of operating environment, and examination of system parameters.</li>
<li>When an operating system is chosen, it is loaded and control is passed.</li>
</ol>
<p>GRUB supports both direct and chain-loading boot methods, <a href="/wiki/Logical_block_addressing" title="Logical block addressing">LBA</a>, ext2, and "a true command-based, pre-OS environment on x86 machines". It contains three interfaces: a selection menu, a configuration editor, and a command line console.</p>
<p><a name="LILO" id="LILO"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=4" title="Edit section: LILO">edit</a>]</span> <span class="mw-headline">LILO</span></h3>
<p>LILO, the older of the two boot loaders, is almost identical to GRUB in process, except that it does not contain a command line interface. Thus all changes must be made to its configuration and written to the <a href="/wiki/Master_boot_record" title="Master boot record">MBR</a>, and then the system restarted. An error in configuration can therefore leave a disk unable to be booted without use of a separate boot device (<a href="/wiki/Floppy_disk" title="Floppy disk">floppy disk</a> etc) containing a program capable of fixing this.<sup id="cite_ref-redhat_lilo_2-1" class="reference"><a href="#cite_note-redhat_lilo-2" title=""><span>[</span>3<span>]</span></a></sup> Additionally it does not understand file systems, instead locations of image files are stored within the MBR directly<sup id="cite_ref-redhat_lilo_2-2" class="reference"><a href="#cite_note-redhat_lilo-2" title=""><span>[</span>3<span>]</span></a></sup> and the BIOS is used to access them directly.</p>
<p><a name="Loadlin" id="Loadlin"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=5" title="Edit section: Loadlin">edit</a>]</span> <span class="mw-headline">Loadlin</span></h3>
<div class="rellink noprint relarticle mainarticle">Main article: <a href="/wiki/Loadlin" title="Loadlin">Loadlin</a></div>
<p>Yet another way to boot Linux is from <a href="/wiki/DOS" title="DOS">DOS</a> or <a href="/wiki/Windows_9x" title="Windows 9x">Windows 9x</a>, where the Linux kernel completely replaces the running copy of this operating system. This can be useful in the case of hardware which needs to be switched on via software and for which such configuration programs are only available for DOS, whereas not for Linux, those being proprietary to the manufacturer and kept an industry secret. This tedious booting method is less necessary nowadays, as Linux has drivers for a multitude of hardware devices, but it used to be helpful in the past.<br />
Another case is when the Linux is located on a storage device which is not available to the BIOS for booting: DOS or Windows can load the appropriate drivers to make up for the BIOS limitation, and boot Linux from there.</p>
<p><a name="Kernel_phase" id="Kernel_phase"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=6" title="Edit section: Kernel phase">edit</a>]</span> <span class="mw-headline">Kernel phase</span></h2>
<p>The <a href="/wiki/Linux_kernel" title="Linux kernel">kernel</a> in Linux handles all operating system processes, such as <a href="/wiki/Memory_management" title="Memory management">memory management</a>, task <a href="/wiki/Scheduling" title="Scheduling">scheduling</a>, <a href="/wiki/I/O" title="I/O" class="mw-redirect">I/O</a>, <a href="/wiki/Interprocess_communication" title="Interprocess communication" class="mw-redirect">interprocess communication</a>, and overall system control. This is loaded in two stages - in the first stage the kernel (as a compressed image file) is loaded into memory and decompressed, and a few fundamentals such as basic memory management are set up. Control is then switched one final time to the main kernel start process. Once the kernel is fully operational – and as part of its startup, upon being loaded and executing – the kernel looks for an <a href="/wiki/Init_process" title="Init process" class="mw-redirect">init process</a> to run, which (separately) sets up a user space and the processes needed for a user environment and ultimate login. The kernel itself is then allowed to go idle, subject to calls from other processes.</p>
<p><a name="Kernel_loading_stage" id="Kernel_loading_stage"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=7" title="Edit section: Kernel loading stage">edit</a>]</span> <span class="mw-headline">Kernel loading stage</span></h3>
<p>The kernel as loaded is typically an image file, compressed into either <a href="/wiki/ZImage" title="ZImage" class="mw-redirect">zImage</a> or <a href="/wiki/BzImage" title="BzImage" class="mw-redirect">bzImage</a> formats with <a href="/wiki/Zlib" title="Zlib">zlib</a>. It contains a header program which does a minimal amount of hardware setup, decompresses the image fully into <a href="/wiki/High_memory" title="High memory">high memory</a>, taking note of any <a href="/wiki/RAM_disk" title="RAM disk">RAM disk</a> if configured.<sup id="cite_ref-ibm_description_3-0" class="reference"><a href="#cite_note-ibm_description-3" title=""><span>[</span>4<span>]</span></a></sup> It then executes kernel startup via <code>./arch/i386/boot/head</code> and the <code>startup_32 ()</code> (for x86 based processors) process.</p>
<p><a name="Kernel_startup_stage" id="Kernel_startup_stage"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=8" title="Edit section: Kernel startup stage">edit</a>]</span> <span class="mw-headline">Kernel startup stage</span></h3>
<dl>
<dd><i>Source: <a href="http://www-128.ibm.com/developerworks/library/l-linuxboot/index.html" class="external text" title="http://www-128.ibm.com/developerworks/library/l-linuxboot/index.html" rel="nofollow">IBM description of Linux boot process</a></i></dd>
</dl>
<p>The startup function for the kernel (also called the swapper or process 0) establishes <a href="/wiki/Memory_management" title="Memory management">memory management</a> (paging tables and memory paging), detects the type of <a href="/wiki/Central_processing_unit" title="Central processing unit">CPU</a> and any additional functionality such as <a href="/wiki/Floating_point" title="Floating point">floating point</a> capabilities, and then switches to non-architecture specific Linux kernel functionality via a call to <code>start_kernel ()</code>.</p>
<p>start_kernel executes a wide range of initialization functions. It sets up <a href="/wiki/Interrupt_handling" title="Interrupt handling" class="mw-redirect">interrupt handling</a> (<a href="/wiki/IRQ" title="IRQ" class="mw-redirect">IRQs</a>), further configures memory, starts the Init process (the first user-space process), and then starts the idle task via <code>cpu_idle ()</code>. Notably, the kernel startup process also mounts the <a href="/wiki/Initrd" title="Initrd">initial RAM disk</a> ("initrd") that was loaded previously as the temporary root filing system during the boot phase. This allows driver modules to be loaded without reliance upon other physical devices and drivers, and keeps the kernel smaller. The root file system is later switched via a call to <code>pivot_root ()</code> which unmounts the temporary root file system and replaces it with the use of the real one, once the latter is accessible. The memory used by the temporary root file system is then reclaimed.</p>
<p>Thus, the kernel initializes devices, mounts the root filesystem specified by the boot loader as <a href="/wiki/Read_only" title="Read only" class="mw-redirect">read only</a>, and runs <a href="/wiki/Init_process" title="Init process" class="mw-redirect">Init</a> (<code>/sbin/init</code>) which is designated as the first process run by the system (<a href="/wiki/Process_identifier" title="Process identifier">PID</a> = 1).<sup id="cite_ref-oldfield_0-2" class="reference"><a href="#cite_note-oldfield-0" title=""><span>[</span>1<span>]</span></a></sup> A message is printed by the kernel upon mounting the file system, and by Init upon starting the Init process. It may also optionally run <a href="/wiki/Initrd" title="Initrd">Initrd</a> to allow setup and device related matters (<a href="/wiki/RAM_disk" title="RAM disk">RAM disk</a> or similar) to be handled before the root file system is mounted.<sup id="cite_ref-oldfield_0-3" class="reference"><a href="#cite_note-oldfield-0" title=""><span>[</span>1<span>]</span></a></sup></p>
<p>According to <a href="/wiki/Red_Hat" title="Red Hat">Red Hat</a>, the detailed kernel process at this stage is therefore summarized as follows: <sup id="cite_ref-redhat_startup_1-1" class="reference"><a href="#cite_note-redhat_startup-1" title=""><span>[</span>2<span>]</span></a></sup></p>
<dl>
<dd>"When the kernel is loaded, it immediately initializes and configures the computer's memory and configures the various hardware attached to the system, including all processors, I/O subsystems, and storage devices. It then looks for the compressed initrd image in a predetermined location in memory, decompresses it, mounts it, and loads all necessary drivers. Next, it initializes virtual devices related to the file system, such as <a href="/wiki/Logical_Volume_Manager_(Linux)" title="Logical Volume Manager (Linux)">LVM</a> or software <a href="/wiki/RAID" title="RAID">RAID</a> before unmounting the initrd <a href="/wiki/Disk_image" title="Disk image">disk image</a> and freeing up all the memory the disk image once occupied. The kernel then creates a root device, mounts the root partition read-only, and frees any unused memory. At this point, the kernel is loaded into memory and operational. However, since there are no user applications that allow meaningful input to the system, not much can be done with it."</dd>
</dl>
<p>At this point, with interrupts enabled, the scheduler can take control of the overall management of the system, to provide pre-emptive multi-tasking, and the init process is left to continue booting the user environment in user space.</p>
<p><a name="Init_process_.28SysV_init_style_only.29" id="Init_process_.28SysV_init_style_only.29"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=9" title="Edit section: Init process (SysV init style only)">edit</a>]</span> <span class="mw-headline">Init process (SysV init style only)</span></h2>
<dl>
<dd>
<table style="border:1px black solid">
<tr>
<td>"Init is the father of all <a href="/wiki/Process_(computing)" title="Process (computing)">processes</a>. Its primary role is to create processes from a script stored in the file <code>/etc/inittab</code>. This file usually has entries which cause init to spawn <a href="/wiki/Getty_(Unix)" title="Getty (Unix)">gettys</a> on each line that users can log in. It also controls autonomous processes required by any particular system. A run level is a software configuration of the system which allows only a selected group of processes to exist. The processes spawned by init for each of these run levels are defined in the /etc/inittab file.</td>
</tr>
<tr align="right">
<td>– manual page for Init<sup id="cite_ref-man_init_4-0" class="reference"><a href="#cite_note-man_init-4" title=""><span>[</span>5<span>]</span></a></sup></td>
</tr>
</table>
</dd>
</dl>
<p>Init's job is "to get everything running the way it should be" <sup id="cite_ref-p2b_6_5-0" class="reference"><a href="#cite_note-p2b_6-5" title=""><span>[</span>6<span>]</span></a></sup> once the kernel is fully running. Essentially it establishes and operates the entire <a href="/wiki/User_space" title="User space">user space</a>. This includes checking and mounting <a href="/wiki/File_system" title="File system">file systems</a>, starting up necessary user services, and ultimately switching to a user-environment when system startup is completed. It is similar to the <a href="/wiki/Unix" title="Unix">Unix</a> and <a href="/wiki/BSD" title="BSD" class="mw-redirect">BSD</a> init processes, from which it derived, but in some cases has diverged or became customized. In a standard Linux system, Init is executed with a parameter, known as a <a href="/wiki/Runlevel" title="Runlevel">runlevel</a>, that takes a value from 1 to 6, and that determines which subsystems are to be made operational. Each runlevel has its own <a href="/wiki/Script_(computing)" title="Script (computing)" class="mw-redirect">scripts</a> which codify the various processes involved in setting up or leaving the given runlevel, and it is these scripts which are referenced as necessary in the boot process. Init scripts are typically held in directories with names such as <code>"/etc/rc..."</code>. The top level configuration file for init is at <code>/etc/inittab</code>.<sup id="cite_ref-p2b_6_5-1" class="reference"><a href="#cite_note-p2b_6-5" title=""><span>[</span>6<span>]</span></a></sup></p>
<p>During system boot, it checks whether a default runlevel is specified in /etc/inittab, and requests the runlevel to enter via the system <a href="/wiki/Console" title="Console">console</a> if not. It then proceeds to run all the relevant boot scripts for the given runlevel, including loading <a href="/wiki/Module" title="Module">modules</a>, checking the integrity of the root file system (which was mounted read-only) and then remounting it for full read-write access, and sets up the <a href="/wiki/Computer_network" title="Computer network">network</a>.<sup id="cite_ref-oldfield_0-4" class="reference"><a href="#cite_note-oldfield-0" title=""><span>[</span>1<span>]</span></a></sup></p>
<p>In detail, according to <a href="/wiki/Red_Hat_Linux" title="Red Hat Linux">Red Hat</a>, the init process follows the following steps:<sup id="cite_ref-redhat_startup_1-2" class="reference"><a href="#cite_note-redhat_startup-1" title=""><span>[</span>2<span>]</span></a></sup></p>
<ol>
<li>It looks at the sysinit script, which "sets the environment path, starts <code><a href="/wiki/Swap_(computer_science)" title="Swap (computer science)">swap</a></code>, checks the file systems, and takes care of everything the system needs to have done at system initialization." This includes the system and hardware clock, special serial port processes, and the like.</li>
<li>Init then looks at the specific runlevel, as specified in that runlevels configuration.</li>
<li>Init then sets the source function library for the system. This spells out how to start or kill a program and how to determine the PID of a program.</li>
<li>It then starts all applicable processes and creates a login session for the user.</li>
</ol>
<p>After it has spawned all of the processes specified, init goes dormant, and waits for one of three events to happen:- processes it started to end or die, a power failure signal, or a request via <code>/sbin/telinit</code> to further change the runlevel.<sup id="cite_ref-man_init_4-1" class="reference"><a href="#cite_note-man_init-4" title=""><span>[</span>5<span>]</span></a></sup></p>
<p>This applies to <a href="/wiki/UNIX_System_V" title="UNIX System V">SysV</a>-style init binaries. Other init binaries may behave differently.</p>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=10" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2>
<ul>
<li><a href="/wiki/SYSLINUX" title="SYSLINUX">SYSLINUX</a></li>
<li><a href="/wiki/Windows_NT_startup_process" title="Windows NT startup process">Windows NT startup process</a></li>
<li><a href="/wiki/Windows_Vista_startup_process" title="Windows Vista startup process">Windows Vista startup process</a></li>
</ul>
<p><a name="Notes" id="Notes"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=11" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline">Notes</span></h2>
<div class="references-small">
<ol class="references">
<li id="cite_note-oldfield-0">^ <a href="#cite_ref-oldfield_0-0" title=""><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-oldfield_0-1" title=""><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-oldfield_0-2" title=""><sup><i><b>c</b></i></sup></a> <a href="#cite_ref-oldfield_0-3" title=""><sup><i><b>d</b></i></sup></a> <a href="#cite_ref-oldfield_0-4" title=""><sup><i><b>e</b></i></sup></a> <a href="http://oldfield.wattle.id.au/luv/boot.html" class="external free" title="http://oldfield.wattle.id.au/luv/boot.html" rel="nofollow">http://oldfield.wattle.id.au/luv/boot.html</a> Linux Boot Process - by Kim Oldfield (2001)]</li>
<li id="cite_note-redhat_startup-1">^ <a href="#cite_ref-redhat_startup_1-0" title=""><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-redhat_startup_1-1" title=""><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-redhat_startup_1-2" title=""><sup><i><b>c</b></i></sup></a> <a href="http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/s1-boot-init-shutdown-process.html" class="external free" title="http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/s1-boot-init-shutdown-process.html" rel="nofollow">http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/s1-boot-init-shutdown-process.html</a></li>
<li id="cite_note-redhat_lilo-2">^ <a href="#cite_ref-redhat_lilo_2-0" title=""><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-redhat_lilo_2-1" title=""><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-redhat_lilo_2-2" title=""><sup><i><b>c</b></i></sup></a> <a href="http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/s1-grub-lilo.html" class="external free" title="http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/s1-grub-lilo.html" rel="nofollow">http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/s1-grub-lilo.html</a></li>
<li id="cite_note-ibm_description-3"><b><a href="#cite_ref-ibm_description_3-0" title="">^</a></b> <a href="http://www-128.ibm.com/developerworks/library/l-linuxboot/index.html" class="external text" title="http://www-128.ibm.com/developerworks/library/l-linuxboot/index.html" rel="nofollow">IBM description of Linux boot process</a></li>
<li id="cite_note-man_init-4">^ <a href="#cite_ref-man_init_4-0" title=""><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-man_init_4-1" title=""><sup><i><b>b</b></i></sup></a> <a href="http://man.he.net/man8/init" class="external text" title="http://man.he.net/man8/init" rel="nofollow">init</a></li>
<li id="cite_note-p2b_6-5">^ <a href="#cite_ref-p2b_6_5-0" title=""><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-p2b_6_5-1" title=""><sup><i><b>b</b></i></sup></a> <a href="http://axiom.anu.edu.au/~okeefe/p2b/power2bash/power2bash-6.html" class="external text" title="http://axiom.anu.edu.au/~okeefe/p2b/power2bash/power2bash-6.html" rel="nofollow">From Power Up To Bash Prompt: Init</a></li>
</ol>
</div>
<p><a name="References" id="References"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Linux_startup_process&amp;action=edit&amp;section=12" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2>
<div class="references-small" style="margin-left:1.5em;">
<ul>
<li><a href="http://axiom.anu.edu.au/~okeefe/p2b/power2bash/power2bash.html" class="external text" title="http://axiom.anu.edu.au/~okeefe/p2b/power2bash/power2bash.html" rel="nofollow">Greg O'Keefe - From Power Up To Bash Prompt</a></li>
<li><a href="http://www-128.ibm.com/developerworks/library/l-linuxboot/index.html" class="external text" title="http://www-128.ibm.com/developerworks/library/l-linuxboot/index.html" rel="nofollow">IBM description of Linux boot process</a> a developerWorks article by M. Tim Jones</li>
</ul>
</div>


<!-- 
NewPP limit report
Preprocessor node count: 257/1000000
Post-expand include size: 534/2048000 bytes
Template argument size: 109/2048000 bytes
Expensive parser function count: 0/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:10439244-0!1!0!default!!en!2 and timestamp 20090416235632 -->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org/wiki/Linux_startup_process">http://en.wikipedia.org/wiki/Linux_startup_process</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/wiki/Category:Linux" title="Category:Linux">Linux</a></span> | <span dir='ltr'><a href="/wiki/Category:Booting" title="Category:Booting">Booting</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Linux_startup_process" title="View the content page [c]" accesskey="c">Article</a></li>
				 <li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:Linux_startup_process&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=Linux_startup_process&amp;action=edit" title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e">Edit this page</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=Linux_startup_process&amp;action=history" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Linux_startup_process" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://upload.wikimedia.org/wikipedia/en/b/bc/Wiki.png);" href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
				<li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
				<li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Wikipedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if one exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search Wikipedia for this text" />
			</div></form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-interaction'>
		<h5>Interaction</h5>
		<div class='pBody'>
			<ul>
				<li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
				<li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-contact"><a href="/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Donate" title="Support us">Donate to Wikipedia</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Linux_startup_process" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Linux_startup_process" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=Linux_startup_process&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=Linux_startup_process&amp;oldid=262391993" title="Permanent link to this version of the page">Permanent link</a></li><li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Linux_startup_process&amp;id=262391993">Cite this page</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>Languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-ko"><a href="http://ko.wikipedia.org/wiki/%EB%A6%AC%EB%88%85%EC%8A%A4_%EC%8B%9C%EC%9E%91_%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4">한국어</a></li>
				<li class="interwiki-es"><a href="http://es.wikipedia.org/wiki/Proceso_de_arranque_en_Linux">Español</a></li>
				<li class="interwiki-ru"><a href="http://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_Linux">Русский</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 6 January 2009, at 22:02 (UTC).</li>
					<li id="copyright">All text is available under the terms of the <a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_the_GNU_Free_Documentation_License" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Copyrights" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc.</a>, a U.S. registered <a class='internal' href="http://en.wikipedia.org/wiki/501%28c%29#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="http://en.wikipedia.org/wiki/Non-profit_organization" title="Non-profit organization">nonprofit</a> <a href="http://en.wikipedia.org/wiki/Charitable_organization" title="Charitable organization">charity</a>.<br /></li>
					<li id="privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
					<li id="disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served by srv222 in 0.079 secs. --></body></html>
