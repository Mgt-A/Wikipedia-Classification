<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15alpha" />
		<meta name="keywords" content="Pipeline (Unix),ASCII,Alphabetical,Anonymous pipe,Apple Computer,Automator (software),BeOS,Bourne Shell,Buffer (computer science),Bytes,CURL" />
		<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit" />
		<link rel="edit" title="Edit this page" href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit" />
		<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<link rel="alternate" type="application/rss+xml" title="Wikipedia RSS Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Pipeline (Unix) - Wikipedia, the free encyclopedia</title>
		<link rel="stylesheet" href="/skins-1.5/common/shared.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/common/commonPrint.css?207xx" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins-1.5/monobook/main.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/chick/main.css?207xx" type="text/css" media="handheld" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE50Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE55Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins-1.5/monobook/IE60Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins-1.5/monobook/IE70Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js?207xx"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins-1.5";
		var wgArticlePath = "/wiki/$1";
		var wgScriptPath = "/w";
		var wgScript = "/w/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://en.wikipedia.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Pipeline_(Unix)";
		var wgTitle = "Pipeline (Unix)";
		var wgAction = "view";
		var wgArticleId = "1236117";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 279697667;
		var wgVersion = "1.15alpha";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgMWSuggestTemplate = "http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest";
		var wgDBname = "enwiki";
		var wgSearchNamespaces = [0];
		var wgMWSuggestMessages = ["with suggestions", "no suggestions"];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?207xx"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js?207xx"></script>
		<script type="text/javascript" src="/skins-1.5/common/mwsuggest.js?207xx"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgNotice='';var wgNoticeLocal='';
/*]]>*/</script>		<script type="text/javascript" src="http://upload.wikimedia.org/centralnotice/wikipedia/en/centralnotice.js?207xx"></script>
<style type="text/css">/*<![CDATA[*/
.source-bash {line-height: normal;}
.source-bash li, .source-bash pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for bash
 * CSS class: source-bash, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie (http://qbnz.com/highlighter)
 */
.source-bash .de1, .source-bash .de2 {font-family: 'Courier New', Courier, monospace; font-weight: normal;}
.source-bash  {}
.source-bash .head {}
.source-bash .foot {}
.source-bash .imp {font-weight: bold; color: red;}
.source-bash .ln-xtra {color: #cc0; background-color: #ffc;}
.source-bash li {font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;}
.source-bash li.li2 {font-weight: bold;}
.source-bash .kw1 {color: #b1b100;}
.source-bash .kw3 {color: #000066;}
.source-bash .co1 {color: #808080; font-style: italic;}
.source-bash .es0 {color: #000099; font-weight: bold;}
.source-bash .br0 {color: #66cc66;}
.source-bash .st0 {color: #ff0000;}
.source-bash .nu0 {color: #cc66cc;}
.source-bash .re0 {color: #0000ff;}
.source-bash .re1 {color: #0000ff;}
.source-bash .re2 {color: #0000ff;}
.source-bash .re3 {color: #808080; font-style: italic;}
.source-bash .re4 {color: #0000ff;}

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
/*]]>*/
</style>		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Pipeline_Unix skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><script type='text/javascript'>if (wgNotice != '') document.writeln(wgNotice);</script></div>		<h1 id="firstHeading" class="firstHeading">Pipeline (Unix)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<div class="thumb tright">
<div class="thumbinner" style="width:282px;"><a href="/wiki/File:Pipeline.svg" class="image" title="A pipeline of three programs run on a text terminal"><img alt="" src="http://upload.wikimedia.org/wikipedia/en/thumb/f/f6/Pipeline.svg/280px-Pipeline.svg.png" width="280" height="266" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:Pipeline.svg" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
A pipeline of three programs run on a text terminal</div>
</div>
</div>
<p>In <a href="/wiki/Unix-like" title="Unix-like">Unix-like</a> computer <a href="/wiki/Operating_system" title="Operating system">operating systems</a>, a <b>pipeline</b> is the original <i><a href="/wiki/Pipeline_(software)" title="Pipeline (software)">software pipeline</a></i>: a set of <a href="/wiki/Process_(computing)" title="Process (computing)">processes</a> chained by their <a href="/wiki/Standard_streams" title="Standard streams">standard streams</a>, so that the output of each process (<i><a href="/wiki/Stdout" title="Stdout" class="mw-redirect">stdout</a></i>) feeds directly as input (<i><a href="/wiki/Stdin" title="Stdin" class="mw-redirect">stdin</a></i>) of the next one. Each connection is implemented by an <a href="/wiki/Anonymous_pipe" title="Anonymous pipe">anonymous pipe</a>. <a href="/wiki/Filter_(Unix)" title="Filter (Unix)">Filter programs</a> are often used in this configuration. The concept was invented by <a href="/wiki/Douglas_McIlroy" title="Douglas McIlroy">Douglas McIlroy</a> for <a href="/wiki/Unix_shell" title="Unix shell">Unix shells</a> and it was named by analogy to a physical <a href="/wiki/Pipeline_transport" title="Pipeline transport">pipeline</a>.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">1</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Simple_example"><span class="tocnumber">1.1</span> <span class="toctext">Simple example</span></a></li>
<li class="toclevel-2"><a href="#Complex_example"><span class="tocnumber">1.2</span> <span class="toctext">Complex example</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Pipelines_in_command_line_interfaces"><span class="tocnumber">2</span> <span class="toctext">Pipelines in command line interfaces</span></a>
<ul>
<li class="toclevel-2"><a href="#Error_stream"><span class="tocnumber">2.1</span> <span class="toctext">Error stream</span></a></li>
<li class="toclevel-2"><a href="#Pipemill"><span class="tocnumber">2.2</span> <span class="toctext">Pipemill</span></a>
<ul>
<li class="toclevel-3"><a href="#Example_of_Pipemill"><span class="tocnumber">2.2.1</span> <span class="toctext">Example of Pipemill</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a href="#Creating_pipelines_programmatically"><span class="tocnumber">3</span> <span class="toctext">Creating pipelines programmatically</span></a></li>
<li class="toclevel-1"><a href="#Implementation"><span class="tocnumber">4</span> <span class="toctext">Implementation</span></a>
<ul>
<li class="toclevel-2"><a href="#Network_pipes"><span class="tocnumber">4.1</span> <span class="toctext">Network pipes</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#History"><span class="tocnumber">5</span> <span class="toctext">History</span></a>
<ul>
<li class="toclevel-2"><a href="#Other_operating_systems"><span class="tocnumber">5.1</span> <span class="toctext">Other operating systems</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a href="#References"><span class="tocnumber">7</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1"><a href="#External_links"><span class="tocnumber">8</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Examples" id="Examples"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=1" title="Edit section: Examples">edit</a>]</span> <span class="mw-headline">Examples</span></h2>
<p><a name="Simple_example" id="Simple_example"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=2" title="Edit section: Simple example">edit</a>]</span> <span class="mw-headline">Simple example</span></h3>
<div dir="ltr" style="text-align: left;">
<pre class="source-bash">
ls -l | less
</pre></div>
<p>In this example, <code><a href="/wiki/Ls" title="Ls">ls</a></code> is the Unix directory lister, and <code><a href="/wiki/Less_(Unix)" title="Less (Unix)">less</a></code> is an interactive text <a href="/wiki/Terminal_pager" title="Terminal pager">pager</a> with searching capabilities. The pipeline lets the user scroll up and down a directory listing that may not fit on the screen.</p>
<p>Pipelines ending in <code>less</code> (or <code><a href="/wiki/More_(command)" title="More (command)">more</a></code>, a similar text pager) are among the most commonly used. They let the user navigate potentially large amounts of text (constrained only by available memory) which otherwise would have scrolled past the top of the terminal and been lost. Put differently, they relieve programmers from the burden of implementing text pagers in their applications: they can pipe output through less, or assume that the user will do so when needed.</p>
<p><a name="Complex_example" id="Complex_example"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=3" title="Edit section: Complex example">edit</a>]</span> <span class="mw-headline">Complex example</span></h3>
<p>Below is an example of a pipeline that implements a kind of <a href="/wiki/Spell_checker" title="Spell checker">spell checker</a> for the <a href="/wiki/World_Wide_Web" title="World Wide Web">web</a> resource indicated by a <a href="/wiki/Uniform_Resource_Locator" title="Uniform Resource Locator">URL</a>. An explanation of what it does follows.</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-bash">
curl <span class="st0">"http://en.wikipedia.org/wiki/Pipeline_(Unix)"</span> | \
sed <span class="st0">'s/[^a-zA-Z ]/ /g'</span> | \
tr <span class="st0">'A-Z '</span> <span class="st0">'a-z<span class="es0">\n</span>'</span> | \
grep <span class="st0">'[a-z]'</span> | \
sort -u | \
comm <span class="nu0">-23</span> - /usr/share/dict/words
</pre></div>
<ul>
<li>Note: The character "\" is used to place all six lines into a single command line.</li>
<li>First, <b><tt><a href="/wiki/CURL" title="CURL">curl</a></tt></b> obtains the <a href="/wiki/HTML" title="HTML">HTML</a> contents of a web page (could use <tt>wget</tt> on some systems).</li>
<li>Second, <b><tt><a href="/wiki/Sed" title="Sed">sed</a></tt></b> removes all characters that are not spaces or letters from the web page's content, replacing them with spaces.</li>
<li>Third, <b><tt><a href="/wiki/Tr_(program)" title="Tr (program)" class="mw-redirect">tr</a></tt></b> changes all of the uppercase letters into lowercase and converts the spaces in the lines of text to newlines (each 'word' is now on a separate line).</li>
<li>Fourth, <b><tt><a href="/wiki/Grep" title="Grep">grep</a></tt></b> includes only lines that contain at least one lowercase <a href="/wiki/Alphabetical" title="Alphabetical" class="mw-redirect">alphabetical</a> character (removing any blank lines).</li>
<li>Fifth, <b><tt><a href="/wiki/Sort_(Unix)" title="Sort (Unix)">sort</a></tt></b> sorts the list of 'words' into alphabetical order, and the <tt>-u</tt> switch removes duplicates.</li>
<li>Finally, <b><tt><a href="/wiki/Comm_(Unix)" title="Comm (Unix)" class="mw-redirect">comm</a></tt></b> finds lines in common between two files, <tt>-23</tt> suppresses lines unique to the second file, and those that are common to both, leaving only those that are found only in the first file named. The <tt>-</tt> in place of a filename causes <tt>comm</tt> to use its standard input (from the pipe line in this case). This results in a list of "words" (lines) that are not found in /usr/share/dict/words.</li>
<li>The special character "|" tells the operating system to pipe the output from the previous command in the line into the next command in the line. That is, the output of the <tt>curl</tt> command is given as the input of the <tt>sed</tt> command.</li>
</ul>
<p><a name="Pipelines_in_command_line_interfaces" id="Pipelines_in_command_line_interfaces"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=4" title="Edit section: Pipelines in command line interfaces">edit</a>]</span> <span class="mw-headline">Pipelines in <a href="/wiki/Command_line_interface" title="Command line interface" class="mw-redirect">command line interfaces</a></span></h2>
<p>Most <a href="/wiki/Unix_shell" title="Unix shell">Unix shells</a> have a special syntax construct for the creation of pipelines. Typically, one simply writes the filter commands in sequence, separated by the <a href="/wiki/ASCII" title="ASCII">ASCII</a> <a href="/wiki/Vertical_bar" title="Vertical bar">vertical bar</a> character "|" (which, for this reason, is often called "pipe character" by Unix users). The shell starts the processes and arranges for the necessary connections between their standard streams (including some amount of <a href="/wiki/Buffer_(computer_science)" title="Buffer (computer science)" class="mw-redirect">buffer</a> storage).</p>
<p><a name="Error_stream" id="Error_stream"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=5" title="Edit section: Error stream">edit</a>]</span> <span class="mw-headline">Error stream</span></h3>
<p>By default, the <a href="/wiki/Standard_error_stream" title="Standard error stream" class="mw-redirect">standard error streams</a> ("<a href="/wiki/Stderr" title="Stderr" class="mw-redirect">stderr</a>") of the processes in a pipeline are not passed on through the pipe; instead, they are merged and directed to the <a href="/wiki/Computer_console" title="Computer console" class="mw-redirect">console</a>. However, many shells have additional syntax for changing this behaviour. In the <a href="/wiki/C_shell" title="C shell">csh</a> shell, for instance, using "|&amp;" instead of "| " signifies that the standard error stream too should be merged with the standard output and fed to the next process. The <a href="/wiki/Bourne_Shell" title="Bourne Shell" class="mw-redirect">Bourne Shell</a> can also merge standard error, using <tt>2&gt;&amp;1</tt>, as well as redirect it to a different file.</p>
<p><a name="Pipemill" id="Pipemill"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=6" title="Edit section: Pipemill">edit</a>]</span> <span class="mw-headline">Pipemill</span></h3>
<p>In the most commonly used simple pipelines the shell connects a series of sub-processes via pipes, and executes external commands within each sub-process. Thus the shell itself is doing no direct processing of the data flowing through the pipeline.</p>
<p>However, it's possible for the shell to perform processing directly. This construct generally looks something like:</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-bash">
<span class="kw3">command</span> | <span class="kw1">while</span> <span class="kw3">read</span> var1 var2 ...; <span class="kw1">do</span>
   <span class="re3"># process each line, using variables as parsed into <span class="re1">$var1</span>, <span class="re1">$var2</span>, etc</span>
   <span class="re3"># <span class="br0">(</span>note that this is a subshell: var1, var2 etc will not be available after the <span class="kw1">while</span> loop terminates<span class="br0">)</span></span>
   <span class="kw1">done</span>
</pre></div>
<p>... which is referred to as a "pipemill" (since the <tt>while</tt> is "milling" over the results from the initial command.)</p>
<p><a name="Example_of_Pipemill" id="Example_of_Pipemill"></a></p>
<h4><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=7" title="Edit section: Example of Pipemill">edit</a>]</span> <span class="mw-headline">Example of Pipemill</span></h4>
<p>This example will traverse file directory trees changing the ownership of all files while preserving all permissions, including those that are often stripped off by many versions of the <tt>chown</tt> command.</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-bash">
find / /usr /var -mount -user foo -<span class="kw3">printf</span> <span class="st0">"%m %p<span class="es0">\n</span>"</span> | <span class="kw1">while</span> <span class="kw3">read</span> mode filename; <span class="kw1">do</span>
    chown <span class="re1">$NEWOWNER</span> <span class="st0">"$filename"</span>
    chmod <span class="re1">$MODE</span> <span class="st0">"$filename"</span>
    <span class="kw1">done</span>
</pre></div>
<p>There are a number of variations of the pipemill construct including:</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-bash">
ps lax | <span class="br0">{</span> <span class="kw3">read</span> x; <span class="kw1">while</span> <span class="kw3">read</span> x owner pid parent x x x x x stat x; <span class="kw1">do</span>
   <span class="br0">[</span> <span class="st0">"$owner"</span>=<span class="st0">"foo"</span> -a <span class="st0">"$stat"</span>=<span class="st0">"Z"</span> <span class="br0">]</span> &amp;&amp; <span class="kw3">kill</span> <span class="st0">"$parent"</span>
   <span class="kw1">done</span>
   <span class="br0">}</span>
</pre></div>
<p>This example kills the parent processes for zombies owned/created by the user "foo".</p>
<p>Here the <tt>while</tt> loop is enclosed in a command group (the braces); and preceded by a <tt>read</tt> command, which effectively "throws away" the first line from the <tt>ps</tt> command. (Of course, in this particular example it would be harmless to process the header line, as it wouldn't match the "$owner"= test). Note that the other references to the "x" variable are simply being used as placeholders for "throwing away" irrelevant fields from each line.</p>
<p>The defining characteristics of a "pipemill" are: some command or series of commands feeds data into a pipe from which a shell <tt>while</tt> loop reads and processes it.</p>
<p><a name="Creating_pipelines_programmatically" id="Creating_pipelines_programmatically"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=8" title="Edit section: Creating pipelines programmatically">edit</a>]</span> <span class="mw-headline">Creating pipelines programmatically</span></h2>
<p>Pipelines can be created under program control. The <code>pipe()</code> <a href="/wiki/System_call" title="System call">system call</a> asks the operating system to construct a new <a href="/wiki/Anonymous_pipe" title="Anonymous pipe">anonymous pipe</a> object. This results in two new, opened file descriptors in the process: the read-only end of the pipe, and the write-only end. The pipe ends appear to be normal, anonymous <a href="/wiki/File_descriptor" title="File descriptor">file descriptors</a>, except that they have no ability to seek.</p>
<p>To avoid <a href="/wiki/Deadlock" title="Deadlock">deadlock</a> and exploit parallelism, the process with one or more new pipes will then, generally, call <code><a href="/wiki/Fork_(computing)" title="Fork (computing)" class="mw-redirect">fork()</a></code> to create new processes. Each process will then close the end(s) of the pipe that it will not be using before producing or consuming any data. Alternatively, a process might create a new <a href="/wiki/Pthreads" title="Pthreads" class="mw-redirect">thread</a> and use the pipe to communicate between them.</p>
<p><i><a href="/wiki/Named_pipe" title="Named pipe">Named pipes</a></i> may also be created using <code>mkfifo()</code> or <code><a href="/wiki/Mknod" title="Mknod" class="mw-redirect">mknod</a>()</code> and then presented as the input or output file to programs as they are invoked. They allow multi-path pipes to be created, and are especially effective when combined with standard error redirection, or with <code><a href="/wiki/Tee_(command)" title="Tee (command)">tee</a></code>.</p>
<p><a name="Implementation" id="Implementation"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=9" title="Edit section: Implementation">edit</a>]</span> <span class="mw-headline">Implementation</span></h2>
<p>In most Unix-like systems, all processes of a pipeline are started at the same time, with their streams appropriately connected, and managed by the <a href="/wiki/Scheduling_(computing)" title="Scheduling (computing)">scheduler</a> together with all other processes running on the machine. An important aspect of this, setting Unix pipes apart from other pipe implementations, is the concept of <a href="/wiki/Buffer_(computer_science)" title="Buffer (computer science)" class="mw-redirect">buffering</a>: a sending program may produce 5000 <a href="/wiki/Bytes" title="Bytes" class="mw-redirect">bytes</a> per <a href="/wiki/Second" title="Second">second</a>, and a receiving program may only be able to accept 100 bytes per second, but no data are lost. Instead, the output of the sending program is held in a buffer, or <a href="/wiki/Queue_(data_structure)" title="Queue (data structure)">queue</a>. When the receiving program is ready to read data, the operating system sends it data from the buffer, then removes that data from the buffer. If the buffer fills up, the sending program is suspended (blocked) until the receiving program has had a chance to read some data and make room in the buffer. In Linux, the size of the buffer is 65536 bytes.</p>
<p><a name="Network_pipes" id="Network_pipes"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=10" title="Edit section: Network pipes">edit</a>]</span> <span class="mw-headline">Network pipes</span></h3>
<p>Tools like <a href="/wiki/Netcat" title="Netcat">netcat</a> and <a href="/w/index.php?title=Socat&amp;action=edit&amp;redlink=1" class="new" title="Socat (page does not exist)">socat</a> can connect pipes to TCP/IP <a href="/wiki/Socket" title="Socket">sockets</a>, following the Unix philosophy of "everything is a file".</p>
<p><a name="History" id="History"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=11" title="Edit section: History">edit</a>]</span> <span class="mw-headline">History</span></h2>
<p>The pipeline concept and the vertical-bar notation was invented by <a href="/wiki/Douglas_McIlroy" title="Douglas McIlroy">Douglas McIlroy</a>, one of the authors of the early <a href="/wiki/Unix_shell" title="Unix shell">command shells</a>, after he noticed that much of the time they were processing the output of one program as the input to another. His ideas were implemented in 1973 when <a href="/wiki/Ken_Thompson" title="Ken Thompson">Ken Thompson</a> added pipes to the <a href="/wiki/UNIX" title="UNIX" class="mw-redirect">UNIX</a> operating system.<sup id="cite_ref-0" class="reference"><a href="#cite_note-0" title=""><span>[</span>1<span>]</span></a></sup> The idea was eventually ported to other operating systems, such as <a href="/wiki/DOS" title="DOS">DOS</a>, <a href="/wiki/OS/2" title="OS/2">OS/2</a>, <a href="/wiki/Microsoft_Windows" title="Microsoft Windows">Microsoft Windows</a>, and <a href="/wiki/BeOS" title="BeOS">BeOS</a>, often with the same notation.</p>
<p>Although developed independently, Unix pipes are similar to, and were preceded by the 'communication files' developed by Ken Lochner <sup id="cite_ref-1" class="reference"><a href="#cite_note-1" title=""><span>[</span>2<span>]</span></a></sup> in the 1960's for the <a href="/wiki/Dartmouth_Time_Sharing_System" title="Dartmouth Time Sharing System">Dartmouth Time Sharing System</a>. <sup id="cite_ref-2" class="reference"><a href="#cite_note-2" title=""><span>[</span>3<span>]</span></a></sup></p>
<p>The robot in the icon for <a href="/wiki/Apple_Computer" title="Apple Computer" class="mw-redirect">Apple</a>'s <a href="/wiki/Automator_(software)" title="Automator (software)">Automator</a>, which also uses a pipeline concept to chain repetitive commands together, holds a pipe in homage to the original Unix concept.</p>
<p><a name="Other_operating_systems" id="Other_operating_systems"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=12" title="Edit section: Other operating systems">edit</a>]</span> <span class="mw-headline">Other operating systems</span></h3>
<div class="rellink noprint relarticle mainarticle">Main article: <a href="/wiki/Pipeline_(software)" title="Pipeline (software)">Pipeline (software)</a></div>
<p>This feature of <a href="/wiki/Unix" title="Unix">Unix</a> was borrowed by other operating systems, such as <a href="/w/index.php?title=Taos_operating_system&amp;action=edit&amp;redlink=1" class="new" title="Taos operating system (page does not exist)">Taos</a> and <a href="/wiki/MS-DOS" title="MS-DOS">MS-DOS</a>, and eventually became the <a href="/wiki/Pipeline_(software)" title="Pipeline (software)">pipes and filters design pattern</a> of <a href="/wiki/Software_engineering" title="Software engineering">software engineering</a>.</p>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=13" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2>
<ul>
<li><a href="/wiki/Tee_(command)" title="Tee (command)">Tee (command)</a> for fitting together two pipes</li>
<li><a href="/wiki/Pipeline_(software)" title="Pipeline (software)">Pipeline (software)</a> for the general software engineering concept.</li>
<li><a href="/wiki/Pipeline_(computing)" title="Pipeline (computing)">Pipeline (computing)</a> for other computer-related pipelines.</li>
<li><a href="/wiki/Hartmann_pipeline" title="Hartmann pipeline">Hartmann pipeline</a></li>
<li><a href="/wiki/Python_Pipelines" title="Python Pipelines">Python Pipelines</a></li>
<li><a href="/wiki/Anonymous_pipe" title="Anonymous pipe">Anonymous pipe</a>, a <a href="/wiki/FIFO" title="FIFO" class="mw-redirect">FIFO</a> structure used for <a href="/wiki/Interprocess_communication" title="Interprocess communication" class="mw-redirect">interprocess communication</a></li>
<li><a href="/wiki/Named_pipe" title="Named pipe">Named pipe</a> persistent pipes used for interprocess communication</li>
<li><a href="/wiki/Redirection_(computing)" title="Redirection (computing)">Redirection (computing)</a></li>
<li><a href="/wiki/XML_pipeline" title="XML pipeline">XML pipeline</a> for processing of XML files</li>
</ul>
<p><a name="References" id="References"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=14" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2>
<div class="references-small">
<ol class="references">
<li id="cite_note-0"><b><a href="#cite_ref-0" title="">^</a></b> <a href="http://www.linfo.org/pipe.html" class="external free" title="http://www.linfo.org/pipe.html" rel="nofollow">http://www.linfo.org/pipe.html</a> Pipes: A Brief Introduction by The Linux Information Project (LINFO)</li>
<li id="cite_note-1"><b><a href="#cite_ref-1" title="">^</a></b> <a href="http://www.cs.rit.edu/~swm/history/DTSS.doc" class="external free" title="http://www.cs.rit.edu/~swm/history/DTSS.doc" rel="nofollow">http://www.cs.rit.edu/~swm/history/DTSS.doc</a></li>
<li id="cite_note-2"><b><a href="#cite_ref-2" title="">^</a></b> <a href="http://cm.bell-labs.com/who/dmr/hist.html" class="external free" title="http://cm.bell-labs.com/who/dmr/hist.html" rel="nofollow">http://cm.bell-labs.com/who/dmr/hist.html</a></li>
</ol>
</div>
<div class="references-small" style="margin-left:1.5em;">
<ul>
<li><a href="/wiki/Sal_Soghoian" title="Sal Soghoian">Sal Soghoian</a> on <a href="/wiki/MacBreak" title="MacBreak">MacBreak</a> Episode 3 "Enter the Automatrix"</li>
</ul>
</div>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit&amp;section=15" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><span class="plainlinksneverexpand"><code><a href="http://www.opengroup.org/onlinepubs/9699919799/functions/pipe.html" class="external text" title="http://www.opengroup.org/onlinepubs/9699919799/functions/pipe.html" rel="nofollow">pipe</a></code></span>:&#160;create an interprocess channel&#160;–&#160;System Interfaces Reference, <a href="/wiki/Single_Unix_Specification" title="Single Unix Specification" class="mw-redirect">The Single UNIX® Specification</a>, Issue 7 from <a href="/wiki/The_Open_Group" title="The Open Group">The Open Group</a></li>
<li><a href="http://www.linfo.org/pipe.html" class="external text" title="http://www.linfo.org/pipe.html" rel="nofollow">Pipes: A Brief Introduction</a> by The Linux Information Project (LINFO)</li>
<li><a href="http://www.softpanorama.org/Scripting/pipes.shtml" class="external text" title="http://www.softpanorama.org/Scripting/pipes.shtml" rel="nofollow">Unix Pipes – powerful and elegant programming paradigm (Softpanorama)</a></li>
<li><a href="http://en.wikibooks.org/w/index.php?title=Ad_Hoc_Data_Analysis_From_The_Unix_Command_Line" class="external text" title="http://en.wikibooks.org/w/index.php?title=Ad_Hoc_Data_Analysis_From_The_Unix_Command_Line" rel="nofollow"><i>Ad Hoc Data Analysis From The Unix Command Line</i> at Wikibooks</a> – Shows how to use pipelines composed of simple filters to do complex data analysis.</li>
<li><a href="http://www.pixelbeat.org/programming/stdio_buffering/" class="external text" title="http://www.pixelbeat.org/programming/stdio_buffering/" rel="nofollow">stdio buffering</a></li>
<li><a href="http://www.debian-administration.org/articles/145" class="external text" title="http://www.debian-administration.org/articles/145" rel="nofollow">Use And Abuse Of Pipes With Audio Data</a> – Gives an introduction to using and abusing pipes with netcat, nettee and fifos to play audio across a network.</li>
<li><a href="http://stackoverflow.com/questions/19122/bash-pipe-handling" class="external text" title="http://stackoverflow.com/questions/19122/bash-pipe-handling" rel="nofollow">stackoverflow.com</a> – A Q&amp;A about bash pipeline handling.</li>
</ul>


<!-- 
NewPP limit report
Preprocessor node count: 243/1000000
Post-expand include size: 1918/2048000 bytes
Template argument size: 625/2048000 bytes
Expensive parser function count: 0/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:1236117-0!1!0!default!!en!2 and timestamp 20090331120629 -->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org/wiki/Pipeline_(Unix)">http://en.wikipedia.org/wiki/Pipeline_(Unix)</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/wiki/Category:Inter-process_communication" title="Category:Inter-process communication">Inter-process communication</a></span> | <span dir='ltr'><a href="/wiki/Category:Unix" title="Category:Unix">Unix</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Pipeline_(Unix)" title="View the content page [c]" accesskey="c">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:Pipeline_(Unix)" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=Pipeline_(Unix)&amp;action=edit" title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e">Edit this page</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=Pipeline_(Unix)&amp;action=history" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Pipeline_(Unix)" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://upload.wikimedia.org/wikipedia/en/b/bc/Wiki.png);" href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
				<li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
				<li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Wikipedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if one exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search Wikipedia for this text" />
			</div></form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-interaction'>
		<h5>Interaction</h5>
		<div class='pBody'>
			<ul>
				<li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
				<li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-contact"><a href="/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Donate" title="Support us">Donate to Wikipedia</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Pipeline_(Unix)" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Pipeline_(Unix)" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=Pipeline_(Unix)&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=Pipeline_(Unix)&amp;oldid=279697667" title="Permanent link to this version of the page">Permanent link</a></li><li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Pipeline_(Unix)&amp;id=279697667">Cite this page</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>Languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-cs"><a href="http://cs.wikipedia.org/wiki/Roura_(Unix)">Česky</a></li>
				<li class="interwiki-fr"><a href="http://fr.wikipedia.org/wiki/Tube_Unix">Français</a></li>
				<li class="interwiki-ko"><a href="http://ko.wikipedia.org/wiki/%ED%8C%8C%EC%9D%B4%ED%94%84_(%EC%A0%84%EC%82%B0%ED%95%99)">한국어</a></li>
				<li class="interwiki-it"><a href="http://it.wikipedia.org/wiki/Pipeline_software">Italiano</a></li>
				<li class="interwiki-pl"><a href="http://pl.wikipedia.org/wiki/Potok_(Unix)">Polski</a></li>
				<li class="interwiki-pt"><a href="http://pt.wikipedia.org/wiki/Pipeline_(Unix)">Português</a></li>
				<li class="interwiki-sk"><a href="http://sk.wikipedia.org/wiki/Zre%C5%A5azenie">Slovenčina</a></li>
				<li class="interwiki-uk"><a href="http://uk.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BD%D0%B2%D0%B5%D1%94%D1%80_(%D0%AE%D0%BD%D1%96%D0%BA%D1%81)">Українська</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 25 March 2009, at 23:52 (UTC).</li>
					<li id="copyright">All text is available under the terms of the <a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_the_GNU_Free_Documentation_License" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Copyrights" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc.</a>, a U.S. registered <a class='internal' href="http://en.wikipedia.org/wiki/501%28c%29#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="http://en.wikipedia.org/wiki/Non-profit_organization" title="Non-profit organization">nonprofit</a> <a href="http://en.wikipedia.org/wiki/Charitable_organization" title="Charitable organization">charity</a>.<br /></li>
					<li id="privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
					<li id="disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served by srv223 in 0.051 secs. --></body></html>
