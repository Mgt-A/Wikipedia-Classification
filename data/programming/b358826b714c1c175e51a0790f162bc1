<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15alpha" />
		<meta name="keywords" content="Serial Peripheral Interface Bus,Serial Peripheral Interface Bus,1-Wire,ARM architecture,Address space,Analog-to-digital converter,Atmel AVR,Audio codec,Bit-banging,CAN-bus,CPU" />
		<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit" />
		<link rel="edit" title="Edit this page" href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit" />
		<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<link rel="alternate" type="application/rss+xml" title="Wikipedia RSS Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Serial Peripheral Interface Bus - Wikipedia, the free encyclopedia</title>
		<link rel="stylesheet" href="/skins-1.5/common/shared.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/common/commonPrint.css?207xx" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins-1.5/monobook/main.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/chick/main.css?207xx" type="text/css" media="handheld" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE50Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE55Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins-1.5/monobook/IE60Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins-1.5/monobook/IE70Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js?207xx"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins-1.5";
		var wgArticlePath = "/wiki/$1";
		var wgScriptPath = "/w";
		var wgScript = "/w/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://en.wikipedia.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Serial_Peripheral_Interface_Bus";
		var wgTitle = "Serial Peripheral Interface Bus";
		var wgAction = "view";
		var wgArticleId = "340476";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 281102894;
		var wgVersion = "1.15alpha";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgMWSuggestTemplate = "http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest";
		var wgDBname = "enwiki";
		var wgSearchNamespaces = [0];
		var wgMWSuggestMessages = ["with suggestions", "no suggestions"];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?207xx"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js?207xx"></script>
		<script type="text/javascript" src="/skins-1.5/common/mwsuggest.js?207xx"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgNotice='';var wgNoticeLocal='';
/*]]>*/</script>		<script type="text/javascript" src="http://upload.wikimedia.org/centralnotice/wikipedia/en/centralnotice.js?207xx"></script>
<style type="text/css">/*<![CDATA[*/
.source-c {line-height: normal;}
.source-c li, .source-c pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for c
 * CSS class: source-c, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie (http://qbnz.com/highlighter)
 */
.source-c .de1, .source-c .de2 {font-family: 'Courier New', Courier, monospace; font-weight: normal;}
.source-c  {}
.source-c .head {}
.source-c .foot {}
.source-c .imp {font-weight: bold; color: red;}
.source-c .ln-xtra {color: #cc0; background-color: #ffc;}
.source-c li {font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;}
.source-c li.li2 {font-weight: bold;}
.source-c .kw1 {color: #b1b100;}
.source-c .kw2 {color: #000000; font-weight: bold;}
.source-c .kw3 {color: #000066;}
.source-c .kw4 {color: #993333;}
.source-c .co1 {color: #808080; font-style: italic;}
.source-c .co2 {color: #339933;}
.source-c .coMULTI {color: #808080; font-style: italic;}
.source-c .es0 {color: #000099; font-weight: bold;}
.source-c .br0 {color: #66cc66;}
.source-c .st0 {color: #ff0000;}
.source-c .nu0 {color: #cc66cc;}
.source-c .me1 {color: #202020;}
.source-c .me2 {color: #202020;}

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=2678400";
/*]]>*/
</style>		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Serial_Peripheral_Interface_Bus skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><script type='text/javascript'>if (wgNotice != '') document.writeln(wgNotice);</script></div>		<h1 id="firstHeading" class="firstHeading">Serial Peripheral Interface Bus</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table align="right">
<tr>
<td>
<div class="thumb tright">
<div class="thumbinner" style="width:352px;"><a href="/wiki/File:SPI_single_slave.svg" class="image" title="SPI bus: single master and single slave"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/e/ed/SPI_single_slave.svg/350px-SPI_single_slave.svg.png" width="350" height="109" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:SPI_single_slave.svg" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
SPI bus: single master and single slave</div>
</div>
</div>
</td>
</tr>
</table>
<p>The <b>Serial Peripheral Interface Bus</b> or <b>SPI</b> (often pronounced "es-pē-ī" [IPA: ɛs pi: 'aɪ] or "spy" [IPA: spaɪ]) bus is a <a href="/wiki/Synchronous" title="Synchronous" class="mw-redirect">synchronous</a> <a href="/wiki/Serial_communications" title="Serial communications" class="mw-redirect">serial data link</a> standard named by <a href="/wiki/Motorola" title="Motorola">Motorola</a> that operates in <a href="/wiki/Full_duplex" title="Full duplex" class="mw-redirect">full duplex</a> mode. Devices communicate in <a href="/wiki/Master-slave_(technology)" title="Master-slave (technology)">master/slave</a> mode where the master device initiates the <a href="/wiki/Data_frame" title="Data frame" class="mw-redirect">data frame</a>. Multiple slave devices are allowed with individual <a href="/wiki/Slave_select" title="Slave select" class="mw-redirect">slave select</a> (chip select) lines. Sometimes SPI is called a "four wire" serial bus, contrasting with <a href="/wiki/Serial_Peripheral_Interface_Bus#3-Wire_Serial_Buses" title="Serial Peripheral Interface Bus">three</a>, <a href="/wiki/I2C" title="I2C" class="mw-redirect">two</a>, and <a href="/wiki/1-Wire" title="1-Wire">one wire</a> serial buses.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Interface"><span class="tocnumber">1</span> <span class="toctext">Interface</span></a></li>
<li class="toclevel-1"><a href="#Operation"><span class="tocnumber">2</span> <span class="toctext">Operation</span></a>
<ul>
<li class="toclevel-2"><a href="#Data_Transmission"><span class="tocnumber">2.1</span> <span class="toctext">Data Transmission</span></a>
<ul>
<li class="toclevel-3"><a href="#Clock_polarity_and_phase"><span class="tocnumber">2.1.1</span> <span class="toctext">Clock polarity and phase</span></a></li>
<li class="toclevel-3"><a href="#Mode_Numbers"><span class="tocnumber">2.1.2</span> <span class="toctext">Mode Numbers</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Independent_slave_SPI_configuration"><span class="tocnumber">2.2</span> <span class="toctext">Independent slave SPI configuration</span></a></li>
<li class="toclevel-2"><a href="#Daisy_chain_SPI_configuration"><span class="tocnumber">2.3</span> <span class="toctext">Daisy chain SPI configuration</span></a></li>
<li class="toclevel-2"><a href="#Valid_SPI_communications"><span class="tocnumber">2.4</span> <span class="toctext">Valid SPI communications</span></a></li>
<li class="toclevel-2"><a href="#Interrupts"><span class="tocnumber">2.5</span> <span class="toctext">Interrupts</span></a></li>
<li class="toclevel-2"><a href="#Example_of_bit-banging_the_SPI_Master_protocol"><span class="tocnumber">2.6</span> <span class="toctext">Example of bit-banging the SPI Master protocol</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Pros_and_cons_of_SPI"><span class="tocnumber">3</span> <span class="toctext">Pros and cons of SPI</span></a>
<ul>
<li class="toclevel-2"><a href="#Advantages"><span class="tocnumber">3.1</span> <span class="toctext">Advantages</span></a></li>
<li class="toclevel-2"><a href="#Disadvantages"><span class="tocnumber">3.2</span> <span class="toctext">Disadvantages</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Applications"><span class="tocnumber">4</span> <span class="toctext">Applications</span></a></li>
<li class="toclevel-1"><a href="#Standards"><span class="tocnumber">5</span> <span class="toctext">Standards</span></a></li>
<li class="toclevel-1"><a href="#Development_Tools"><span class="tocnumber">6</span> <span class="toctext">Development Tools</span></a>
<ul>
<li class="toclevel-2"><a href="#Hardware_Interfaces"><span class="tocnumber">6.1</span> <span class="toctext">Hardware Interfaces</span></a></li>
<li class="toclevel-2"><a href="#Protocol_Analyzers"><span class="tocnumber">6.2</span> <span class="toctext">Protocol Analyzers</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Related_Terms"><span class="tocnumber">7</span> <span class="toctext">Related Terms</span></a>
<ul>
<li class="toclevel-2"><a href="#Queued_Serial_Peripheral_Interface_.28QSPI.29"><span class="tocnumber">7.1</span> <span class="toctext">Queued Serial Peripheral Interface (QSPI)</span></a></li>
<li class="toclevel-2"><a href="#Microwire"><span class="tocnumber">7.2</span> <span class="toctext">Microwire</span></a></li>
<li class="toclevel-2"><a href="#3-Wire_Serial_Buses"><span class="tocnumber">7.3</span> <span class="toctext">3-Wire Serial Buses</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#References"><span class="tocnumber">8</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1"><a href="#See_also"><span class="tocnumber">9</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a href="#External_links"><span class="tocnumber">10</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Interface" id="Interface"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=1" title="Edit section: Interface">edit</a>]</span> <span class="mw-headline">Interface</span></h2>
<p>The SPI bus specifies four logic signals.</p>
<ul>
<li>SCLK — Serial Clock (output from master)</li>
<li>MOSI/SIMO — Master Output, Slave Input (output from master)</li>
<li>MISO/SOMI — Master Input, Slave Output (output from slave)</li>
<li>SS — <a href="/wiki/Slave_Select" title="Slave Select" class="mw-redirect">Slave Select</a> (<a href="/wiki/Logic_level" title="Logic level">active low</a>; output from master)</li>
</ul>
<p>Alternative naming conventions are also widely used:</p>
<ul>
<li>SCK, CLK — Serial Clock (output from master)</li>
<li>SDI, DI, SI — Serial Data In</li>
<li>SDO, DO, SO — Serial Data Out</li>
<li>nCS, CS, nSS, STE — <a href="/wiki/Chip_Select" title="Chip Select" class="mw-redirect">Chip Select</a>, Slave Transmit Enable (<a href="/wiki/Logic_level" title="Logic level">active low</a>; output from master)</li>
</ul>
<p>The SDI/SDO (DI/DO, SI/SO) convention requires that SDO on the master be connected to SDI on the slave, and vice-versa. Chip select polarity is rarely active high, although some notations (such as SS or CS instead of nSS or nCS) suggest otherwise.</p>
<dl>
<dd><i>SPI port pin names for particular IC products may differ from those depicted in these illustrations.</i></dd>
</dl>
<p><a name="Operation" id="Operation"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=2" title="Edit section: Operation">edit</a>]</span> <span class="mw-headline">Operation</span></h2>
<p>The SPI bus can operate with a single master device and with one or more slave devices.</p>
<p>If a single slave device is used, the SS pin <i>may</i> be fixed to <a href="/wiki/Logic_level" title="Logic level">logic low</a> if the slave permits it. Some slaves require the <a href="/wiki/Falling_edge" title="Falling edge" class="mw-redirect">falling edge</a> (high-&gt;low transition) of the slave select to initiate an action such as the MAX1242 by <a href="/wiki/Maxim_Integrated_Products" title="Maxim Integrated Products">Maxim</a>, an <a href="/wiki/Analog-to-digital_converter" title="Analog-to-digital converter">ADC</a>, that starts conversion on said transition. With multiple slave devices, an independent SS signal is required from the master for each slave device.</p>
<p>Most slave devices have <a href="/wiki/Tri-state_output" title="Tri-state output" class="mw-redirect">tri-state outputs</a> so their MISO signal becomes <a href="/wiki/High_impedance" title="High impedance">high impedance</a> ("disconnected") when the device is not selected. Devices without tristate outputs can't share SPI bus segments with other devices; only one such slave could talk to the master, and only its chipselect could be activated.</p>
<p><a name="Data_Transmission" id="Data_Transmission"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=3" title="Edit section: Data Transmission">edit</a>]</span> <span class="mw-headline">Data Transmission</span></h3>
<div class="thumb tright">
<div class="thumbinner" style="width:402px;"><a href="/wiki/File:SPI_8-bit_circular_transfer.svg" class="image" title="A typical hardware setup using two shift registers to form an inter-chip circular buffer"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/SPI_8-bit_circular_transfer.svg/400px-SPI_8-bit_circular_transfer.svg.png" width="400" height="160" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:SPI_8-bit_circular_transfer.svg" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
A typical hardware setup using two <a href="/wiki/Shift_register" title="Shift register">shift registers</a> to form an inter-chip <a href="/wiki/Circular_buffer" title="Circular buffer">circular buffer</a></div>
</div>
</div>
<p>To begin a communication, the master first configures the clock, using a frequency less than or equal to the maximum frequency the slave device supports. Such frequencies are commonly in the range of 1-70 MHz.</p>
<p>The master then pulls the slave select low for the desired chip. If a waiting period is required (such as for analog-to-digital conversion) then the master must wait for at least that period of time before starting to issue clock cycles.</p>
<p>During each SPI clock cycle, a <a href="/wiki/Full_duplex" title="Full duplex" class="mw-redirect">full duplex</a> data transmission occurs:</p>
<ul>
<li>the master sends a bit on the MOSI line; the slave reads it from that same line</li>
<li>the slave sends a bit on the MISO line; the master reads it from that same line</li>
</ul>
<p>Not all transmissions require all four of these operations to be <i>meaningful</i> but they do happen.</p>
<p>Transmissions normally involve two shift registers of some given word size, such as eight bits, one in the master and one in the slave; they are connected in a ring. Data is usually shifted out with the most significant bit first, while shifting a new least significant bit into the same register. After that register has been shifted out, the master and slave have exchanged register values. Then each device takes that value and does something with it, such as writing it to memory. If there is more data to exchange, the shift registers are loaded with new data and the process repeats.</p>
<p>Transmissions may involve any number of clock cycles. When there is no more data to be transmitted, the master stops toggling its clock. Normally, it then deselects the slave.</p>
<p>Transmissions often consist of 8-bit words, and a master can initiate multiple such transmissions if it wishes/needs. However, other word sizes are also common, such as 16-bit words for touchscreen controllers or audio codecs, like the TSC2101 from <a href="/wiki/Texas_Instruments" title="Texas Instruments">Texas Instruments</a>; or 12-bit words for many digital-to-analog or analog-to-digital converters.</p>
<p>Every slave on the bus that hasn't been activated using its slave select line must disregard the input clock and MOSI signals, and must not drive MISO. The master selects only one slave at a time.</p>
<p><a name="Clock_polarity_and_phase" id="Clock_polarity_and_phase"></a></p>
<h4><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=4" title="Edit section: Clock polarity and phase">edit</a>]</span> <span class="mw-headline">Clock polarity and phase</span></h4>
<div class="thumb tright">
<div class="thumbinner" style="width:402px;"><a href="/wiki/File:SPI_timing_diagram.svg" class="image" title="A timing diagram showing clock polarity and phase"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/SPI_timing_diagram.svg/400px-SPI_timing_diagram.svg.png" width="400" height="233" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:SPI_timing_diagram.svg" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
A timing diagram showing clock polarity and phase</div>
</div>
</div>
<p>In addition to setting the clock frequency, the master must also configure the clock polarity and phase with respect to the data. Freescale's SPI Block Guide <sup id="cite_ref-0" class="reference"><a href="#cite_note-0" title=""><span>[</span>1<span>]</span></a></sup> names these two options as CPOL and CPHA respectively, and most vendors have adopted that convention.</p>
<p>The <a href="/wiki/Digital_timing_diagram" title="Digital timing diagram">timing diagram</a> is shown to the right. The timing is further described below and applies to both the master and the slave device.</p>
<ul>
<li>At CPOL=0 the base value of the clock is zero
<ul>
<li>For CPHA=0, data are read on the clock's <a href="/wiki/Rising_edge" title="Rising edge" class="mw-redirect">rising edge</a> (low-&gt;high transition) and data are changed on a <a href="/wiki/Falling_edge" title="Falling edge" class="mw-redirect">falling edge</a> (high-&gt;low clock transition).</li>
<li>For CPHA=1, data are read on the clock's falling edge and data are changed on a rising edge.</li>
</ul>
</li>
<li>At CPOL=1 the base value of the clock is one (inversion of CPOL=0)
<ul>
<li>For CPHA=0, data are read on clock's falling edge and data are changed on a rising edge.</li>
<li>For CPHA=1, data are read on clock's rising edge and data are changed on a falling edge.</li>
</ul>
</li>
</ul>
<p>That is, CPHA=0 means sample on the leading (first) clock edge, while CPHA=1 means sample on the trailing (second) clock edge, regardless of whether that clock edge is rising or falling. Note that with CPHA=0, the data must be stable for a half cycle before the first clock cycle. For all CPOL and CPHA modes, the initial clock value must be stable before the chip select line goes active.</p>
<p>Also, note that "data <i>are</i> read" in this document more typically means "data <i>may be</i> read". The MOSI and MISO signals are usually stable (at their reception points) for the half cycle until the next clock transition. SPI master and slave devices may well sample data at different points in that half cycle.</p>
<p>This adds more flexibility to the communication channel between the master and slave.</p>
<p>One product using a different naming convention is the <a href="/wiki/TI_MSP430" title="TI MSP430">TI MSP430</a>, which uses the name UCCKPL instead of CPOL, and its UCCKPH is the inverse of CPHA. There are other examples, so if you are connecting two chips together you should look at the initial clock value and which edge is used for sampling, then make sure you're using the right settings.</p>
<p><a name="Mode_Numbers" id="Mode_Numbers"></a></p>
<h4><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=5" title="Edit section: Mode Numbers">edit</a>]</span> <span class="mw-headline">Mode Numbers</span></h4>
<p>The combinations of polarity and phases are often referred to as modes which are commonly numbered according to the following convention, with CPOL as the high order bit and CPHA as the low order bit:</p>
<table class="wikitable">
<tr>
<th>Mode</th>
<th>CPOL</th>
<th>CPHA</th>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>1</td>
</tr>
</table>
<p>Another commonly used notation represents the mode as a (CPOL,CPHA) tuple, e.g. the value '(0,1)' would indicate CPOL=0 and CPHA=1.</p>
<p><a name="Independent_slave_SPI_configuration" id="Independent_slave_SPI_configuration"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=6" title="Edit section: Independent slave SPI configuration">edit</a>]</span> <span class="mw-headline">Independent slave SPI configuration</span></h3>
<div class="thumb tright">
<div class="thumbinner" style="width:352px;"><a href="/wiki/File:SPI_three_slaves.svg" class="image" title="Typical SPI bus: master and three independent slaves"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/SPI_three_slaves.svg/350px-SPI_three_slaves.svg.png" width="350" height="278" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:SPI_three_slaves.svg" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
Typical SPI bus: master and three independent slaves</div>
</div>
</div>
<p>In the independent slave configuration, there is an independent slave select line for each slave. This is the way SPI is normally used. Since the MISO pins of the slaves are connected together, they are required to be tri-state pins.</p>
<p><a name="Daisy_chain_SPI_configuration" id="Daisy_chain_SPI_configuration"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=7" title="Edit section: Daisy chain SPI configuration">edit</a>]</span> <span class="mw-headline">Daisy chain SPI configuration</span></h3>
<div class="thumb tright">
<div class="thumbinner" style="width:352px;"><a href="/wiki/File:SPI_three_slaves_daisy_chained.svg" class="image" title="Daisy-chained SPI bus: master and cooperative slaves"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/9/97/SPI_three_slaves_daisy_chained.svg/350px-SPI_three_slaves_daisy_chained.svg.png" width="350" height="278" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:SPI_three_slaves_daisy_chained.svg" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
Daisy-chained SPI bus: master and cooperative slaves</div>
</div>
</div>
<p>Some products with SPI bus are designed to be capable of being connected in a <a href="/wiki/Daisy_chain_(electrical_engineering)" title="Daisy chain (electrical engineering)">daisy chain</a> configuration, the first slave output being connected to the second slave input, etc. The SPI port of each slave is designed to send out during the second group of clock pulses an exact copy of what it received during the first group of clock pulses. The whole chain acts as an SPI communication <a href="/wiki/Shift_register" title="Shift register">shift register</a>; daisy chaining is often done with shift registers to provide a bank of inputs or outputs through SPI. Such a feature only requires a single SS line from the master, rather than a separate SS line for each slave.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1" title=""><span>[</span>2<span>]</span></a></sup></p>
<p>Applications (discussed later) that require a daisy chain configuration include <a href="/wiki/SGPIO" title="SGPIO">SGPIO</a> and <a href="/wiki/JTAG" title="JTAG" class="mw-redirect">JTAG</a>.</p>
<p><a name="Valid_SPI_communications" id="Valid_SPI_communications"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=8" title="Edit section: Valid SPI communications">edit</a>]</span> <span class="mw-headline">Valid SPI communications</span></h3>
<p>Some slave devices are designed to ignore any SPI communications in which the number of clock pulses is greater than specified. Others don't care, ignoring extra inputs and continuing to shift the same output bit. It is common for different devices to use SPI communications with different lengths, as, for example, when SPI is used to access the <a href="/wiki/Scan_chain" title="Scan chain">scan chain</a> of a digital IC by issuing a command word of one size (perhaps 32 bits) and then getting a response of a different size (perhaps 153 bits, one for each pin in that scan chain).</p>
<p><a name="Interrupts" id="Interrupts"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=9" title="Edit section: Interrupts">edit</a>]</span> <span class="mw-headline">Interrupts</span></h3>
<p>SPI devices sometimes use another signal line to send an interrupt signal to a host CPU. Examples include pen-down interrupts from touchscreen sensors, thermal limit alerts from temperature sensors, alarms issued by real time clock chips, SDIO, and headset jack insertions from the sound codec in a cell phone. Interrupts are not covered by the SPI standard; their usage is neither forbidden nor specified by the standard.</p>
<p><a name="Example_of_bit-banging_the_SPI_Master_protocol" id="Example_of_bit-banging_the_SPI_Master_protocol"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=10" title="Edit section: Example of bit-banging the SPI Master protocol">edit</a>]</span> <span class="mw-headline">Example of bit-banging the SPI Master protocol</span></h3>
<p>An example of <a href="/wiki/Bit-banging" title="Bit-banging">Bit-banging</a> the SPI protocol, as a SPI master not as a SPI slave, is included below in the C programming language, with CPOL=0, CPHA=0, and eight bits per transfer. Because this is CPOL=0, the clock must be pulled low before the chipselect is activated. The chipselect line must be activated, which normally means being toggled low, for the peripheral before the start of the transfer, and then deactivated afterwards. Most peripherals allow or require several transfers while the select line is low; this routine might be called several times before deselecting the chip.</p>
<div dir="ltr" style="text-align: left;">
<pre class="source-c">
<span class="kw4">unsigned</span> <span class="kw4">char</span> SPIBitBang8BitsMode0<span class="br0">(</span><span class="kw4">unsigned</span> <span class="kw4">char</span> byte<span class="br0">)</span>
<span class="br0">{</span>       
    <span class="kw4">unsigned</span> bit;
 
    <span class="kw1">for</span> <span class="br0">(</span>bit = <span class="nu0">0</span>; bit &lt; <span class="nu0">8</span>; bit++<span class="br0">)</span> <span class="br0">{</span>
        <span class="coMULTI">/* write MOSI on trailing edge of previous clock */</span>
        <span class="kw1">if</span> <span class="br0">(</span>byte &amp; 0x80<span class="br0">)</span>
            SETMOSI<span class="br0">(</span><span class="br0">)</span>;
        <span class="kw1">else</span>
            CLRMOSI<span class="br0">(</span><span class="br0">)</span>;
        byte &lt;&lt;= <span class="nu0">1</span>;
 
        <span class="coMULTI">/* half a clock cycle before leading/rising edge */</span>
        SPIDELAY<span class="br0">(</span>SPISPEED/<span class="nu0">2</span><span class="br0">)</span>;
        SETCLK<span class="br0">(</span><span class="br0">)</span>;
 
        <span class="coMULTI">/* half a clock cycle before trailing/falling edge */</span>
        SPIDELAY<span class="br0">(</span>SPISPEED/<span class="nu0">2</span><span class="br0">)</span>;
 
        <span class="coMULTI">/* read MISO on trailing edge */</span>
        byte |= READMISO<span class="br0">(</span><span class="br0">)</span>;
        CLRCLK<span class="br0">(</span><span class="br0">)</span>;
    <span class="br0">}</span>
 
    <span class="kw1">return</span> byte;
<span class="br0">}</span>
</pre></div>
<p><a name="Pros_and_cons_of_SPI" id="Pros_and_cons_of_SPI"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=11" title="Edit section: Pros and cons of SPI">edit</a>]</span> <span class="mw-headline">Pros and cons of SPI</span></h2>
<p><a name="Advantages" id="Advantages"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=12" title="Edit section: Advantages">edit</a>]</span> <span class="mw-headline">Advantages</span></h3>
<ul>
<li><a href="/wiki/Full_duplex" title="Full duplex" class="mw-redirect">Full duplex</a> communication</li>
<li>Higher throughput than <a href="/wiki/I%C2%B2C" title="I²C">I²C</a> or <a href="/wiki/System_Management_Bus" title="System Management Bus">SMBus</a></li>
<li>Complete protocol flexibility for the bits transferred
<ul>
<li>Not limited to 8-bit words</li>
<li>Arbitrary choice of message size, content, and purpose</li>
</ul>
</li>
<li>Extremely simple hardware interfacing
<ul>
<li>Typically lower power requirements than I²C or SMBus due to less circuitry (including pullups)</li>
<li>No arbitration or associated failure modes</li>
<li>Slaves use the master's clock, and don't need precision oscillators</li>
<li>Slaves don't need a unique <a href="/wiki/Address_space" title="Address space">address</a> -- unlike <a href="/wiki/I%C2%B2C" title="I²C">I²C</a> or <a href="/wiki/GPIB" title="GPIB" class="mw-redirect">GPIB</a> or <a href="/wiki/SCSI" title="SCSI">SCSI</a></li>
<li>Transceivers are not needed</li>
</ul>
</li>
<li>Uses many fewer pins on IC packages, and wires in board layouts or connectors, than parallel interfaces</li>
<li>At most one "unique" bus signal per device (chipselect); all others are shared</li>
</ul>
<p><a name="Disadvantages" id="Disadvantages"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=13" title="Edit section: Disadvantages">edit</a>]</span> <span class="mw-headline">Disadvantages</span></h3>
<ul>
<li>Requires more pins on IC packages than I²C, even in the "3-Wire" variant</li>
<li>No in-band addressing; out-of-band <a href="/wiki/Chip_select" title="Chip select">chip select</a> signals are required on shared buses</li>
<li>No hardware <a href="/wiki/Flow_control" title="Flow control">flow control</a></li>
<li>No hardware slave acknowledgment (the master could be "talking" to nothing and not know it)</li>
<li>Supports only one master device</li>
<li>Without a formal standard, validating conformance is not possible</li>
<li>Only handles short distances compared to <a href="/wiki/RS-232" title="RS-232">RS-232</a>, <a href="/wiki/RS-485" title="RS-485" class="mw-redirect">RS-485</a>, or <a href="/wiki/CAN-bus" title="CAN-bus" class="mw-redirect">CAN-bus</a></li>
</ul>
<p><a name="Applications" id="Applications"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=14" title="Edit section: Applications">edit</a>]</span> <span class="mw-headline">Applications</span></h2>
<p>The board real estate savings compared to a parallel I/O bus are significant, and have earned SPI a solid role in embedded systems. That's true for most <a href="/wiki/System-on-a-chip" title="System-on-a-chip">System-on-a-chip</a> processors, both with higher end 32-bit processors such as those using <a href="/wiki/ARM_architecture" title="ARM architecture">ARM</a> or <a href="/wiki/MIPS_architecture" title="MIPS architecture">MIPS</a> and with other microcontrollers such as the <a href="/wiki/Atmel_AVR" title="Atmel AVR">AVR</a>, <a href="/wiki/PIC_microcontroller" title="PIC microcontroller">PIC</a> and <a href="/wiki/MSP430" title="MSP430" class="mw-redirect">MSP430</a>. These chips usually include SPI controllers capable of running in either master or slave mode.</p>
<p>Chip or FPGA based designs sometimes use SPI to communicate between internal components; on-chip real estate can be as costly as its on-board cousin.</p>
<p>The full-duplex capability makes SPI very simple and efficient for single master/single slave applications. Some devices use the full-duplex mode to implement an efficient, high-speed data stream for applications such as <a href="/wiki/Digital_audio" title="Digital audio">digital audio</a>, <a href="/wiki/Digital_signal_processing" title="Digital signal processing">digital signal processing</a>, or <a href="/wiki/Channel_(communications)" title="Channel (communications)">telecommunications channels</a>, but most off-the-shelf chips stick to half-duplex request/response protocols.</p>
<p>SPI is used to talk to a variety of peripherals, such as:</p>
<ul>
<li>Sensors: temperature, pressure, <a href="/wiki/Analog-to-digital_converter" title="Analog-to-digital converter">ADC</a>, touchscreens</li>
<li>Control devices: <a href="/wiki/Audio_codec" title="Audio codec">audio codecs</a>, digital potentiometers, <a href="/wiki/Digital-to-analog_converter" title="Digital-to-analog converter">DAC</a></li>
<li>Camera lenses: <a href="/wiki/Canon_EF_lens_mount" title="Canon EF lens mount">Canon EF lens mount</a></li>
<li>Communications: Ethernet, USB, USART, CAN, <a href="/wiki/IEEE_802.15.4" title="IEEE 802.15.4" class="mw-redirect">IEEE 802.15.4</a>, <a href="/wiki/IEEE_802.11" title="IEEE 802.11">IEEE 802.11</a></li>
<li>Memory: <a href="/wiki/Flash_memory#Serial_flash" title="Flash memory">flash</a> and EEPROM</li>
<li>Real-time clocks</li>
<li>LCD displays, sometimes even for managing image data</li>
<li>Any <a href="/wiki/MultiMediaCard" title="MultiMediaCard">MMC</a> or <a href="/wiki/Secure_Digital_card" title="Secure Digital card">SD</a> card (including <a href="/wiki/Secure_Digital_card#SDIO" title="Secure Digital card">SDIO</a> variant)</li>
</ul>
<p>For high performance systems, <a href="/wiki/FPGA" title="FPGA" class="mw-redirect">FPGAs</a> sometimes use SPI to interface as a slave to a host, as a master to sensors, or for flash memory used to bootstrap if they are SRAM-based.</p>
<p><a href="/wiki/JTAG" title="JTAG" class="mw-redirect">JTAG</a> is essentially an application stack for SPI, using different signal names: TCK not SCK, TDI not MOSI, TDO not MISO, TMS not nCS. It defines a state machine, protocol messages, a core command set, the ability to daisy-chain devices in a "scan chain", and how vendors define new commands. The devices in a scan chain are initially treated as a single device, and transitions on TMS update the state machine; once the individual devices are identified, commands may be issued which affect only one device in that scan chain. Different vendors use different JTAG connectors. Bit strings used in JTAG are often long and not multiples of 8 bit words; for example, a boundary scan reports signal state on each of several hundred pins.</p>
<p><a href="/wiki/SGPIO" title="SGPIO">SGPIO</a> is essentially another (incompatible) application stack for SPI designed for particular backplane management activities. SGPIO uses 3 bit messages.</p>
<p><a name="Standards" id="Standards"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=15" title="Edit section: Standards">edit</a>]</span> <span class="mw-headline">Standards</span></h2>
<p>The SPI bus is a sort of <a href="/wiki/De_facto#Standards" title="De facto"><i>de facto</i> standard</a>, rather than one agreed by any international committee.</p>
<p>However, that lack of standardization is reflected in a wide variety of protocol options. Different word sizes are common. Every device defines its own protocol, including whether or not it supports commands at all. Some devices are transmit-only; others are receive-only. Chip selects are sometimes active-high rather than active-low. Some protocols send the least significant bit first.</p>
<p>Some devices even have minor variances from the CPOL/CPHA modes described above. Sending data from slave to master may use the opposite clock edge as master to slave. Devices often require extra clock idle time before the first clock or after the last one, or between a command and its response. Some devices have two clocks, one to "capture" or "display" data, and another to clock it into the device. Many of these "capture clocks" run from the SS line.</p>
<p>Some devices require an additional handshake signal from slave to master, indicating when data are ready. This leads to a "five wire" protocol instead of the usual four. Such a "ready" or "enable" signal is often active-low, and needs to be enabled at key points such as after commands or between words. Without such a signal, data transfer rates may need to be slowed down significantly, or protocols may need to have "dummy bytes" inserted, to accommodate the worst case for the slave response time. Examples include initiating an ADC conversion, addressing the right page of flash memory, and processing enough of a command that device firmware can load the first word of the response.</p>
<p>Many SPI chips only support messages that are multiples of 8 bits. Such chips can not interoperate with the <a href="/wiki/JTAG" title="JTAG" class="mw-redirect">JTAG</a> or <a href="/wiki/SGPIO" title="SGPIO">SGPIO</a> prototols, or any other protocol that requires messages that are not multiples of 8 bits.</p>
<p>There are even hardware-level differences. Some chips combine MOSI and MISO into a single data line (SI/SO); this is sometimes called "3-Wire" signaling (in contrast to normal "4-wire" SPI). Anyone needing an external connector for SPI defines their own. Signal levels depend entirely on the chips involved.</p>
<p>Some devices provide an additional signal for flow control: the device must signal "ready" after a command is issued, before the host starts clocking in response data. (Most SPI masters don't support that signal directly, and instead rely on fixed delays.)</p>
<p><a name="Development_Tools" id="Development_Tools"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=16" title="Edit section: Development Tools">edit</a>]</span> <span class="mw-headline">Development Tools</span></h2>
<p>When developing or troubleshooting systems using SPI, visibility at the level of hardware signals can be important.</p>
<p><a name="Hardware_Interfaces" id="Hardware_Interfaces"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=17" title="Edit section: Hardware Interfaces">edit</a>]</span> <span class="mw-headline">Hardware Interfaces</span></h3>
<p>There are a number of <a href="/wiki/Hardware" title="Hardware">hardware</a> solutions to give desktop PCs, running <a href="/wiki/Linux" title="Linux">Linux</a>, <a href="/wiki/Macintosh" title="Macintosh">Mac</a> or <a href="/wiki/Microsoft_Windows" title="Microsoft Windows">Windows</a> SPI master and/or slave capabilities.</p>
<table class="wikitable">
<tr>
<th>USB to SPI adapter project</th>
<th>Operating Modes</th>
<th>Owner</th>
<th>OS Supported</th>
</tr>
<tr>
<td><a href="http://www.totalphase.com/products/aardvark_i2cspi/" class="external text" title="http://www.totalphase.com/products/aardvark_i2cspi/" rel="nofollow">Aardvark I2C/SPI Host Adapter</a></td>
<td>Master,Slave - up to 8 MHz</td>
<td><a href="/wiki/Total_Phase" title="Total Phase">Total Phase</a></td>
<td>Linux,Windows,Mac</td>
</tr>
<tr>
<td><a href="http://www.totalphase.com/products/cheetah_spi/" class="external text" title="http://www.totalphase.com/products/cheetah_spi/" rel="nofollow">Cheetah SPI Host Adapter</a></td>
<td>Master - up to 40 MHz</td>
<td><a href="/wiki/Total_Phase" title="Total Phase">Total Phase</a></td>
<td>Linux,Windows,Mac</td>
</tr>
<tr>
<td><a href="http://www.jovasolutions.com/hardware/tims0100_overview.htm" class="external text" title="http://www.jovasolutions.com/hardware/tims0100_overview.htm" rel="nofollow">TIMS-0102 USB to I2C and SPI Adapter</a></td>
<td>Master - up to 10 MHz</td>
<td>Jova Solutions</td>
<td>Linux,Windows</td>
</tr>
<tr>
<td><a href="http://sine.ni.com/nips/cds/view/p/lang/en/nid/202368" class="external text" title="http://sine.ni.com/nips/cds/view/p/lang/en/nid/202368" rel="nofollow">NI USB-8541 I2C/SPI Interface</a></td>
<td>Master - up to 12 MHz</td>
<td><a href="/wiki/National_Instruments" title="National Instruments">National Instruments</a></td>
<td>Windows</td>
</tr>
<tr>
<td><a href="http://www.byteparadigm.com/product-spi-xpress-22.html" class="external text" title="http://www.byteparadigm.com/product-spi-xpress-22.html" rel="nofollow">SPI Xpress SPI Host Adapter</a></td>
<td>Master - up to 50 MHz - 4 and 3 wires</td>
<td>Byte Paradigm</td>
<td>Windows</td>
</tr>
</table>
<p><a name="Protocol_Analyzers" id="Protocol_Analyzers"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=18" title="Edit section: Protocol Analyzers">edit</a>]</span> <span class="mw-headline">Protocol Analyzers</span></h3>
<p>SPI Protocol Analyzers are tools which sample an SPI bus and decode the electrical signals to provide a higher level view of the data being transmitted on the bus. Some SPI protocol analyzers are built into oscilloscopes while others are stand-alone devices.</p>
<table class="wikitable">
<tr>
<th>SPI Analyzer</th>
<th>SPI Speeds</th>
<th>Owner</th>
<th>OS Supported</th>
</tr>
<tr>
<td><a href="http://www.totalphase.com/products/beagle_ism/" class="external text" title="http://www.totalphase.com/products/beagle_ism/" rel="nofollow">Beagle I2C/SPI/MDIO Protocol Analyzer</a></td>
<td>up to 24 MHz</td>
<td><a href="/wiki/Total_Phase" title="Total Phase">Total Phase</a></td>
<td>Linux,Windows,Mac</td>
</tr>
<tr>
<td><a href="http://www.byteparadigm.com/product-spi-xpress-22.html" class="external text" title="http://www.byteparadigm.com/product-spi-xpress-22.html" rel="nofollow">SPI Xpress SPI Host Adapter</a></td>
<td>up to 25 MHz</td>
<td>Byte Paradigm</td>
<td>Windows</td>
</tr>
</table>
<p><a name="Related_Terms" id="Related_Terms"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=19" title="Edit section: Related Terms">edit</a>]</span> <span class="mw-headline">Related Terms</span></h2>
<p><a name="Queued_Serial_Peripheral_Interface_.28QSPI.29" id="Queued_Serial_Peripheral_Interface_.28QSPI.29"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=20" title="Edit section: Queued Serial Peripheral Interface (QSPI)">edit</a>]</span> <span class="mw-headline">Queued Serial Peripheral Interface (QSPI)</span></h3>
<p>The <b>queued serial peripheral interface</b> (<b>QSPI</b>) is one type of SPI controller, not another bus type. It uses a <a href="/wiki/Queue_(data_structure)" title="Queue (data structure)">data queue</a> with programmable queue pointers that allow some data transfers without <a href="/wiki/CPU" title="CPU" class="mw-redirect">CPU</a> intervention<sup id="cite_ref-2" class="reference"><a href="#cite_note-2" title=""><span>[</span>3<span>]</span></a></sup>. It also has a <a href="/w/index.php?title=Memory_wrap-around&amp;action=edit&amp;redlink=1" class="new" title="Memory wrap-around (page does not exist)">wrap-around</a> mode that allows continuous transfers to and from the queue with no CPU intervention. As a result, the peripherals appear to the CPU as <a href="/wiki/Virtual_memory" title="Virtual memory">memory-mapped</a> parallel devices. This feature is useful in applications such as control of an <a href="/wiki/Analog-to-digital_converter" title="Analog-to-digital converter">A/D converter</a>. Other programmable features in QSPI are chip selects and transfer length/delay.</p>
<p>SPI controllers from different vendors support different feature sets; such DMA queues are not uncommon, although they may be associated with separate DMA engines rather than the SPI controller itself<sup id="cite_ref-3" class="reference"><a href="#cite_note-3" title=""><span>[</span>4<span>]</span></a></sup>. Most SPI master controllers integrate support for up to four chipselects<sup id="cite_ref-4" class="reference"><a href="#cite_note-4" title=""><span>[</span>5<span>]</span></a></sup>, although some require chipselects to be managed separately through GPIO lines.</p>
<p><a name="Microwire" id="Microwire"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=21" title="Edit section: Microwire">edit</a>]</span> <span class="mw-headline">Microwire</span></h3>
<p>Microwire is essentially a predecessor of SPI. It's a strict subset: half duplex, and using SPI mode 0. (Microwire-Plus supports other SPI modes.) Microwire chips tend to need slower clock rates than newer SPI versions; perhaps 2 MHz vs 20 MHz. Some Microwire chips also support a 3-Wire mode (see below), which fits neatly with the restriction to half duplex.</p>
<p><a name="3-Wire_Serial_Buses" id="3-Wire_Serial_Buses"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=22" title="Edit section: 3-Wire Serial Buses">edit</a>]</span> <span class="mw-headline">3-Wire Serial Buses</span></h3>
<p>As mentioned above, one variant of SPI uses single bidirectional data line (Slave Out/Slave IN, called SISO) instead of two unidirectional ones (MOSI and MISO). Clearly, this variant is restricted to a half duplex mode. It tends to be used for lower performance parts, such as small EEPROMs used only during system startup and certain sensors, and Microwire. As of this writing, few SPI master controllers support this mode; although it can often be easily <a href="/wiki/Bit-banging" title="Bit-banging">bit-banged</a> in software.</p>
<p>When someone says a part supports SPI or Microwire, you can normally assume that means the four-wire version.</p>
<p>However, when someone talks about a part supporting a 3-Wire serial bus you should always find out what they mean. They might mean standard four-wire SPI ... excluding the chipselect pin from that count, since most buses use chipselects but only three wires carry "real" signals. (Plus, sometimes with an unshared SPI bus segment the device's chipselect will be hard-wired as "always selected".) They might mean "real" 3-wire SPI. They might even mean an <a href="/wiki/RS-232#3-wire_and_5-wire_RS-232" title="RS-232">RS232 cable</a> with just RXD, TXD, and shield/ground, or an application-specific signaling scheme.</p>
<p><a name="References" id="References"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=23" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2>
<ol class="references">
<li id="cite_note-0"><b><a href="#cite_ref-0" title="">^</a></b> <a href="http://www.freescale.com/files/microcontrollers/doc/ref_manual/S12SPIV3.pdf" class="external text" title="http://www.freescale.com/files/microcontrollers/doc/ref_manual/S12SPIV3.pdf" rel="nofollow">SPI Block Guide V03.06</a>, <a href="/wiki/Freescale_Semiconductor" title="Freescale Semiconductor">Freescale Semiconductor</a></li>
<li id="cite_note-1"><b><a href="#cite_ref-1" title="">^</a></b> <a href="http://www.maxim-ic.com/appnotes.cfm/an_pk/3947" class="external text" title="http://www.maxim-ic.com/appnotes.cfm/an_pk/3947" rel="nofollow">Maxim-IC application note 3947: "Daisy-Chaining SPI Devices"</a></li>
<li id="cite_note-2"><b><a href="#cite_ref-2" title="">^</a></b> <a href="http://www.freescale.com/files/microcontrollers/doc/ref_manual/QSMRM.pdf" class="external text" title="http://www.freescale.com/files/microcontrollers/doc/ref_manual/QSMRM.pdf" rel="nofollow">Queued Serial Module Reference Manual</a>, Freescale Semiconductor</li>
<li id="cite_note-3"><b><a href="#cite_ref-3" title="">^</a></b> Such as with the <a href="http://focus.ti.com/docs/prod/folders/print/omap3530.html#technicaldocuments" class="external text" title="http://focus.ti.com/docs/prod/folders/print/omap3530.html#technicaldocuments" rel="nofollow">MultiChannel Serial Port Interface</a>, or McSPI, used in Texas Instruments OMAP chips. Download just the chapter about the SPI controller, if you want a good example of a highly engineered modern controller.</li>
<li id="cite_note-4"><b><a href="#cite_ref-4" title="">^</a></b> Such at the SPI controller on <a href="http://www.atmel.com/products/at91/" class="external text" title="http://www.atmel.com/products/at91/" rel="nofollow">Atmel AT91 chips</a> like the at91sam9G20, which is much simpler than TI's McSPI.</li>
</ol>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=24" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2>
<ul>
<li><a href="/wiki/I%C2%B2C" title="I²C">I<sup>2</sup>C</a>, sometimes called "2-wire" bus</li>
<li><a href="/wiki/1-Wire" title="1-Wire">1-Wire</a></li>
<li><a href="/wiki/Microwire" title="Microwire">Microwire</a></li>
<li><a href="/wiki/Computer_bus" title="Computer bus" class="mw-redirect">Computer bus</a></li>
<li><a href="/wiki/Controller_Area_Network" title="Controller Area Network" class="mw-redirect">Controller Area Network</a></li>
<li><a href="/wiki/Serial_communications" title="Serial communications" class="mw-redirect">Serial communications</a></li>
<li><a href="/wiki/Synchronous_Serial_Port" title="Synchronous Serial Port">Synchronous Serial Port (SSP)</a></li>
<li><a href="/wiki/Peripheral" title="Peripheral">Peripheral</a></li>
<li><a href="/wiki/Interface" title="Interface">Interface</a></li>
</ul>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit&amp;section=25" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="http://embedded.com/showArticle.jhtml?articleID=9900483" class="external text" title="http://embedded.com/showArticle.jhtml?articleID=9900483" rel="nofollow">Introduction to Serial Peripheral Interface</a> article on embedded.com</li>
<li><a href="http://www.epanorama.net/links/serialbus.html" class="external text" title="http://www.epanorama.net/links/serialbus.html" rel="nofollow">Serial buses information page</a></li>
<li><a href="http://www.mct.net/faq/spi.html" class="external text" title="http://www.mct.net/faq/spi.html" rel="nofollow">SPI Introduction</a> with helpful diagrams</li>
<li><a href="http://www.serialflash.com/" class="external text" title="http://www.serialflash.com/" rel="nofollow">Serial Flash</a> Lots of good information on SPI part manufacturers and models.</li>
<li><a href="http://ww1.microchip.com/downloads/en/DeviceDoc/spi.pdf" class="external text" title="http://ww1.microchip.com/downloads/en/DeviceDoc/spi.pdf" rel="nofollow">SPI - PICmicro Serial Peripheral Interface</a> Microchip (company) tutorial on SPI.</li>
<li><a href="http://www.zipcores.com/skin1/zipdocs/datasheets/spi_master.pdf" class="external text" title="http://www.zipcores.com/skin1/zipdocs/datasheets/spi_master.pdf" rel="nofollow">A commercial hardware implementation of SPI</a> written in <a href="/wiki/VHDL" title="VHDL">VHDL</a></li>
<li><a href="http://www.opencores.org/?do=project&amp;who=spi" class="external text" title="http://www.opencores.org/?do=project&amp;who=spi" rel="nofollow">OpenCores</a> Open Source implementation of SPI written in <a href="/wiki/Verilog" title="Verilog">Verilog</a>; <a href="http://www.opencores.org/?do=project&amp;who=simple_spi" class="external text" title="http://www.opencores.org/?do=project&amp;who=simple_spi" rel="nofollow">simpler MC68HC11 version</a></li>
</ul>


<!-- 
NewPP limit report
Preprocessor node count: 93/1000000
Post-expand include size: 0/2048000 bytes
Template argument size: 0/2048000 bytes
Expensive parser function count: 0/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:340476-0!1!0!default!!en!2 and timestamp 20090415133023 -->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus">http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/wiki/Category:Serial_buses" title="Category:Serial buses">Serial buses</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Serial_Peripheral_Interface_Bus" title="View the content page [c]" accesskey="c">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:Serial_Peripheral_Interface_Bus" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=edit" title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e">Edit this page</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;action=history" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Serial_Peripheral_Interface_Bus" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://upload.wikimedia.org/wikipedia/en/b/bc/Wiki.png);" href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
				<li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
				<li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Wikipedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if one exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search Wikipedia for this text" />
			</div></form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-interaction'>
		<h5>Interaction</h5>
		<div class='pBody'>
			<ul>
				<li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
				<li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-contact"><a href="/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Donate" title="Support us">Donate to Wikipedia</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Serial_Peripheral_Interface_Bus" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Serial_Peripheral_Interface_Bus" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=Serial_Peripheral_Interface_Bus&amp;oldid=281102894" title="Permanent link to this version of the page">Permanent link</a></li><li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Serial_Peripheral_Interface_Bus&amp;id=281102894">Cite this page</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>Languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-cs"><a href="http://cs.wikipedia.org/wiki/SPI">Česky</a></li>
				<li class="interwiki-de"><a href="http://de.wikipedia.org/wiki/Serial_Peripheral_Interface">Deutsch</a></li>
				<li class="interwiki-es"><a href="http://es.wikipedia.org/wiki/SPI">Español</a></li>
				<li class="interwiki-fr"><a href="http://fr.wikipedia.org/wiki/Serial_Peripheral_Interface">Français</a></li>
				<li class="interwiki-it"><a href="http://it.wikipedia.org/wiki/Serial_Peripheral_Interface">Italiano</a></li>
				<li class="interwiki-ja"><a href="http://ja.wikipedia.org/wiki/%E3%82%B7%E3%83%AA%E3%82%A2%E3%83%AB%E3%83%BB%E3%83%9A%E3%83%AA%E3%83%95%E3%82%A7%E3%83%A9%E3%83%AB%E3%83%BB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9">日本語</a></li>
				<li class="interwiki-no"><a href="http://no.wikipedia.org/wiki/SPI">‪Norsk (bokmål)‬</a></li>
				<li class="interwiki-pl"><a href="http://pl.wikipedia.org/wiki/Serial_Peripheral_Interface">Polski</a></li>
				<li class="interwiki-pt"><a href="http://pt.wikipedia.org/wiki/Serial_Peripheral_Interface">Português</a></li>
				<li class="interwiki-ru"><a href="http://ru.wikipedia.org/wiki/Serial_Peripheral_Interface">Русский</a></li>
				<li class="interwiki-sv"><a href="http://sv.wikipedia.org/wiki/Serial_Peripheral_Interface">Svenska</a></li>
				<li class="interwiki-zh"><a href="http://zh.wikipedia.org/wiki/%E5%BA%8F%E5%88%97%E5%91%A8%E9%82%8A%E4%BB%8B%E9%9D%A2">中文</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 1 April 2009, at 16:32 (UTC).</li>
					<li id="copyright">All text is available under the terms of the <a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_the_GNU_Free_Documentation_License" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Copyrights" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc.</a>, a U.S. registered <a class='internal' href="http://en.wikipedia.org/wiki/501%28c%29#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="http://en.wikipedia.org/wiki/Non-profit_organization" title="Non-profit organization">nonprofit</a> <a href="http://en.wikipedia.org/wiki/Charitable_organization" title="Charitable organization">charity</a>.<br /></li>
					<li id="privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
					<li id="disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served by srv200 in 0.083 secs. --></body></html>
