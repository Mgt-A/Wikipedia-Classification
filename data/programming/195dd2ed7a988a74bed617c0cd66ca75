<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15alpha" />
		<meta name="keywords" content="Read-copy-update,1995,Application Programming Interface,August 15,Barrier (computer science),Central processing unit,Concurrency control,Contention,Critical section,DEC Alpha,Deadlock" />
		<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Read-copy-update&amp;action=edit" />
		<link rel="edit" title="Edit this page" href="/w/index.php?title=Read-copy-update&amp;action=edit" />
		<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<link rel="alternate" type="application/rss+xml" title="Wikipedia RSS Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom Feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Read-copy-update - Wikipedia, the free encyclopedia</title>
		<link rel="stylesheet" href="/skins-1.5/common/shared.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/common/commonPrint.css?207xx" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins-1.5/monobook/main.css?207xx" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins-1.5/chick/main.css?207xx" type="text/css" media="handheld" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE50Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins-1.5/monobook/IE55Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins-1.5/monobook/IE60Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins-1.5/monobook/IE70Fixes.css?207xx" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
		<link rel="stylesheet" href="/w/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" />
		<link rel="stylesheet" href="/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins-1.5/common/IEFixes.js?207xx"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins-1.5";
		var wgArticlePath = "/wiki/$1";
		var wgScriptPath = "/w";
		var wgScript = "/w/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://en.wikipedia.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Read-copy-update";
		var wgTitle = "Read-copy-update";
		var wgAction = "view";
		var wgArticleId = "284371";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 279350832;
		var wgVersion = "1.15alpha";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgMWSuggestTemplate = "http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest";
		var wgDBname = "enwiki";
		var wgSearchNamespaces = [0];
		var wgMWSuggestMessages = ["with suggestions", "no suggestions"];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins-1.5/common/wikibits.js?207xx"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/skins-1.5/common/ajax.js?207xx"></script>
		<script type="text/javascript" src="/skins-1.5/common/mwsuggest.js?207xx"></script>
<script type="text/javascript">/*<![CDATA[*/
var wgNotice='';var wgNoticeLocal='';
/*]]>*/</script>		<script type="text/javascript" src="http://upload.wikimedia.org/centralnotice/wikipedia/en/centralnotice.js?207xx"></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Read-copy-update skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
		<div id="siteNotice"><script type='text/javascript'>if (wgNotice != '') document.writeln(wgNotice);</script></div>		<h1 id="firstHeading" class="firstHeading">Read-copy-update</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Wikipedia, the free encyclopedia</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p><b>Read-copy-update</b> (RCU) is an operating system kernel technology for improving performance on computers with more than one <a href="/wiki/Central_processing_unit" title="Central processing unit">CPU</a>.</p>
<p>More technically it is a <a href="/wiki/Synchronization_(computer_science)" title="Synchronization (computer science)">synchronization</a> mechanism which can sometimes be used as an alternative to a <a href="/wiki/Readers-writer_lock" title="Readers-writer lock">readers-writer lock</a>. It allows extremely low overhead, <a href="/wiki/Non-blocking_synchronization" title="Non-blocking synchronization">wait-free</a> reads. However, RCU updates can be expensive, as they must leave the old versions of the data structure in place to accommodate pre-existing readers. These old versions are reclaimed after all pre-existing readers finish their accesses. RCU can be put to a number of other tasks, including dynamically changing NMI (<a href="/wiki/Non-Maskable_interrupt" title="Non-Maskable interrupt" class="mw-redirect">Non-Maskable interrupt</a>) handlers and implementing lazy <a href="/wiki/Barrier_(computer_science)" title="Barrier (computer science)">barriers</a>, but it is most frequently used as replacement for reader-writer locking.</p>
<p>RCU is available in a number of operating systems, including version 2.6 of the <a href="/wiki/Linux_kernel" title="Linux kernel">Linux kernel</a>. The technique is covered by <a href="/wiki/United_States_Patent_and_Trademark_Office" title="United States Patent and Trademark Office">U.S.</a> <a href="/wiki/Software_patent" title="Software patent">software patent</a> 5,442,758, issued <span class="mw-formatted-date" title="1995-08-15"><span class="mw-formatted-date" title="08-15"><a href="/wiki/August_15" title="August 15">August 15</a></span>, <a href="/wiki/1995" title="1995">1995</a></span> and assigned to <a href="/wiki/Sequent_Computer_Systems" title="Sequent Computer Systems">Sequent Computer Systems</a>, as well as by 5,608,893, 5,727,528, 6,219,690, and 6,886,162. The now-expired US Patent 4,809,168 covers a closely related technique. RCU is also the topic of one claim in the <a href="/wiki/SCO_v._IBM#Increased_damages_claims.2C_and_read-copy-update_claims" title="SCO v. IBM">SCO v. IBM</a> <a href="/wiki/Lawsuit" title="Lawsuit">lawsuit</a>.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1"><a href="#Example_API"><span class="tocnumber">2</span> <span class="toctext">Example API</span></a>
<ul>
<li class="toclevel-2"><a href="#rcu_read_lock"><span class="tocnumber">2.1</span> <span class="toctext">rcu_read_lock</span></a></li>
<li class="toclevel-2"><a href="#rcu_read_unlock"><span class="tocnumber">2.2</span> <span class="toctext">rcu_read_unlock</span></a></li>
<li class="toclevel-2"><a href="#synchronize_rcu_.2F_call_rcu"><span class="tocnumber">2.3</span> <span class="toctext">synchronize_rcu / call_rcu</span></a></li>
<li class="toclevel-2"><a href="#rcu_assign_pointer"><span class="tocnumber">2.4</span> <span class="toctext">rcu_assign_pointer</span></a></li>
<li class="toclevel-2"><a href="#rcu_dereference"><span class="tocnumber">2.5</span> <span class="toctext">rcu_dereference</span></a></li>
<li class="toclevel-2"><a href="#Relation_Among_RCU_APIs"><span class="tocnumber">2.6</span> <span class="toctext">Relation Among RCU APIs</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#What_is_a_Simple_Implementation_of_RCU.3F"><span class="tocnumber">3</span> <span class="toctext">What is a Simple Implementation of RCU?</span></a></li>
<li class="toclevel-1"><a href="#Analogy_with_Reader-Writer_Locking"><span class="tocnumber">4</span> <span class="toctext">Analogy with Reader-Writer Locking</span></a></li>
<li class="toclevel-1"><a href="#Why_Call_it_.22Read-Copy_Update.22.3F"><span class="tocnumber">5</span> <span class="toctext">Why Call it "Read-Copy Update"?</span></a></li>
<li class="toclevel-1"><a href="#History"><span class="tocnumber">6</span> <span class="toctext">History</span></a></li>
<li class="toclevel-1"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a href="#External_links"><span class="tocnumber">8</span> <span class="toctext">External links</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Overview" id="Overview"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a>]</span> <span class="mw-headline">Overview</span></h2>
<p>The basic idea behind RCU is to split updates into "removal" and "reclamation" phases. The removal phase removes references to data items within a data structure (possibly by replacing them with references to new versions of these data items), and can run concurrently with readers. The reason that it is safe to run the removal phase concurrently with readers is the semantics of modern CPUs guarantee that readers will see either the old or the new version of the data structure rather than a partially updated reference. The reclamation phase does the work of reclaiming (e.g., freeing) the data items removed from the data structure during the removal phase. Because reclaiming data items can disrupt any readers concurrently referencing those data items, the reclamation phase must not start until readers no longer hold references to those data items.</p>
<p>Splitting an update into removal and reclamation phases allows the updater to perform the removal phase immediately, and to defer the reclamation phase until all readers active during the removal phase have completed, either by blocking until they finish or by registering a callback that is invoked after they finish. Only readers that are active during the removal phase need be considered, because any reader starting after the removal phase will be unable to gain a reference to the removed data items, and therefore cannot be disrupted by the reclamation phase.</p>
<p>So the typical RCU update sequence goes something like the following:</p>
<ol>
<li>Remove pointers to a data structure, so that subsequent readers cannot gain a reference to it.</li>
<li>Wait for all previous readers to complete their RCU read-side critical sections.</li>
<li>At this point, there cannot be any readers who hold references to the data structure, so it now may safely be reclaimed (e.g., freed, perhaps using <code>kfree</code> in the Linux kernel).</li>
</ol>
<p>Step (2) above is the key idea underlying RCU's deferred destruction. The ability to wait until all readers are done allows RCU readers to use much lighter-weight synchronization — in some cases, absolutely no synchronization at all. In contrast, in more conventional lock-based schemes, readers must use heavy-weight synchronization in order to prevent an updater from deleting the data structure out from under them. This is because lock-based updaters typically update data items in place, and must therefore exclude readers. In contrast, RCU-based updaters typically take advantage of the fact that writes to single aligned pointers are atomic on modern CPUs, allowing atomic insertion, removal, and replacement of data items in a linked structure without disrupting readers. Concurrent RCU readers can then continue accessing the old versions, and can dispense with the atomic operations, memory barriers, and cache misses that are so expensive on modern <a href="/wiki/Symmetric_multiprocessing" title="Symmetric multiprocessing">SMP</a> computer systems, even in absence of lock contention. Note that <a href="/wiki/Garbage_collection_(computer_science)" title="Garbage collection (computer science)">garbage collectors</a>, where available, may be used to perform step (2).</p>
<p>In the three-step procedure shown above, the updater is performing both the removal and the reclamation step, but it is often helpful for an entirely different thread to do the reclamation, as is in fact the case in the Linux kernel's directory-entry cache (dcache). Even if the same thread performs both the update step (step (1) above) and the reclamation step (step (3) above), it is often helpful to think of them separately. For example, RCU readers and updaters need not communicate at all, but RCU provides implicit low-overhead communication between readers and reclaimers, namely, in step (2) above.</p>
<p><a name="Example_API" id="Example_API"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=2" title="Edit section: Example API">edit</a>]</span> <span class="mw-headline">Example API</span></h2>
<p>The implementation of RCU in version 2.6 of the Linux kernel is among the better-known RCU implementations, and will be used as an example RCU API in the remainder of this article. The core Linux kernel RCU API (<a href="/wiki/Application_Programming_Interface" title="Application Programming Interface" class="mw-redirect">Application Programming Interface</a>) is quite small:</p>
<ol>
<li>rcu_read_lock()</li>
<li>rcu_read_unlock()</li>
<li>synchronize_rcu() / call_rcu()</li>
<li>rcu_assign_pointer()</li>
<li>rcu_dereference()</li>
</ol>
<p>The Linux kernel contains numerous other RCU-related APIs, and these may be found elsewhere <a href="http://www.rdrop.com/users/paulmck/RCU/whatisRCU.html" class="external autonumber" title="http://www.rdrop.com/users/paulmck/RCU/whatisRCU.html" rel="nofollow">[1]</a>.</p>
<p><a name="rcu_read_lock" id="rcu_read_lock"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=3" title="Edit section: rcu_read_lock">edit</a>]</span> <span class="mw-headline">rcu_read_lock</span></h3>
<p>Used by a reader to inform the reclaimer that the reader is entering an RCU read-side <a href="/wiki/Critical_section" title="Critical section">critical section</a>. Any RCU-protected data structure accessed during an RCU read-side critical section is guaranteed to remain unreclaimed for the full duration of that critical section. Other schemes, such as reference counts, may be used in conjunction with RCU to maintain longer-term references to data structures.</p>
<p><a name="rcu_read_unlock" id="rcu_read_unlock"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=4" title="Edit section: rcu_read_unlock">edit</a>]</span> <span class="mw-headline">rcu_read_unlock</span></h3>
<p>Used by a reader to inform the reclaimer that the reader is exiting an RCU read-side critical section. Note that RCU read-side critical sections may be nested and/or overlapping.</p>
<p><a name="synchronize_rcu_.2F_call_rcu" id="synchronize_rcu_.2F_call_rcu"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=5" title="Edit section: synchronize_rcu / call_rcu">edit</a>]</span> <span class="mw-headline">synchronize_rcu / call_rcu</span></h3>
<p>Marks the end of updater code and the beginning of reclaimer code. It does this by blocking until all pre-existing RCU read-side critical sections on all CPUs have completed. Note that <code>synchronize_rcu</code> will <i>not</i> necessarily wait for any subsequent RCU read-side critical sections to complete. For example, consider the following sequence of events:</p>
<pre>
	         CPU 0                  CPU 1                 CPU 2
	     ----------------- ------------------------- ---------------
	 1.  rcu_read_lock()
	 2.                    enters synchronize_rcu()
	 3.                                               rcu_read_lock()
	 4.  rcu_read_unlock()
	 5.                     exits synchronize_rcu()
	 6.                                              rcu_read_unlock()
</pre>
<p>To reiterate, <code>synchronize_rcu</code> waits only for ongoing RCU read-side critical sections to complete, not necessarily for any that begin after <code>synchronize_rcu</code> is invoked.</p>
<p>Of course, synchronize_rcu does not necessarily return immediately after the last pre-existing RCU read-side critical section completes. For one thing, there might well be scheduling delays. For another thing, many RCU implementations process requests in batches in order to improve efficiencies, which can further delay <code>synchronize_rcu</code>.</p>
<p>Since <code>synchronize_rcu</code> is the API that must figure out when readers are done, its implementation is key to RCU. For RCU to be useful in all but the most read-intensive situations, <code>synchronize_rcu</code>'s overhead must also be quite small.</p>
<p>The <code>call_rcu</code> API is a callback form of <code>synchronize_rcu</code>, and is described in more detail in a later section. Instead of blocking, it registers a function and argument which are invoked after all ongoing RCU read-side critical sections have completed. This callback variant is particularly useful in situations where it is illegal to block.</p>
<p><a name="rcu_assign_pointer" id="rcu_assign_pointer"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=6" title="Edit section: rcu_assign_pointer">edit</a>]</span> <span class="mw-headline">rcu_assign_pointer</span></h3>
<p>The updater uses this function to assign a new value to an RCU-protected pointer, in order to safely communicate the change in value from the updater to the reader. This function returns the new value, and also executes any <a href="/wiki/Memory_barrier" title="Memory barrier">memory barrier</a> instructions required for a given CPU architecture. Perhaps more importantly, it serves to document which pointers are protected by RCU.</p>
<p><a name="rcu_dereference" id="rcu_dereference"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=7" title="Edit section: rcu_dereference">edit</a>]</span> <span class="mw-headline">rcu_dereference</span></h3>
<p>The reader uses <code>rcu_dereference</code> to fetch an RCU-protected pointer, which returns a value that may then be safely dereferenced. Note that <code>rcu_dereference</code> does not actually dereference the pointer, instead, it protects the pointer for later dereferencing. It also executes any needed memory-barrier instructions for a given CPU architecture. Currently, only <a href="/wiki/DEC_Alpha" title="DEC Alpha">DEC Alpha</a> needs memory barriers within <code>rcu_dereference</code>; on other CPUs, it compiles to nothing, not even a compiler directive.</p>
<p>Note that the value returned by <code>rcu_dereference</code> is valid only within the enclosing RCU read-side critical section. For example, the following is not legal:</p>
<pre>
		rcu_read_lock();
		p = rcu_dereference(head.next);
		rcu_read_unlock();
		x = p-&gt;address;
		rcu_read_lock();
		y = p-&gt;data;
		rcu_read_unlock();
</pre>
<p>Holding a reference from one RCU read-side critical section to another is just as illegal as holding a reference from one lock-based critical section to another! Similarly, using a reference outside of the critical section in which it was acquired is just as illegal as doing so with normal locking.</p>
<p>As with <code>rcu_assign_pointer</code>, an important function of <code>rcu_dereference</code> is to document which pointers are protected by RCU.</p>
<p><a name="Relation_Among_RCU_APIs" id="Relation_Among_RCU_APIs"></a></p>
<h3><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=8" title="Edit section: Relation Among RCU APIs">edit</a>]</span> <span class="mw-headline">Relation Among RCU APIs</span></h3>
<p>The following diagram shows how each API communicates among the reader, updater, and reclaimer.</p>
<div class="thumb tnone">
<div class="thumbinner" style="width:682px;"><a href="/wiki/File:Rcu_api.jpg" class="image" title="Rcu api.jpg"><img alt="" src="http://upload.wikimedia.org/wikipedia/en/thumb/6/6b/Rcu_api.jpg/680px-Rcu_api.jpg" width="680" height="280" border="0" class="thumbimage" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="/wiki/File:Rcu_api.jpg" class="internal" title="Enlarge"><img src="/skins-1.5/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>
</div>
</div>
</div>
<p>The RCU infrastructure observes the time sequence of <code>rcu_read_lock</code>, <code>rcu_read_unlock</code>, <code>synchronize_rcu</code>, and <code>call_rcu</code> invocations in order to determine when (1) <code>synchronize_rcu</code> invocations may return to their callers and (2) <code>call_rcu</code> callbacks may be invoked. Efficient implementations of the RCU infrastructure make heavy use of batching in order to amortize their overhead over many uses of the corresponding APIs.</p>
<p><a name="What_is_a_Simple_Implementation_of_RCU.3F" id="What_is_a_Simple_Implementation_of_RCU.3F"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=9" title="Edit section: What is a Simple Implementation of RCU?">edit</a>]</span> <span class="mw-headline">What is a Simple Implementation of RCU?</span></h2>
<p>RCU has extremely simple "toy" implementations that can aid understanding of RCU. This section presents one such "toy" implementation that is related to the "classic" RCU implementation in the Linux kernel. Note that this implementation works only in a non-preemptive environment.</p>
<pre>
	void rcu_read_lock(void) { }

	void rcu_read_unlock(void) { }

	void synchronize_rcu(void)
	{
		int cpu;

		for_each_cpu(cpu)
			run_on(cpu);
	}
</pre>
<p>You can ignore <code>rcu_assign_pointer</code> and <code>rcu_dereference</code> without missing much. But here they are anyway. And whatever you do, don't forget about them when submitting Linux-kernel patches that make use of RCU!</p>
<pre>
	#define rcu_assign_pointer(p, v)	({ \
							smp_wmb(); \
							(p) = (v); \
						})

	#define rcu_dereference(p)     ({ \
					typeof(p) _________p1 = p; \
					smp_read_barrier_depends(); \
					(_________p1); \
					})
</pre>
<p>Note that <code>rcu_read_lock</code> and <code>rcu_read_unlock</code> do absolutely nothing. This is the great strength of classic RCU in a non-preemptive kernel: read-side overhead is precisely zero, at least on non-Alpha CPUs. And there is absolutely no way that <code>rcu_read_lock</code> can participate in a <a href="/wiki/Deadlock" title="Deadlock">deadlock</a> cycle, cause a realtime process to miss its scheduling deadline, precipitate <a href="/wiki/Priority_inversion" title="Priority inversion">priority inversion</a>, or result in high <a href="/wiki/Lock_(computer_science)" title="Lock (computer science)">lock contention</a>.</p>
<p>The implementation of <code>synchronize_rcu</code> simply schedules itself on each CPU in turn. This guarantees that all readers of the old version of the data structure have completed, because it is illegal to block while in an RCU read-side critical section. Therefore, if a given CPU executes a context switch (to schedule another process), we know that it must have completed all preceding RCU read-side critical sections. Once all CPUs have executed a context switch, then all preceding RCU read-side critical sections will have completed.</p>
<p>For example, suppose that we remove a data item from its structure and then invoke <code>synchronize_rcu</code>. Once <code>synchronize_rcu</code> returns, we are guaranteed that there are no RCU read-side critical sections holding a reference to that data item, so we can safely reclaim it.</p>
<p><a name="Analogy_with_Reader-Writer_Locking" id="Analogy_with_Reader-Writer_Locking"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=10" title="Edit section: Analogy with Reader-Writer Locking">edit</a>]</span> <span class="mw-headline">Analogy with Reader-Writer Locking</span></h2>
<p>Although RCU can be used in many different ways, a very common use of RCU is analogous to reader-writer locking. The following side-by-side code display shows how closely related reader-writer locking (on the left) and RCU (on the right) can be.</p>
<pre>
 1 struct el {                           1 struct el {
 2   struct list_head lp;                2   struct list_head lp;
 3   long key;                           3   long key;
 4   spinlock_t mutex;                   4   spinlock_t mutex;
 5   int data;                           5   int data;
 6   /* Other data fields */             6   /* Other data fields */
 7 };                                    7 };
 8 DEFINE_RWLOCK(listmutex);             8 DEFINE_SPINLOCK(listmutex);
 9 LIST_HEAD(head);                      9 LIST_HEAD(head);

 1 int search(long key, int *result)     1 int search(long key, int *result)
 2 {                                     2 {
 3   struct el *p;                       3   struct el *p;
 4                                       4
 5   read_lock(&amp;listmutex);              5   rcu_read_lock();
 6   list_for_each_entry(p, &amp;head, lp) { 6   list_for_each_entry_rcu(p, &amp;head, lp) {
 7     if (p-&gt;key == key) {              7     if (p-&gt;key == key) {
 8       *result = p-&gt;data;              8       *result = p-&gt;data;
 9       read_unlock(&amp;listmutex);        9       rcu_read_unlock();
10       return 1;                      10       return 1;
11     }                                11     }
12   }                                  12   }
13   read_unlock(&amp;listmutex);           13   rcu_read_unlock();
14   return 0;                          14   return 0;
15 }                                    15 }

 1 int delete(long key)                  1 int delete(long key)
 2 {                                     2 {
 3   struct el *p;                       3   struct el *p;
 4                                       4
 5   write_lock(&amp;listmutex);             5   spin_lock(&amp;listmutex);
 6   list_for_each_entry(p, &amp;head, lp) { 6   list_for_each_entry(p, &amp;head, lp) {
 7     if (p-&gt;key == key) {              7     if (p-&gt;key == key) {
 8       list_del(&amp;p-&gt;lp);               8       list_del_rcu(&amp;p-&gt;lp);
 9       write_unlock(&amp;listmutex);       9       spin_unlock(&amp;listmutex);
                                        10       synchronize_rcu();
10       kfree(p);                      11       kfree(p);
11       return 1;                      12       return 1;
12     }                                13     }
13   }                                  14   }
14   write_unlock(&amp;listmutex);          15   spin_unlock(&amp;listmutex);
15   return 0;                          16   return 0;
16 }                                    17 }
</pre>
<p>The differences between the two approaches are quite small. Read-side locking moves to <code>rcu_read_lock</code> and <code>rcu_read_unlock</code>, update-side locking moves from a reader-writer lock to a simple spinlock, and a <code>synchronize_rcu</code> precedes the <code>kfree</code>.</p>
<p>However, there is one potential catch: the read-side and update-side critical sections can now run concurrently. In many cases, this will not be a problem, but it is necessary to check carefully regardless. For example, if multiple independent list updates must be seen as a single atomic update, converting to RCU will require special care.</p>
<p>Also, the presence of <code>synchronize_rcu</code> means that the RCU version of <code>delete</code> can now block. If this is a problem, there is a callback-based mechanism that never blocks, namely <code>call_rcu</code>, that can be used in place of <code>synchronize_rcu</code>.</p>
<p><a name="Why_Call_it_.22Read-Copy_Update.22.3F" id="Why_Call_it_.22Read-Copy_Update.22.3F"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=11" title="Edit section: Why Call it &quot;Read-Copy Update&quot;?">edit</a>]</span> <span class="mw-headline">Why Call it "Read-Copy Update"?</span></h2>
<p>The name comes from the way that RCU is used to update a linked structure in place. A thread wishing to do this uses the following steps:</p>
<ul>
<li>create a new structure,</li>
<li>copy the data from the old structure into the new one, and save a <a href="/wiki/Pointer" title="Pointer" class="mw-redirect">pointer</a> to the old structure,</li>
<li>modify the new, copied, structure</li>
<li>update the global pointer to refer to the new structure, and then</li>
<li>sleep until the operating system kernel determines that there are no readers left using the old structure, for example, in the Linux kernel, by using synchronize_rcu().</li>
</ul>
<p>When the thread which made the copy is awakened by the kernel, it can safely deallocate the old structure.</p>
<p>So the structure is <i>read</i> concurrently with a thread <i>copying</i> in order to do an <i>update</i>, hence the name "read-copy update". The abbreviation "RCU" was one of many contributions by the Linux community. Other names for similar techniques include <i>passive serialization</i> and <i>MP defer</i> by <a href="/wiki/VM_(Operating_system)" title="VM (Operating system)" class="mw-redirect">VM/XA</a> programmers and <i>generations</i> by <a href="/wiki/K42" title="K42">K42</a> and <a href="http://www.eecg.toronto.edu/~tornado" class="external text" title="http://www.eecg.toronto.edu/~tornado" rel="nofollow">Tornado</a> programmers.</p>
<p><a name="History" id="History"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=12" title="Edit section: History">edit</a>]</span> <span class="mw-headline">History</span></h2>
<p>Techniques and mechanisms resembling RCU have been independently invented multiple times:</p>
<ol>
<li><a href="/wiki/H._T._Kung" title="H. T. Kung">H. T. Kung</a> and Q. Lehman described use of garbage collectors to implement RCU-like access to a binary search tree in the September 1980 issue of ACM Transactions on Database Systems.</li>
<li><a href="/wiki/Udi_Manber" title="Udi Manber">Udi Manber</a> and Richard Ladner extended Kung's and Lehman's work to non-garbage-collected environments by deferring reclamation until all threads running at removal time have terminated, which works in environments that do not have long-lived threads. This was published as a technical report in 1982 and in the September 1987 issue of ACM Transactions on Database Systems.</li>
<li>J. Hennessy, D. Osisek, and J. Seigh were granted US Patent 4,809,168 in 1989 (since lapsed). This patent describes an RCU-like mechanism that was apparently used in <a href="/wiki/VM_(Operating_system)" title="VM (Operating system)" class="mw-redirect">VM/XA</a> on <a href="/wiki/IBM_Mainframe" title="IBM Mainframe" class="mw-redirect">IBM Mainframes</a>.</li>
<li><a href="/wiki/William_Pugh" title="William Pugh">William Pugh</a> described an RCU-like mechanism that relied on explicit flag-setting by readers in a technical report entitled "Concurrent Maintenance of Skip Lists" published in 1990.</li>
<li>Gregory R. Adams described "chaotic relaxation" in his 1991 book entitled "Concurrent programming, principles, and practices". Chaotic relaxation is a <a href="/wiki/Numerical_linear_algebra" title="Numerical linear algebra">Numerical linear algebra</a> technique that reduces synchronization overhead among CPUs computing results using successive approximations. This technique has some resemblance to RCU in that readers may be referring to different versions of data concurrently.</li>
<li>J. Slingwine and P. E. McKenney received US Patent 5,442,758 in August 1995, which describes RCU as implemented in DYNIX/ptx and later in the Linux kernel.</li>
<li>B. Gamsa, O. Krieger, J. Appavoo, and M. Stumm described an RCU-like mechanism used in the <a href="/wiki/University_of_Toronto" title="University of Toronto">University of Toronto</a> <a href="http://www.eecg.toronto.edu/~tornado/" class="external text" title="http://www.eecg.toronto.edu/~tornado/" rel="nofollow">Tornado research operating system</a> and the closely related <a href="/wiki/IBM_Research" title="IBM Research">IBM Research</a> <a href="/wiki/K42" title="K42">K42</a> research operating systems. See their <a href="http://www.usenix.org/events/osdi99/full_papers/gamsa/gamsa.pdf" class="external text" title="http://www.usenix.org/events/osdi99/full_papers/gamsa/gamsa.pdf" rel="nofollow">1999 OSDI paper.</a></li>
<li>D. Sarma added RCU to <a href="http://www.kernel.org/pub/linux/kernel/v2.5/ChangeLog-2.5.43" class="external text" title="http://www.kernel.org/pub/linux/kernel/v2.5/ChangeLog-2.5.43" rel="nofollow">version 2.5.43 of the Linux kernel</a> in October 2002.</li>
</ol>
<p>A number of researchers, including <a href="/wiki/Van_Jacobson" title="Van Jacobson">Van Jacobson</a>, Aju John, and <a href="/wiki/Richard_Rashid" title="Richard Rashid">Richard Rashid</a> have proposed deferring reclamation for a fixed period of time, an approach that might be useful in <a href="/wiki/Hard_real_time" title="Hard real time" class="mw-redirect">hard real time</a> software.</p>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=13" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2>
<ul>
<li><a href="/wiki/Concurrency_control" title="Concurrency control">Concurrency control</a></li>
<li><a href="/wiki/Multiversion_concurrency_control" title="Multiversion concurrency control">Multiversion concurrency control</a></li>
<li><a href="/wiki/Contention" title="Contention">Contention</a></li>
<li><a href="/wiki/Deadlock" title="Deadlock">Deadlock</a></li>
<li><a href="/wiki/Lock_(software_engineering)" title="Lock (software engineering)" class="mw-redirect">Lock (software engineering)</a></li>
<li><a href="/wiki/Lock-free_and_wait-free_algorithms" title="Lock-free and wait-free algorithms" class="mw-redirect">Lock-free and wait-free algorithms</a></li>
<li><a href="/wiki/Memory_barrier" title="Memory barrier">Memory barrier</a></li>
<li><a href="/wiki/Mutual_exclusion" title="Mutual exclusion">Mutual exclusion</a></li>
<li><a href="/wiki/Non-blocking_synchronization" title="Non-blocking synchronization">Non-blocking synchronization</a></li>
<li><a href="/wiki/Pre-emptive_multitasking" title="Pre-emptive multitasking" class="mw-redirect">Pre-emptive multitasking</a></li>
<li><a href="/wiki/Priority_inversion" title="Priority inversion">Priority inversion</a></li>
<li><a href="/wiki/Real-time_computing" title="Real-time computing">Real-time computing</a></li>
<li><a href="/wiki/Resource_starvation" title="Resource starvation">Starvation</a></li>
<li><a href="/wiki/Synchronization" title="Synchronization">Synchronization</a></li>
</ul>
<p><a name="External_links" id="External_links"></a></p>
<h2><span class="editsection">[<a href="/w/index.php?title=Read-copy-update&amp;action=edit&amp;section=14" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2>
<ul>
<li><a href="http://lwn.net/Articles/262464/" class="external text" title="http://lwn.net/Articles/262464/" rel="nofollow">Paul McKenney and Jonathan Walpole: What is RCU, Fundamentally?</a>, <a href="http://lwn.net/Articles/263130/" class="external text" title="http://lwn.net/Articles/263130/" rel="nofollow">What is RCU? Part 2: Usage</a>, and <a href="http://lwn.net/Articles/264090/" class="external text" title="http://lwn.net/Articles/264090/" rel="nofollow">RCU part 3: the RCU API</a>. <i><a href="/wiki/Linux_Weekly_News" title="Linux Weekly News" class="mw-redirect">Linux Weekly News</a>.</i></li>
<li><a href="http://www.rdrop.com/users/paulmck/RCU/" class="external text" title="http://www.rdrop.com/users/paulmck/RCU/" rel="nofollow">Paul McKenney's RCU Page</a></li>
<li>Hart, McKenney, and Demke Brown (2006). <i><a href="http://www.rdrop.com/users/paulmck/RCU/hart_ipdps06.pdf" class="external text" title="http://www.rdrop.com/users/paulmck/RCU/hart_ipdps06.pdf" rel="nofollow">Making Lockless Synchronization Fast: Performance Implications of Memory Reclamation</a></i> An <a href="http://www.ipdps.org/ipdps2006/2006_advance_program.html" class="external text" title="http://www.ipdps.org/ipdps2006/2006_advance_program.html" rel="nofollow">IPDPS 2006 Best Paper</a> comparing RCU's performance to that of other lockless synchronization mechanisms. <i><a href="http://dx.doi.org/10.1016/j.jpdc.2007.04.010" class="external text" title="http://dx.doi.org/10.1016/j.jpdc.2007.04.010" rel="nofollow">Journal version</a></i> (including Walpole as author).</li>
<li>Paul E. McKenney (2004). <i><a href="http://www.rdrop.com/users/paulmck/rclock/RCUdissertation.2004.07.14e1.pdf" class="external text" title="http://www.rdrop.com/users/paulmck/rclock/RCUdissertation.2004.07.14e1.pdf" rel="nofollow">Exploiting Deferred Destruction: An Analysis of Read-Copy-Update Techniques in Operating System Kernels</a></i> Dissertation.</li>
<li><span class="plainlinks"><a href="http://patft.uspto.gov/netacgi/nph-Parser?patentnumber=5442758" class="external text" title="http://patft.uspto.gov/netacgi/nph-Parser?patentnumber=5442758" rel="nofollow">U.S. patent 5,442,758</a></span><span class="PDFlink noprint"><a href="http://www.pat2pdf.org/pat2pdf/foo.pl?number=5442758" class="external text" title="http://www.pat2pdf.org/pat2pdf/foo.pl?number=5442758" rel="nofollow">&#160;</a></span> (1995) "Apparatus and method for achieving reduced overhead mutual exclusion and maintaining coherency in a multiprocessor system utilizing execution history and thread monitoring"</li>
<li><a href="http://www.cs.toronto.edu/~tomhart/perflab/ipdps06.tgz" class="external text" title="http://www.cs.toronto.edu/~tomhart/perflab/ipdps06.tgz" rel="nofollow">Tom Hart's user-application-level implementation of RCU</a> along with some performance microbenchmark infrastructure by Tom Hart and Paul McKenney.</li>
<li><cite style="font-style:normal" class="" id="CITEREFPaul_McKenney2003">Paul McKenney (2003). "<a href="http://www.linuxjournal.com/article.php?sid=6993" class="external text" title="http://www.linuxjournal.com/article.php?sid=6993" rel="nofollow">Using RCU in the Linux 2.5 Kernel</a>". <i><a href="/wiki/Linux_Journal" title="Linux Journal">Linux Journal</a></i>.</cite><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.atitle=%5Bhttp%3A%2F%2Fwww.linuxjournal.com%2Farticle.php%3Fsid%3D6993+Using+RCU+in+the+Linux+2.5+Kernel%5D&amp;rft.jtitle=%5B%5BLinux+Journal%5D%5D&amp;rft.aulast=Paul+McKenney&amp;rft.au=Paul+McKenney&amp;rft.date=2003&amp;rfr_id=info:sid/en.wikipedia.org:Read-copy-update"><span style="display: none;">&#160;</span></span></li>
<li><a href="http://lwn.net/Articles/202847/" class="external text" title="http://lwn.net/Articles/202847/" rel="nofollow">Paul McKenney: Sleepable RCU</a>. <i><a href="/wiki/Linux_Weekly_News" title="Linux Weekly News" class="mw-redirect">Linux Weekly News</a>.</i></li>
</ul>


<!-- 
NewPP limit report
Preprocessor node count: 488/1000000
Post-expand include size: 2494/2048000 bytes
Template argument size: 848/2048000 bytes
Expensive parser function count: 0/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:284371-0!1!0!default!!en!2 and timestamp 20090423051141 -->
<div class="printfooter">
Retrieved from "<a href="http://en.wikipedia.org/wiki/Read-copy-update">http://en.wikipedia.org/wiki/Read-copy-update</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>:&#32;<span dir='ltr'><a href="/wiki/Category:Operating_system_technology" title="Category:Operating system technology">Operating system technology</a></span> | <span dir='ltr'><a href="/wiki/Category:Concurrency_control" title="Category:Concurrency control">Concurrency control</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/Read-copy-update" title="View the content page [c]" accesskey="c">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:Read-copy-update" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=Read-copy-update&amp;action=edit" title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e">Edit this page</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=Read-copy-update&amp;action=history" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Read-copy-update" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://upload.wikimedia.org/wikipedia/en/b/bc/Wiki.png);" href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
				<li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
				<li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search Wikipedia [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if one exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search Wikipedia for this text" />
			</div></form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-interaction'>
		<h5>Interaction</h5>
		<div class='pBody'>
			<ul>
				<li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
				<li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-contact"><a href="/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
				<li id="n-sitesupport"><a href="http://wikimediafoundation.org/wiki/Donate" title="Support us">Donate to Wikipedia</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Read-copy-update" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Read-copy-update" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=Read-copy-update&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=Read-copy-update&amp;oldid=279350832" title="Permanent link to this version of the page">Permanent link</a></li><li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Read-copy-update&amp;id=279350832">Cite this page</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>Languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-ja"><a href="http://ja.wikipedia.org/wiki/%E3%83%AA%E3%83%BC%E3%83%89%E3%83%BB%E3%82%B3%E3%83%94%E3%83%BC%E3%83%BB%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88">日本語</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins-1.5/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://wikimediafoundation.org/"><img src="/images/wikimedia-button.png" border="0" alt="Wikimedia Foundation"/></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 24 March 2009, at 12:46 (UTC).</li>
					<li id="copyright">All text is available under the terms of the <a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_the_GNU_Free_Documentation_License" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Copyrights" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br /> Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org">Wikimedia Foundation, Inc.</a>, a U.S. registered <a class='internal' href="http://en.wikipedia.org/wiki/501%28c%29#501.28c.29.283.29" title="501(c)(3)">501(c)(3)</a> <a href="http://wikimediafoundation.org/wiki/Deductibility_of_donations">tax-deductible</a> <a class='internal' href="http://en.wikipedia.org/wiki/Non-profit_organization" title="Non-profit organization">nonprofit</a> <a href="http://en.wikipedia.org/wiki/Charitable_organization" title="Charitable organization">charity</a>.<br /></li>
					<li id="privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
					<li id="disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served by srv203 in 0.045 secs. --></body></html>
